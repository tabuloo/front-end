var vS=Object.defineProperty;var bS=(t,e,s)=>e in t?vS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Ry=(t,e,s)=>bS(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function wS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q1={exports:{}},Yd={},H1={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=Symbol.for("react.element"),NS=Symbol.for("react.portal"),jS=Symbol.for("react.fragment"),_S=Symbol.for("react.strict_mode"),TS=Symbol.for("react.profiler"),ES=Symbol.for("react.provider"),CS=Symbol.for("react.context"),SS=Symbol.for("react.forward_ref"),kS=Symbol.for("react.suspense"),PS=Symbol.for("react.memo"),IS=Symbol.for("react.lazy"),Dy=Symbol.iterator;function AS(t){return t===null||typeof t!="object"?null:(t=Dy&&t[Dy]||t["@@iterator"],typeof t=="function"?t:null)}var W1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G1=Object.assign,K1={};function Za(t,e,s){this.props=t,this.context=e,this.refs=K1,this.updater=s||W1}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q1(){}Q1.prototype=Za.prototype;function lg(t,e,s){this.props=t,this.context=e,this.refs=K1,this.updater=s||W1}var cg=lg.prototype=new Q1;cg.constructor=lg;G1(cg,Za.prototype);cg.isPureReactComponent=!0;var My=Array.isArray,Y1=Object.prototype.hasOwnProperty,ug={current:null},X1={key:!0,ref:!0,__self:!0,__source:!0};function J1(t,e,s){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Y1.call(e,r)&&!X1.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Kl,type:t,key:a,ref:o,props:i,_owner:ug.current}}function RS(t,e){return{$$typeof:Kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kl}function DS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var Oy=/\/+/g;function am(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DS(""+t.key):e.toString(36)}function fu(t,e,s,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kl:case NS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+am(o,0):r,My(i)?(s="",t!=null&&(s=t.replace(Oy,"$&/")+"/"),fu(i,e,s,"",function(d){return d})):i!=null&&(dg(i)&&(i=RS(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Oy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",My(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+am(a,l);o+=fu(a,e,s,c,i)}else if(c=AS(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+am(a,l++),o+=fu(a,e,s,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oc(t,e,s){if(t==null)return t;var r=[],i=0;return fu(t,r,"","",function(a){return e.call(s,a,i++)}),r}function MS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var as={current:null},pu={transition:null},OS={ReactCurrentDispatcher:as,ReactCurrentBatchConfig:pu,ReactCurrentOwner:ug};function Z1(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Oc,forEach:function(t,e,s){Oc(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return Oc(t,function(){e++}),e},toArray:function(t){return Oc(t,function(e){return e})||[]},only:function(t){if(!dg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Za;Ce.Fragment=jS;Ce.Profiler=TS;Ce.PureComponent=lg;Ce.StrictMode=_S;Ce.Suspense=kS;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OS;Ce.act=Z1;Ce.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=G1({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=ug.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Y1.call(e,c)&&!X1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Kl,type:t.type,key:i,ref:a,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:CS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ES,_context:t},t.Consumer=t};Ce.createElement=J1;Ce.createFactory=function(t){var e=J1.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:SS,render:t}};Ce.isValidElement=dg;Ce.lazy=function(t){return{$$typeof:IS,_payload:{_status:-1,_result:t},_init:MS}};Ce.memo=function(t,e){return{$$typeof:PS,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=pu.transition;pu.transition={};try{t()}finally{pu.transition=e}};Ce.unstable_act=Z1;Ce.useCallback=function(t,e){return as.current.useCallback(t,e)};Ce.useContext=function(t){return as.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return as.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return as.current.useEffect(t,e)};Ce.useId=function(){return as.current.useId()};Ce.useImperativeHandle=function(t,e,s){return as.current.useImperativeHandle(t,e,s)};Ce.useInsertionEffect=function(t,e){return as.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return as.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return as.current.useMemo(t,e)};Ce.useReducer=function(t,e,s){return as.current.useReducer(t,e,s)};Ce.useRef=function(t){return as.current.useRef(t)};Ce.useState=function(t){return as.current.useState(t)};Ce.useSyncExternalStore=function(t,e,s){return as.current.useSyncExternalStore(t,e,s)};Ce.useTransition=function(){return as.current.useTransition()};Ce.version="18.3.1";H1.exports=Ce;var E=H1.exports;const eN=wS(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS=E,LS=Symbol.for("react.element"),FS=Symbol.for("react.fragment"),US=Object.prototype.hasOwnProperty,BS=VS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$S={key:!0,ref:!0,__self:!0,__source:!0};function tN(t,e,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)US.call(e,r)&&!$S.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:LS,type:t,key:a,ref:o,props:i,_owner:BS.current}}Yd.Fragment=FS;Yd.jsx=tN;Yd.jsxs=tN;q1.exports=Yd;var n=q1.exports,sN={exports:{}},ks={},rN={exports:{}},nN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,H){var z=L.length;L.push(H);e:for(;0<z;){var se=z-1>>>1,oe=L[se];if(0<i(oe,H))L[se]=H,L[z]=oe,z=se;else break e}}function s(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],z=L.pop();if(z!==H){L[0]=z;e:for(var se=0,oe=L.length,pe=oe>>>1;se<pe;){var ue=2*(se+1)-1,Ee=L[ue],Ve=ue+1,Ye=L[Ve];if(0>i(Ee,z))Ve<oe&&0>i(Ye,Ee)?(L[se]=Ye,L[Ve]=z,se=Ve):(L[se]=Ee,L[ue]=z,se=ue);else if(Ve<oe&&0>i(Ye,z))L[se]=Ye,L[Ve]=z,se=Ve;else break e}}return H}function i(L,H){var z=L.sortIndex-H.sortIndex;return z!==0?z:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,m=3,y=!1,N=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var H=s(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=L)r(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=s(d)}}function _(L){if(w=!1,g(L),!N)if(s(c)!==null)N=!0,F(A);else{var H=s(d);H!==null&&O(_,H.startTime-L)}}function A(L,H){N=!1,w&&(w=!1,v(j),j=-1),y=!0;var z=m;try{for(g(H),f=s(c);f!==null&&(!(f.expirationTime>H)||L&&!V());){var se=f.callback;if(typeof se=="function"){f.callback=null,m=f.priorityLevel;var oe=se(f.expirationTime<=H);H=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===s(c)&&r(c),g(H)}else r(c);f=s(c)}if(f!==null)var pe=!0;else{var ue=s(d);ue!==null&&O(_,ue.startTime-H),pe=!1}return pe}finally{f=null,m=z,y=!1}}var M=!1,C=null,j=-1,k=5,I=-1;function V(){return!(t.unstable_now()-I<k)}function U(){if(C!==null){var L=t.unstable_now();I=L;var H=!0;try{H=C(!0,L)}finally{H?R():(M=!1,C=null)}}else M=!1}var R;if(typeof x=="function")R=function(){x(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=U,R=function(){X.postMessage(null)}}else R=function(){T(U,0)};function F(L){C=L,M||(M=!0,R())}function O(L,H){j=T(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){N||y||(N=!0,F(A))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var z=m;m=H;try{return L()}finally{m=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=m;m=L;try{return H()}finally{m=z}},t.unstable_scheduleCallback=function(L,H,z){var se=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?se+z:se):z=se,L){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=z+oe,L={id:h++,callback:H,priorityLevel:L,startTime:z,expirationTime:oe,sortIndex:-1},z>se?(L.sortIndex=z,e(d,L),s(c)===null&&L===s(d)&&(w?(v(j),j=-1):w=!0,O(_,z-se))):(L.sortIndex=oe,e(c,L),N||y||(N=!0,F(A))),L},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(L){var H=m;return function(){var z=m;m=H;try{return L.apply(this,arguments)}finally{m=z}}}})(nN);rN.exports=nN;var zS=rN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS=E,Ss=zS;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iN=new Set,fl={};function zi(t,e){Ma(t,e),Ma(t+"Capture",e)}function Ma(t,e){for(fl[t]=e,t=0;t<e.length;t++)iN.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=Object.prototype.hasOwnProperty,HS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vy={},Ly={};function WS(t){return mf.call(Ly,t)?!0:mf.call(Vy,t)?!1:HS.test(t)?Ly[t]=!0:(Vy[t]=!0,!1)}function GS(t,e,s,r){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KS(t,e,s,r){if(e===null||typeof e>"u"||GS(t,e,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function os(t,e,s,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new os(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new os(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new os(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new os(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new os(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new os(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new os(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new os(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new os(t,5,!1,t.toLowerCase(),null,!1,!1)});var hg=/[\-:]([a-z])/g;function mg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hg,mg);Ut[e]=new os(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hg,mg);Ut[e]=new os(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hg,mg);Ut[e]=new os(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new os(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new os(t,1,!1,t.toLowerCase(),null,!0,!0)});function fg(t,e,s,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KS(e,s,i,r)&&(s=null),r||i===null?WS(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):i.mustUseProperty?t[i.propertyName]=s===null?i.type===3?!1:"":s:(e=i.attributeName,r=i.attributeNamespace,s===null?t.removeAttribute(e):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?t.setAttributeNS(r,e,s):t.setAttribute(e,s))))}var an=qS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vc=Symbol.for("react.element"),aa=Symbol.for("react.portal"),oa=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),ff=Symbol.for("react.profiler"),aN=Symbol.for("react.provider"),oN=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),pf=Symbol.for("react.suspense"),gf=Symbol.for("react.suspense_list"),xg=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),lN=Symbol.for("react.offscreen"),Fy=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=Fy&&t[Fy]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,om;function Lo(t){if(om===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);om=e&&e[1]||""}return`
`+om+t}var lm=!1;function cm(t,e){if(!t||lm)return"";lm=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{lm=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Lo(t):""}function QS(t){switch(t.tag){case 5:return Lo(t.type);case 16:return Lo("Lazy");case 13:return Lo("Suspense");case 19:return Lo("SuspenseList");case 0:case 2:case 15:return t=cm(t.type,!1),t;case 11:return t=cm(t.type.render,!1),t;case 1:return t=cm(t.type,!0),t;default:return""}}function xf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oa:return"Fragment";case aa:return"Portal";case ff:return"Profiler";case pg:return"StrictMode";case pf:return"Suspense";case gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oN:return(t.displayName||"Context")+".Consumer";case aN:return(t._context.displayName||"Context")+".Provider";case gg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xg:return e=t.displayName||null,e!==null?e:xf(t.type)||"Memo";case xn:e=t._payload,t=t._init;try{return xf(t(e))}catch{}}return null}function YS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xf(e);case 8:return e===pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $n(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XS(t){var e=cN(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lc(t){t._valueTracker||(t._valueTracker=XS(t))}function uN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),r="";return t&&(r=cN(t)?t.checked?"true":"false":t.value),t=r,t!==s?(e.setValue(t),!0):!1}function qu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yf(t,e){var s=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Uy(t,e){var s=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;s=$n(e.value!=null?e.value:s),t._wrapperState={initialChecked:r,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dN(t,e){e=e.checked,e!=null&&fg(t,"checked",e,!1)}function vf(t,e){dN(t,e);var s=$n(e.value),r=e.type;if(s!=null)r==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bf(t,e.type,s):e.hasOwnProperty("defaultValue")&&bf(t,e.type,$n(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function By(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function bf(t,e,s){(e!=="number"||qu(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Fo=Array.isArray;function _a(t,e,s,r){if(t=t.options,e){e={};for(var i=0;i<s.length;i++)e["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=e.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&r&&(t[s].defaultSelected=!0)}else{for(s=""+$n(s),e=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $y(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(Z(92));if(Fo(s)){if(1<s.length)throw Error(Z(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:$n(s)}}function hN(t,e){var s=$n(e.value),r=$n(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),r!=null&&(t.defaultValue=""+r)}function zy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fc,fN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,s,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pl(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JS=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(t){JS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ko[e]=Ko[t]})});function pN(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||Ko.hasOwnProperty(t)&&Ko[t]?(""+e).trim():e+"px"}function gN(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=pN(s,e[s],r);s==="float"&&(s="cssFloat"),r?t.setProperty(s,i):t[s]=i}}var ZS=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jf(t,e){if(e){if(ZS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function _f(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=null;function yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ef=null,Ta=null,Ea=null;function qy(t){if(t=Xl(t)){if(typeof Ef!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=th(e),Ef(t.stateNode,t.type,e))}}function xN(t){Ta?Ea?Ea.push(t):Ea=[t]:Ta=t}function yN(){if(Ta){var t=Ta,e=Ea;if(Ea=Ta=null,qy(t),e)for(t=0;t<e.length;t++)qy(e[t])}}function vN(t,e){return t(e)}function bN(){}var um=!1;function wN(t,e,s){if(um)return t(e,s);um=!0;try{return vN(t,e,s)}finally{um=!1,(Ta!==null||Ea!==null)&&(bN(),yN())}}function gl(t,e){var s=t.stateNode;if(s===null)return null;var r=th(s);if(r===null)return null;s=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(Z(231,e,typeof s));return s}var Cf=!1;if(Hr)try{var So={};Object.defineProperty(So,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{Cf=!1}function ek(t,e,s,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(h){this.onError(h)}}var Qo=!1,Hu=null,Wu=!1,Sf=null,tk={onError:function(t){Qo=!0,Hu=t}};function sk(t,e,s,r,i,a,o,l,c){Qo=!1,Hu=null,ek.apply(tk,arguments)}function rk(t,e,s,r,i,a,o,l,c){if(sk.apply(this,arguments),Qo){if(Qo){var d=Hu;Qo=!1,Hu=null}else throw Error(Z(198));Wu||(Wu=!0,Sf=d)}}function qi(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function NN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hy(t){if(qi(t)!==t)throw Error(Z(188))}function nk(t){var e=t.alternate;if(!e){if(e=qi(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var s=t,r=e;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Hy(i),t;if(a===r)return Hy(i),e;a=a.sibling}throw Error(Z(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(s.alternate!==r)throw Error(Z(190))}if(s.tag!==3)throw Error(Z(188));return s.stateNode.current===s?t:e}function jN(t){return t=nk(t),t!==null?_N(t):null}function _N(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_N(t);if(e!==null)return e;t=t.sibling}return null}var TN=Ss.unstable_scheduleCallback,Wy=Ss.unstable_cancelCallback,ik=Ss.unstable_shouldYield,ak=Ss.unstable_requestPaint,ft=Ss.unstable_now,ok=Ss.unstable_getCurrentPriorityLevel,vg=Ss.unstable_ImmediatePriority,EN=Ss.unstable_UserBlockingPriority,Gu=Ss.unstable_NormalPriority,lk=Ss.unstable_LowPriority,CN=Ss.unstable_IdlePriority,Xd=null,mr=null;function ck(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(Xd,t,void 0,(t.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:hk,uk=Math.log,dk=Math.LN2;function hk(t){return t>>>=0,t===0?32:31-(uk(t)/dk|0)|0}var Uc=64,Bc=4194304;function Uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ku(t,e){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?r=Uo(l):(a&=o,a!==0&&(r=Uo(a)))}else o=s&~i,o!==0?r=Uo(o):a!==0&&(r=Uo(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)s=31-Zs(e),i=1<<s,r|=t[s],e&=~i;return r}function mk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fk(t,e){for(var s=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Zs(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&r)&&(i[o]=mk(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SN(){var t=Uc;return Uc<<=1,!(Uc&4194240)&&(Uc=64),t}function dm(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Ql(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zs(e),t[e]=s}function pk(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-Zs(s),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,s&=~a}}function bg(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var r=31-Zs(s),i=1<<r;i&e|t[r]&e&&(t[r]|=e),s&=~i}}var Ue=0;function kN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PN,wg,IN,AN,RN,Pf=!1,$c=[],Pn=null,In=null,An=null,xl=new Map,yl=new Map,vn=[],gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gy(t,e){switch(t){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(e.pointerId)}}function ko(t,e,s,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Xl(e),e!==null&&wg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xk(t,e,s,r,i){switch(e){case"focusin":return Pn=ko(Pn,t,e,s,r,i),!0;case"dragenter":return In=ko(In,t,e,s,r,i),!0;case"mouseover":return An=ko(An,t,e,s,r,i),!0;case"pointerover":var a=i.pointerId;return xl.set(a,ko(xl.get(a)||null,t,e,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,yl.set(a,ko(yl.get(a)||null,t,e,s,r,i)),!0}return!1}function DN(t){var e=xi(t.target);if(e!==null){var s=qi(e);if(s!==null){if(e=s.tag,e===13){if(e=NN(s),e!==null){t.blockedOn=e,RN(t.priority,function(){IN(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=If(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);Tf=r,s.target.dispatchEvent(r),Tf=null}else return e=Xl(s),e!==null&&wg(e),t.blockedOn=s,!1;e.shift()}return!0}function Ky(t,e,s){gu(t)&&s.delete(e)}function yk(){Pf=!1,Pn!==null&&gu(Pn)&&(Pn=null),In!==null&&gu(In)&&(In=null),An!==null&&gu(An)&&(An=null),xl.forEach(Ky),yl.forEach(Ky)}function Po(t,e){t.blockedOn===e&&(t.blockedOn=null,Pf||(Pf=!0,Ss.unstable_scheduleCallback(Ss.unstable_NormalPriority,yk)))}function vl(t){function e(i){return Po(i,t)}if(0<$c.length){Po($c[0],t);for(var s=1;s<$c.length;s++){var r=$c[s];r.blockedOn===t&&(r.blockedOn=null)}}for(Pn!==null&&Po(Pn,t),In!==null&&Po(In,t),An!==null&&Po(An,t),xl.forEach(e),yl.forEach(e),s=0;s<vn.length;s++)r=vn[s],r.blockedOn===t&&(r.blockedOn=null);for(;0<vn.length&&(s=vn[0],s.blockedOn===null);)DN(s),s.blockedOn===null&&vn.shift()}var Ca=an.ReactCurrentBatchConfig,Qu=!0;function vk(t,e,s,r){var i=Ue,a=Ca.transition;Ca.transition=null;try{Ue=1,Ng(t,e,s,r)}finally{Ue=i,Ca.transition=a}}function bk(t,e,s,r){var i=Ue,a=Ca.transition;Ca.transition=null;try{Ue=4,Ng(t,e,s,r)}finally{Ue=i,Ca.transition=a}}function Ng(t,e,s,r){if(Qu){var i=If(t,e,s,r);if(i===null)wm(t,e,r,Yu,s),Gy(t,r);else if(xk(i,t,e,s,r))r.stopPropagation();else if(Gy(t,r),e&4&&-1<gk.indexOf(t)){for(;i!==null;){var a=Xl(i);if(a!==null&&PN(a),a=If(t,e,s,r),a===null&&wm(t,e,r,Yu,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else wm(t,e,r,null,s)}}var Yu=null;function If(t,e,s,r){if(Yu=null,t=yg(r),t=xi(t),t!==null)if(e=qi(t),e===null)t=null;else if(s=e.tag,s===13){if(t=NN(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function MN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ok()){case vg:return 1;case EN:return 4;case Gu:case lk:return 16;case CN:return 536870912;default:return 16}default:return 16}}var En=null,jg=null,xu=null;function ON(){if(xu)return xu;var t,e=jg,s=e.length,r,i="value"in En?En.value:En.textContent,a=i.length;for(t=0;t<s&&e[t]===i[t];t++);var o=s-t;for(r=1;r<=o&&e[s-r]===i[a-r];r++);return xu=i.slice(t,1<r?1-r:void 0)}function yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zc(){return!0}function Qy(){return!1}function Ps(t){function e(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zc:Qy,this.isPropagationStopped=Qy,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),e}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_g=Ps(eo),Yl=rt({},eo,{view:0,detail:0}),wk=Ps(Yl),hm,mm,Io,Jd=rt({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Io&&(Io&&t.type==="mousemove"?(hm=t.screenX-Io.screenX,mm=t.screenY-Io.screenY):mm=hm=0,Io=t),hm)},movementY:function(t){return"movementY"in t?t.movementY:mm}}),Yy=Ps(Jd),Nk=rt({},Jd,{dataTransfer:0}),jk=Ps(Nk),_k=rt({},Yl,{relatedTarget:0}),fm=Ps(_k),Tk=rt({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ek=Ps(Tk),Ck=rt({},eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sk=Ps(Ck),kk=rt({},eo,{data:0}),Xy=Ps(kk),Pk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ik={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ak={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ak[t])?!!e[t]:!1}function Tg(){return Rk}var Dk=rt({},Yl,{key:function(t){if(t.key){var e=Pk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ik[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(t){return t.type==="keypress"?yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mk=Ps(Dk),Ok=rt({},Jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=Ps(Ok),Vk=rt({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),Lk=Ps(Vk),Fk=rt({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uk=Ps(Fk),Bk=rt({},Jd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$k=Ps(Bk),zk=[9,13,27,32],Eg=Hr&&"CompositionEvent"in window,Yo=null;Hr&&"documentMode"in document&&(Yo=document.documentMode);var qk=Hr&&"TextEvent"in window&&!Yo,VN=Hr&&(!Eg||Yo&&8<Yo&&11>=Yo),Zy=" ",ev=!1;function LN(t,e){switch(t){case"keyup":return zk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var la=!1;function Hk(t,e){switch(t){case"compositionend":return FN(e);case"keypress":return e.which!==32?null:(ev=!0,Zy);case"textInput":return t=e.data,t===Zy&&ev?null:t;default:return null}}function Wk(t,e){if(la)return t==="compositionend"||!Eg&&LN(t,e)?(t=ON(),xu=jg=En=null,la=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VN&&e.locale!=="ko"?null:e.data;default:return null}}var Gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gk[t.type]:e==="textarea"}function UN(t,e,s,r){xN(r),e=Xu(e,"onChange"),0<e.length&&(s=new _g("onChange","change",null,s,r),t.push({event:s,listeners:e}))}var Xo=null,bl=null;function Kk(t){XN(t,0)}function Zd(t){var e=da(t);if(uN(e))return t}function Qk(t,e){if(t==="change")return e}var BN=!1;if(Hr){var pm;if(Hr){var gm="oninput"in document;if(!gm){var sv=document.createElement("div");sv.setAttribute("oninput","return;"),gm=typeof sv.oninput=="function"}pm=gm}else pm=!1;BN=pm&&(!document.documentMode||9<document.documentMode)}function rv(){Xo&&(Xo.detachEvent("onpropertychange",$N),bl=Xo=null)}function $N(t){if(t.propertyName==="value"&&Zd(bl)){var e=[];UN(e,bl,t,yg(t)),wN(Kk,e)}}function Yk(t,e,s){t==="focusin"?(rv(),Xo=e,bl=s,Xo.attachEvent("onpropertychange",$N)):t==="focusout"&&rv()}function Xk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zd(bl)}function Jk(t,e){if(t==="click")return Zd(e)}function Zk(t,e){if(t==="input"||t==="change")return Zd(e)}function eP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:eP;function wl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!mf.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function nv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iv(t,e){var s=nv(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=e&&r>=e)return{node:s,offset:e-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=nv(s)}}function zN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qN(){for(var t=window,e=qu();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=qu(t.document)}return e}function Cg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tP(t){var e=qN(),s=t.focusedElem,r=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&zN(s.ownerDocument.documentElement,s)){if(r!==null&&Cg(s)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=iv(s,a);var o=iv(s,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sP=Hr&&"documentMode"in document&&11>=document.documentMode,ca=null,Af=null,Jo=null,Rf=!1;function av(t,e,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Rf||ca==null||ca!==qu(r)||(r=ca,"selectionStart"in r&&Cg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jo&&wl(Jo,r)||(Jo=r,r=Xu(Af,"onSelect"),0<r.length&&(e=new _g("onSelect","select",null,e,s),t.push({event:e,listeners:r}),e.target=ca)))}function qc(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var ua={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},xm={},HN={};Hr&&(HN=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function eh(t){if(xm[t])return xm[t];if(!ua[t])return t;var e=ua[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in HN)return xm[t]=e[s];return t}var WN=eh("animationend"),GN=eh("animationiteration"),KN=eh("animationstart"),QN=eh("transitionend"),YN=new Map,ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){YN.set(t,e),zi(e,[t])}for(var ym=0;ym<ov.length;ym++){var vm=ov[ym],rP=vm.toLowerCase(),nP=vm[0].toUpperCase()+vm.slice(1);ti(rP,"on"+nP)}ti(WN,"onAnimationEnd");ti(GN,"onAnimationIteration");ti(KN,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(QN,"onTransitionEnd");Ma("onMouseEnter",["mouseout","mouseover"]);Ma("onMouseLeave",["mouseout","mouseover"]);Ma("onPointerEnter",["pointerout","pointerover"]);Ma("onPointerLeave",["pointerout","pointerover"]);zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function lv(t,e,s){var r=t.type||"unknown-event";t.currentTarget=s,rk(r,e,void 0,t),t.currentTarget=null}function XN(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;lv(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;lv(i,l,d),a=c}}}if(Wu)throw t=Sf,Wu=!1,Sf=null,t}function Ge(t,e){var s=e[Lf];s===void 0&&(s=e[Lf]=new Set);var r=t+"__bubble";s.has(r)||(JN(e,t,2,!1),s.add(r))}function bm(t,e,s){var r=0;e&&(r|=4),JN(s,t,r,e)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Nl(t){if(!t[Hc]){t[Hc]=!0,iN.forEach(function(s){s!=="selectionchange"&&(iP.has(s)||bm(s,!1,t),bm(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hc]||(e[Hc]=!0,bm("selectionchange",!1,e))}}function JN(t,e,s,r){switch(MN(e)){case 1:var i=vk;break;case 4:i=bk;break;default:i=Ng}s=i.bind(null,e,s,t),i=void 0,!Cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,s,{capture:!0,passive:i}):t.addEventListener(e,s,!0):i!==void 0?t.addEventListener(e,s,{passive:i}):t.addEventListener(e,s,!1)}function wm(t,e,s,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=xi(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}wN(function(){var d=a,h=yg(s),f=[];e:{var m=YN.get(t);if(m!==void 0){var y=_g,N=t;switch(t){case"keypress":if(yu(s)===0)break e;case"keydown":case"keyup":y=Mk;break;case"focusin":N="focus",y=fm;break;case"focusout":N="blur",y=fm;break;case"beforeblur":case"afterblur":y=fm;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=jk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Lk;break;case WN:case GN:case KN:y=Ek;break;case QN:y=Uk;break;case"scroll":y=wk;break;case"wheel":y=$k;break;case"copy":case"cut":case"paste":y=Sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Jy}var w=(e&4)!==0,T=!w&&t==="scroll",v=w?m!==null?m+"Capture":null:m;w=[];for(var x=d,g;x!==null;){g=x;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,v!==null&&(_=gl(x,v),_!=null&&w.push(jl(x,_,g)))),T)break;x=x.return}0<w.length&&(m=new y(m,N,null,s,h),f.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&s!==Tf&&(N=s.relatedTarget||s.fromElement)&&(xi(N)||N[Wr]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(N=s.relatedTarget||s.toElement,y=d,N=N?xi(N):null,N!==null&&(T=qi(N),N!==T||N.tag!==5&&N.tag!==6)&&(N=null)):(y=null,N=d),y!==N)){if(w=Yy,_="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=Jy,_="onPointerLeave",v="onPointerEnter",x="pointer"),T=y==null?m:da(y),g=N==null?m:da(N),m=new w(_,x+"leave",y,s,h),m.target=T,m.relatedTarget=g,_=null,xi(h)===d&&(w=new w(v,x+"enter",N,s,h),w.target=g,w.relatedTarget=T,_=w),T=_,y&&N)t:{for(w=y,v=N,x=0,g=w;g;g=ta(g))x++;for(g=0,_=v;_;_=ta(_))g++;for(;0<x-g;)w=ta(w),x--;for(;0<g-x;)v=ta(v),g--;for(;x--;){if(w===v||v!==null&&w===v.alternate)break t;w=ta(w),v=ta(v)}w=null}else w=null;y!==null&&cv(f,m,y,w,!1),N!==null&&T!==null&&cv(f,T,N,w,!0)}}e:{if(m=d?da(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var A=Qk;else if(tv(m))if(BN)A=Zk;else{A=Xk;var M=Yk}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=Jk);if(A&&(A=A(t,d))){UN(f,A,s,h);break e}M&&M(t,m,d),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&bf(m,"number",m.value)}switch(M=d?da(d):window,t){case"focusin":(tv(M)||M.contentEditable==="true")&&(ca=M,Af=d,Jo=null);break;case"focusout":Jo=Af=ca=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,av(f,s,h);break;case"selectionchange":if(sP)break;case"keydown":case"keyup":av(f,s,h)}var C;if(Eg)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else la?LN(t,s)&&(j="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(j="onCompositionStart");j&&(VN&&s.locale!=="ko"&&(la||j!=="onCompositionStart"?j==="onCompositionEnd"&&la&&(C=ON()):(En=h,jg="value"in En?En.value:En.textContent,la=!0)),M=Xu(d,j),0<M.length&&(j=new Xy(j,t,null,s,h),f.push({event:j,listeners:M}),C?j.data=C:(C=FN(s),C!==null&&(j.data=C)))),(C=qk?Hk(t,s):Wk(t,s))&&(d=Xu(d,"onBeforeInput"),0<d.length&&(h=new Xy("onBeforeInput","beforeinput",null,s,h),f.push({event:h,listeners:d}),h.data=C))}XN(f,e)})}function jl(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Xu(t,e){for(var s=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gl(t,s),a!=null&&r.unshift(jl(t,a,i)),a=gl(t,e),a!=null&&r.push(jl(t,a,i))),t=t.return}return r}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cv(t,e,s,r,i){for(var a=e._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=gl(s,a),c!=null&&o.unshift(jl(s,c,l))):i||(c=gl(s,a),c!=null&&o.push(jl(s,c,l)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var aP=/\r\n?/g,oP=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(aP,`
`).replace(oP,"")}function Wc(t,e,s){if(e=uv(e),uv(t)!==e&&s)throw Error(Z(425))}function Ju(){}var Df=null,Mf=null;function Of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,lP=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,cP=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(uP)}:Vf;function uP(t){setTimeout(function(){throw t})}function Nm(t,e){var s=e,r=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){t.removeChild(i),vl(e);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);vl(e)}function Rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var to=Math.random().toString(36).slice(2),dr="__reactFiber$"+to,_l="__reactProps$"+to,Wr="__reactContainer$"+to,Lf="__reactEvents$"+to,dP="__reactListeners$"+to,hP="__reactHandles$"+to;function xi(t){var e=t[dr];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Wr]||s[dr]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=hv(t);t!==null;){if(s=t[dr])return s;t=hv(t)}return e}t=s,s=t.parentNode}return null}function Xl(t){return t=t[dr]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function th(t){return t[_l]||null}var Ff=[],ha=-1;function si(t){return{current:t}}function Qe(t){0>ha||(t.current=Ff[ha],Ff[ha]=null,ha--)}function qe(t,e){ha++,Ff[ha]=t.current,t.current=e}var zn={},Zt=si(zn),gs=si(!1),Ai=zn;function Oa(t,e){var s=t.type.contextTypes;if(!s)return zn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xs(t){return t=t.childContextTypes,t!=null}function Zu(){Qe(gs),Qe(Zt)}function mv(t,e,s){if(Zt.current!==zn)throw Error(Z(168));qe(Zt,e),qe(gs,s)}function ZN(t,e,s){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,YS(t)||"Unknown",i));return rt({},s,r)}function ed(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zn,Ai=Zt.current,qe(Zt,t),qe(gs,gs.current),!0}function fv(t,e,s){var r=t.stateNode;if(!r)throw Error(Z(169));s?(t=ZN(t,e,Ai),r.__reactInternalMemoizedMergedChildContext=t,Qe(gs),Qe(Zt),qe(Zt,t)):Qe(gs),qe(gs,s)}var Vr=null,sh=!1,jm=!1;function ej(t){Vr===null?Vr=[t]:Vr.push(t)}function mP(t){sh=!0,ej(t)}function ri(){if(!jm&&Vr!==null){jm=!0;var t=0,e=Ue;try{var s=Vr;for(Ue=1;t<s.length;t++){var r=s[t];do r=r(!0);while(r!==null)}Vr=null,sh=!1}catch(i){throw Vr!==null&&(Vr=Vr.slice(t+1)),TN(vg,ri),i}finally{Ue=e,jm=!1}}return null}var ma=[],fa=0,td=null,sd=0,Ds=[],Ms=0,Ri=null,Lr=1,Fr="";function mi(t,e){ma[fa++]=sd,ma[fa++]=td,td=t,sd=e}function tj(t,e,s){Ds[Ms++]=Lr,Ds[Ms++]=Fr,Ds[Ms++]=Ri,Ri=t;var r=Lr;t=Fr;var i=32-Zs(r)-1;r&=~(1<<i),s+=1;var a=32-Zs(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Lr=1<<32-Zs(e)+i|s<<i|r,Fr=a+t}else Lr=1<<a|s<<i|r,Fr=t}function Sg(t){t.return!==null&&(mi(t,1),tj(t,1,0))}function kg(t){for(;t===td;)td=ma[--fa],ma[fa]=null,sd=ma[--fa],ma[fa]=null;for(;t===Ri;)Ri=Ds[--Ms],Ds[Ms]=null,Fr=Ds[--Ms],Ds[Ms]=null,Lr=Ds[--Ms],Ds[Ms]=null}var Cs=null,Ts=null,Xe=!1,Qs=null;function sj(t,e){var s=Vs(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function pv(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cs=t,Ts=Rn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cs=t,Ts=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=Ri!==null?{id:Lr,overflow:Fr}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Vs(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,Cs=t,Ts=null,!0):!1;default:return!1}}function Uf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bf(t){if(Xe){var e=Ts;if(e){var s=e;if(!pv(t,e)){if(Uf(t))throw Error(Z(418));e=Rn(s.nextSibling);var r=Cs;e&&pv(t,e)?sj(r,s):(t.flags=t.flags&-4097|2,Xe=!1,Cs=t)}}else{if(Uf(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Xe=!1,Cs=t}}}function gv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cs=t}function Gc(t){if(t!==Cs)return!1;if(!Xe)return gv(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Of(t.type,t.memoizedProps)),e&&(e=Ts)){if(Uf(t))throw rj(),Error(Z(418));for(;e;)sj(t,e),e=Rn(e.nextSibling)}if(gv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){Ts=Rn(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}Ts=null}}else Ts=Cs?Rn(t.stateNode.nextSibling):null;return!0}function rj(){for(var t=Ts;t;)t=Rn(t.nextSibling)}function Va(){Ts=Cs=null,Xe=!1}function Pg(t){Qs===null?Qs=[t]:Qs.push(t)}var fP=an.ReactCurrentBatchConfig;function Ao(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Z(309));var r=s.stateNode}if(!r)throw Error(Z(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Z(284));if(!s._owner)throw Error(Z(290,t))}return t}function Kc(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xv(t){var e=t._init;return e(t._payload)}function nj(t){function e(v,x){if(t){var g=v.deletions;g===null?(v.deletions=[x],v.flags|=16):g.push(x)}}function s(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Vn(v,x),v.index=0,v.sibling=null,v}function a(v,x,g){return v.index=g,t?(g=v.alternate,g!==null?(g=g.index,g<x?(v.flags|=2,x):g):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,x,g,_){return x===null||x.tag!==6?(x=Pm(g,v.mode,_),x.return=v,x):(x=i(x,g),x.return=v,x)}function c(v,x,g,_){var A=g.type;return A===oa?h(v,x,g.props.children,_,g.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xn&&xv(A)===x.type)?(_=i(x,g.props),_.ref=Ao(v,x,g),_.return=v,_):(_=Tu(g.type,g.key,g.props,null,v.mode,_),_.ref=Ao(v,x,g),_.return=v,_)}function d(v,x,g,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==g.containerInfo||x.stateNode.implementation!==g.implementation?(x=Im(g,v.mode,_),x.return=v,x):(x=i(x,g.children||[]),x.return=v,x)}function h(v,x,g,_,A){return x===null||x.tag!==7?(x=Ti(g,v.mode,_,A),x.return=v,x):(x=i(x,g),x.return=v,x)}function f(v,x,g){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Pm(""+x,v.mode,g),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vc:return g=Tu(x.type,x.key,x.props,null,v.mode,g),g.ref=Ao(v,null,x),g.return=v,g;case aa:return x=Im(x,v.mode,g),x.return=v,x;case xn:var _=x._init;return f(v,_(x._payload),g)}if(Fo(x)||Co(x))return x=Ti(x,v.mode,g,null),x.return=v,x;Kc(v,x)}return null}function m(v,x,g,_){var A=x!==null?x.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return A!==null?null:l(v,x,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vc:return g.key===A?c(v,x,g,_):null;case aa:return g.key===A?d(v,x,g,_):null;case xn:return A=g._init,m(v,x,A(g._payload),_)}if(Fo(g)||Co(g))return A!==null?null:h(v,x,g,_,null);Kc(v,g)}return null}function y(v,x,g,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(g)||null,l(x,v,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vc:return v=v.get(_.key===null?g:_.key)||null,c(x,v,_,A);case aa:return v=v.get(_.key===null?g:_.key)||null,d(x,v,_,A);case xn:var M=_._init;return y(v,x,g,M(_._payload),A)}if(Fo(_)||Co(_))return v=v.get(g)||null,h(x,v,_,A,null);Kc(x,_)}return null}function N(v,x,g,_){for(var A=null,M=null,C=x,j=x=0,k=null;C!==null&&j<g.length;j++){C.index>j?(k=C,C=null):k=C.sibling;var I=m(v,C,g[j],_);if(I===null){C===null&&(C=k);break}t&&C&&I.alternate===null&&e(v,C),x=a(I,x,j),M===null?A=I:M.sibling=I,M=I,C=k}if(j===g.length)return s(v,C),Xe&&mi(v,j),A;if(C===null){for(;j<g.length;j++)C=f(v,g[j],_),C!==null&&(x=a(C,x,j),M===null?A=C:M.sibling=C,M=C);return Xe&&mi(v,j),A}for(C=r(v,C);j<g.length;j++)k=y(C,v,j,g[j],_),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?j:k.key),x=a(k,x,j),M===null?A=k:M.sibling=k,M=k);return t&&C.forEach(function(V){return e(v,V)}),Xe&&mi(v,j),A}function w(v,x,g,_){var A=Co(g);if(typeof A!="function")throw Error(Z(150));if(g=A.call(g),g==null)throw Error(Z(151));for(var M=A=null,C=x,j=x=0,k=null,I=g.next();C!==null&&!I.done;j++,I=g.next()){C.index>j?(k=C,C=null):k=C.sibling;var V=m(v,C,I.value,_);if(V===null){C===null&&(C=k);break}t&&C&&V.alternate===null&&e(v,C),x=a(V,x,j),M===null?A=V:M.sibling=V,M=V,C=k}if(I.done)return s(v,C),Xe&&mi(v,j),A;if(C===null){for(;!I.done;j++,I=g.next())I=f(v,I.value,_),I!==null&&(x=a(I,x,j),M===null?A=I:M.sibling=I,M=I);return Xe&&mi(v,j),A}for(C=r(v,C);!I.done;j++,I=g.next())I=y(C,v,j,I.value,_),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?j:I.key),x=a(I,x,j),M===null?A=I:M.sibling=I,M=I);return t&&C.forEach(function(U){return e(v,U)}),Xe&&mi(v,j),A}function T(v,x,g,_){if(typeof g=="object"&&g!==null&&g.type===oa&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Vc:e:{for(var A=g.key,M=x;M!==null;){if(M.key===A){if(A=g.type,A===oa){if(M.tag===7){s(v,M.sibling),x=i(M,g.props.children),x.return=v,v=x;break e}}else if(M.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xn&&xv(A)===M.type){s(v,M.sibling),x=i(M,g.props),x.ref=Ao(v,M,g),x.return=v,v=x;break e}s(v,M);break}else e(v,M);M=M.sibling}g.type===oa?(x=Ti(g.props.children,v.mode,_,g.key),x.return=v,v=x):(_=Tu(g.type,g.key,g.props,null,v.mode,_),_.ref=Ao(v,x,g),_.return=v,v=_)}return o(v);case aa:e:{for(M=g.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===g.containerInfo&&x.stateNode.implementation===g.implementation){s(v,x.sibling),x=i(x,g.children||[]),x.return=v,v=x;break e}else{s(v,x);break}else e(v,x);x=x.sibling}x=Im(g,v.mode,_),x.return=v,v=x}return o(v);case xn:return M=g._init,T(v,x,M(g._payload),_)}if(Fo(g))return N(v,x,g,_);if(Co(g))return w(v,x,g,_);Kc(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,x!==null&&x.tag===6?(s(v,x.sibling),x=i(x,g),x.return=v,v=x):(s(v,x),x=Pm(g,v.mode,_),x.return=v,v=x),o(v)):s(v,x)}return T}var La=nj(!0),ij=nj(!1),rd=si(null),nd=null,pa=null,Ig=null;function Ag(){Ig=pa=nd=null}function Rg(t){var e=rd.current;Qe(rd),t._currentValue=e}function $f(t,e,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===s)break;t=t.return}}function Sa(t,e){nd=t,Ig=pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ms=!0),t.firstContext=null)}function Bs(t){var e=t._currentValue;if(Ig!==t)if(t={context:t,memoizedValue:e,next:null},pa===null){if(nd===null)throw Error(Z(308));pa=t,nd.dependencies={lanes:0,firstContext:t}}else pa=pa.next=t;return e}var yi=null;function Dg(t){yi===null?yi=[t]:yi.push(t)}function aj(t,e,s,r){var i=e.interleaved;return i===null?(s.next=s,Dg(e)):(s.next=i.next,i.next=s),e.interleaved=s,Gr(t,r)}function Gr(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var yn=!1;function Mg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dn(t,e,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gr(t,s)}return i=r.interleaved,i===null?(e.next=e,Dg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gr(t,s)}function vu(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,bg(t,s)}}function yv(t,e){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=e:a=a.next=e}else i=a=e;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function id(t,e,s,r){var i=t.updateQueue;yn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,h=d=c=null,l=a;do{var m=l.lane,y=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var N=t,w=l;switch(m=e,y=s,w.tag){case 1:if(N=w.payload,typeof N=="function"){f=N.call(y,f,m);break e}f=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=w.payload,m=typeof N=="function"?N.call(y,f,m):N,m==null)break e;f=rt({},f,m);break e;case 2:yn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=f):h=h.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Mi|=o,t.lanes=o,t.memoizedState=f}}function vv(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var Jl={},fr=si(Jl),Tl=si(Jl),El=si(Jl);function vi(t){if(t===Jl)throw Error(Z(174));return t}function Og(t,e){switch(qe(El,e),qe(Tl,t),qe(fr,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nf(e,t)}Qe(fr),qe(fr,e)}function Fa(){Qe(fr),Qe(Tl),Qe(El)}function lj(t){vi(El.current);var e=vi(fr.current),s=Nf(e,t.type);e!==s&&(qe(Tl,t),qe(fr,s))}function Vg(t){Tl.current===t&&(Qe(fr),Qe(Tl))}var et=si(0);function ad(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _m=[];function Lg(){for(var t=0;t<_m.length;t++)_m[t]._workInProgressVersionPrimary=null;_m.length=0}var bu=an.ReactCurrentDispatcher,Tm=an.ReactCurrentBatchConfig,Di=0,st=null,Tt=null,It=null,od=!1,Zo=!1,Cl=0,pP=0;function Ht(){throw Error(Z(321))}function Fg(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!tr(t[s],e[s]))return!1;return!0}function Ug(t,e,s,r,i,a){if(Di=a,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bu.current=t===null||t.memoizedState===null?vP:bP,t=s(r,i),Zo){a=0;do{if(Zo=!1,Cl=0,25<=a)throw Error(Z(301));a+=1,It=Tt=null,e.updateQueue=null,bu.current=wP,t=s(r,i)}while(Zo)}if(bu.current=ld,e=Tt!==null&&Tt.next!==null,Di=0,It=Tt=st=null,od=!1,e)throw Error(Z(300));return t}function Bg(){var t=Cl!==0;return Cl=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?st.memoizedState=It=t:It=It.next=t,It}function $s(){if(Tt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=It===null?st.memoizedState:It.next;if(e!==null)It=e,Tt=t;else{if(t===null)throw Error(Z(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},It===null?st.memoizedState=It=t:It=It.next=t}return It}function Sl(t,e){return typeof e=="function"?e(t):e}function Em(t){var e=$s(),s=e.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=t;var r=Tt,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((Di&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,st.lanes|=h,Mi|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,tr(r,e.memoizedState)||(ms=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,s.lastRenderedState=r}if(t=s.interleaved,t!==null){i=t;do a=i.lane,st.lanes|=a,Mi|=a,i=i.next;while(i!==t)}else i===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Cm(t){var e=$s(),s=e.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=t;var r=s.dispatch,i=s.pending,a=e.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);tr(a,e.memoizedState)||(ms=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,r]}function cj(){}function uj(t,e){var s=st,r=$s(),i=e(),a=!tr(r.memoizedState,i);if(a&&(r.memoizedState=i,ms=!0),r=r.queue,$g(mj.bind(null,s,r,t),[t]),r.getSnapshot!==e||a||It!==null&&It.memoizedState.tag&1){if(s.flags|=2048,kl(9,hj.bind(null,s,r,i,e),void 0,null),At===null)throw Error(Z(349));Di&30||dj(s,e,i)}return i}function dj(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function hj(t,e,s,r){e.value=s,e.getSnapshot=r,fj(e)&&pj(t)}function mj(t,e,s){return s(function(){fj(e)&&pj(t)})}function fj(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!tr(t,s)}catch{return!0}}function pj(t){var e=Gr(t,1);e!==null&&er(e,t,1,-1)}function bv(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=yP.bind(null,st,t),[e.memoizedState,t]}function kl(t,e,s,r){return t={tag:t,create:e,destroy:s,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,e.lastEffect=t)),t}function gj(){return $s().memoizedState}function wu(t,e,s,r){var i=lr();st.flags|=t,i.memoizedState=kl(1|e,s,void 0,r===void 0?null:r)}function rh(t,e,s,r){var i=$s();r=r===void 0?null:r;var a=void 0;if(Tt!==null){var o=Tt.memoizedState;if(a=o.destroy,r!==null&&Fg(r,o.deps)){i.memoizedState=kl(e,s,a,r);return}}st.flags|=t,i.memoizedState=kl(1|e,s,a,r)}function wv(t,e){return wu(8390656,8,t,e)}function $g(t,e){return rh(2048,8,t,e)}function xj(t,e){return rh(4,2,t,e)}function yj(t,e){return rh(4,4,t,e)}function vj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bj(t,e,s){return s=s!=null?s.concat([t]):null,rh(4,4,vj.bind(null,e,t),s)}function zg(){}function wj(t,e){var s=$s();e=e===void 0?null:e;var r=s.memoizedState;return r!==null&&e!==null&&Fg(e,r[1])?r[0]:(s.memoizedState=[t,e],t)}function Nj(t,e){var s=$s();e=e===void 0?null:e;var r=s.memoizedState;return r!==null&&e!==null&&Fg(e,r[1])?r[0]:(t=t(),s.memoizedState=[t,e],t)}function jj(t,e,s){return Di&21?(tr(s,e)||(s=SN(),st.lanes|=s,Mi|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ms=!0),t.memoizedState=s)}function gP(t,e){var s=Ue;Ue=s!==0&&4>s?s:4,t(!0);var r=Tm.transition;Tm.transition={};try{t(!1),e()}finally{Ue=s,Tm.transition=r}}function _j(){return $s().memoizedState}function xP(t,e,s){var r=On(t);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Tj(t))Ej(e,s);else if(s=aj(t,e,s,r),s!==null){var i=is();er(s,t,r,i),Cj(s,e,r)}}function yP(t,e,s){var r=On(t),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tj(t))Ej(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,tr(l,o)){var c=e.interleaved;c===null?(i.next=i,Dg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}s=aj(t,e,i,r),s!==null&&(i=is(),er(s,t,r,i),Cj(s,e,r))}}function Tj(t){var e=t.alternate;return t===st||e!==null&&e===st}function Ej(t,e){Zo=od=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function Cj(t,e,s){if(s&4194240){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,bg(t,s)}}var ld={readContext:Bs,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},vP={readContext:Bs,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:Bs,useEffect:wv,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,wu(4194308,4,vj.bind(null,e,t),s)},useLayoutEffect:function(t,e){return wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return wu(4,2,t,e)},useMemo:function(t,e){var s=lr();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var r=lr();return e=s!==void 0?s(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xP.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:bv,useDebugValue:zg,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=bv(!1),e=t[0];return t=gP.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var r=st,i=lr();if(Xe){if(s===void 0)throw Error(Z(407));s=s()}else{if(s=e(),At===null)throw Error(Z(349));Di&30||dj(r,e,s)}i.memoizedState=s;var a={value:s,getSnapshot:e};return i.queue=a,wv(mj.bind(null,r,a,t),[t]),r.flags|=2048,kl(9,hj.bind(null,r,a,s,e),void 0,null),s},useId:function(){var t=lr(),e=At.identifierPrefix;if(Xe){var s=Fr,r=Lr;s=(r&~(1<<32-Zs(r)-1)).toString(32)+s,e=":"+e+"R"+s,s=Cl++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=pP++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bP={readContext:Bs,useCallback:wj,useContext:Bs,useEffect:$g,useImperativeHandle:bj,useInsertionEffect:xj,useLayoutEffect:yj,useMemo:Nj,useReducer:Em,useRef:gj,useState:function(){return Em(Sl)},useDebugValue:zg,useDeferredValue:function(t){var e=$s();return jj(e,Tt.memoizedState,t)},useTransition:function(){var t=Em(Sl)[0],e=$s().memoizedState;return[t,e]},useMutableSource:cj,useSyncExternalStore:uj,useId:_j,unstable_isNewReconciler:!1},wP={readContext:Bs,useCallback:wj,useContext:Bs,useEffect:$g,useImperativeHandle:bj,useInsertionEffect:xj,useLayoutEffect:yj,useMemo:Nj,useReducer:Cm,useRef:gj,useState:function(){return Cm(Sl)},useDebugValue:zg,useDeferredValue:function(t){var e=$s();return Tt===null?e.memoizedState=t:jj(e,Tt.memoizedState,t)},useTransition:function(){var t=Cm(Sl)[0],e=$s().memoizedState;return[t,e]},useMutableSource:cj,useSyncExternalStore:uj,useId:_j,unstable_isNewReconciler:!1};function Gs(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function zf(t,e,s,r){e=t.memoizedState,s=s(r,e),s=s==null?e:rt({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var nh={isMounted:function(t){return(t=t._reactInternals)?qi(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var r=is(),i=On(t),a=$r(r,i);a.payload=e,s!=null&&(a.callback=s),e=Dn(t,a,i),e!==null&&(er(e,t,i,r),vu(e,t,i))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var r=is(),i=On(t),a=$r(r,i);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=Dn(t,a,i),e!==null&&(er(e,t,i,r),vu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=is(),r=On(t),i=$r(s,r);i.tag=2,e!=null&&(i.callback=e),e=Dn(t,i,r),e!==null&&(er(e,t,r,s),vu(e,t,r))}};function Nv(t,e,s,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!wl(s,r)||!wl(i,a):!0}function Sj(t,e,s){var r=!1,i=zn,a=e.contextType;return typeof a=="object"&&a!==null?a=Bs(a):(i=xs(e)?Ai:Zt.current,r=e.contextTypes,a=(r=r!=null)?Oa(t,i):zn),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function jv(t,e,s,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,r),e.state!==t&&nh.enqueueReplaceState(e,e.state,null)}function qf(t,e,s,r){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},Mg(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Bs(a):(a=xs(e)?Ai:Zt.current,i.context=Oa(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(zf(t,e,a,s),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nh.enqueueReplaceState(i,i.state,null),id(t,s,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ua(t,e){try{var s="",r=e;do s+=QS(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Sm(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function Hf(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var NP=typeof WeakMap=="function"?WeakMap:Map;function kj(t,e,s){s=$r(-1,s),s.tag=3,s.payload={element:null};var r=e.value;return s.callback=function(){ud||(ud=!0,tp=r),Hf(t,e)},s}function Pj(t,e,s){s=$r(-1,s),s.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;s.payload=function(){return r(i)},s.callback=function(){Hf(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Hf(t,e),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function _v(t,e,s){var r=t.pingCache;if(r===null){r=t.pingCache=new NP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(s)||(i.add(s),t=OP.bind(null,t,e,s),e.then(t,t))}function Tv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ev(t,e,s,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=$r(-1,1),e.tag=2,Dn(s,e,1))),s.lanes|=1),t)}var jP=an.ReactCurrentOwner,ms=!1;function ss(t,e,s,r){e.child=t===null?ij(e,null,s,r):La(e,t.child,s,r)}function Cv(t,e,s,r,i){s=s.render;var a=e.ref;return Sa(e,i),r=Ug(t,e,s,r,a,i),s=Bg(),t!==null&&!ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(Xe&&s&&Sg(e),e.flags|=1,ss(t,e,r,i),e.child)}function Sv(t,e,s,r,i){if(t===null){var a=s.type;return typeof a=="function"&&!Xg(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,Ij(t,e,a,r,i)):(t=Tu(s.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:wl,s(o,r)&&t.ref===e.ref)return Kr(t,e,i)}return e.flags|=1,t=Vn(a,r),t.ref=e.ref,t.return=e,e.child=t}function Ij(t,e,s,r,i){if(t!==null){var a=t.memoizedProps;if(wl(a,r)&&t.ref===e.ref)if(ms=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(ms=!0);else return e.lanes=t.lanes,Kr(t,e,i)}return Wf(t,e,s,r,i)}function Aj(t,e,s){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(xa,Ns),Ns|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(xa,Ns),Ns|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,qe(xa,Ns),Ns|=r}else a!==null?(r=a.baseLanes|s,e.memoizedState=null):r=s,qe(xa,Ns),Ns|=r;return ss(t,e,i,s),e.child}function Rj(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function Wf(t,e,s,r,i){var a=xs(s)?Ai:Zt.current;return a=Oa(e,a),Sa(e,i),s=Ug(t,e,s,r,a,i),r=Bg(),t!==null&&!ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(Xe&&r&&Sg(e),e.flags|=1,ss(t,e,s,i),e.child)}function kv(t,e,s,r,i){if(xs(s)){var a=!0;ed(e)}else a=!1;if(Sa(e,i),e.stateNode===null)Nu(t,e),Sj(e,s,r),qf(e,s,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Bs(d):(d=xs(s)?Ai:Zt.current,d=Oa(e,d));var h=s.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&jv(e,o,r,d),yn=!1;var m=e.memoizedState;o.state=m,id(e,r,o,i),c=e.memoizedState,l!==r||m!==c||gs.current||yn?(typeof h=="function"&&(zf(e,s,h,r),c=e.memoizedState),(l=yn||Nv(e,s,l,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oj(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Gs(e.type,l),o.props=d,f=e.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Bs(c):(c=xs(s)?Ai:Zt.current,c=Oa(e,c));var y=s.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&jv(e,o,r,c),yn=!1,m=e.memoizedState,o.state=m,id(e,r,o,i);var N=e.memoizedState;l!==f||m!==N||gs.current||yn?(typeof y=="function"&&(zf(e,s,y,r),N=e.memoizedState),(d=yn||Nv(e,s,d,r,m,N,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),o.props=r,o.state=N,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Gf(t,e,s,r,a,i)}function Gf(t,e,s,r,i,a){Rj(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fv(e,s,!1),Kr(t,e,a);r=e.stateNode,jP.current=e;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=La(e,t.child,null,a),e.child=La(e,null,l,a)):ss(t,e,l,a),e.memoizedState=r.state,i&&fv(e,s,!0),e.child}function Dj(t){var e=t.stateNode;e.pendingContext?mv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mv(t,e.context,!1),Og(t,e.containerInfo)}function Pv(t,e,s,r,i){return Va(),Pg(i),e.flags|=256,ss(t,e,s,r),e.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Qf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mj(t,e,s){var r=e.pendingProps,i=et.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(et,i&1),t===null)return Bf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=oh(o,r,0,null),t=Ti(t,r,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Qf(s),e.memoizedState=Kf,t):qg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return _P(t,e,o,r,l,i,s);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Vn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Vn(l,a):(a=Ti(a,o,s,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Qf(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~s,e.memoizedState=Kf,r}return a=t.child,t=a.sibling,r=Vn(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=s),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r}function qg(t,e){return e=oh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qc(t,e,s,r){return r!==null&&Pg(r),La(e,t.child,null,s),t=qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _P(t,e,s,r,i,a,o){if(s)return e.flags&256?(e.flags&=-257,r=Sm(Error(Z(422))),Qc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=oh({mode:"visible",children:r.children},i,0,null),a=Ti(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&La(e,t.child,null,o),e.child.memoizedState=Qf(o),e.memoizedState=Kf,a);if(!(e.mode&1))return Qc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Z(419)),r=Sm(a,r,void 0),Qc(t,e,o,r)}if(l=(o&t.childLanes)!==0,ms||l){if(r=At,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Gr(t,i),er(r,t,i,-1))}return Yg(),r=Sm(Error(Z(421))),Qc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VP.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ts=Rn(i.nextSibling),Cs=e,Xe=!0,Qs=null,t!==null&&(Ds[Ms++]=Lr,Ds[Ms++]=Fr,Ds[Ms++]=Ri,Lr=t.id,Fr=t.overflow,Ri=e),e=qg(e,r.children),e.flags|=4096,e)}function Iv(t,e,s){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$f(t.return,e,s)}function km(t,e,s,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function Oj(t,e,s){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(ss(t,e,r.children,s),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iv(t,s,e);else if(t.tag===19)Iv(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(s=e.child,i=null;s!==null;)t=s.alternate,t!==null&&ad(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=e.child,e.child=null):(i=s.sibling,s.sibling=null),km(e,!1,i,s,a);break;case"backwards":for(s=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ad(t)===null){e.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}km(e,!0,s,null,a);break;case"together":km(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kr(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,s=Vn(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Vn(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function TP(t,e,s){switch(e.tag){case 3:Dj(e),Va();break;case 5:lj(e);break;case 1:xs(e.type)&&ed(e);break;case 4:Og(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(rd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(et,et.current&1),e.flags|=128,null):s&e.child.childLanes?Mj(t,e,s):(qe(et,et.current&1),t=Kr(t,e,s),t!==null?t.sibling:null);qe(et,et.current&1);break;case 19:if(r=(s&e.childLanes)!==0,t.flags&128){if(r)return Oj(t,e,s);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,Aj(t,e,s)}return Kr(t,e,s)}var Vj,Yf,Lj,Fj;Vj=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Yf=function(){};Lj=function(t,e,s,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vi(fr.current);var a=null;switch(s){case"input":i=yf(t,i),r=yf(t,r),a=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),a=[];break;case"textarea":i=wf(t,i),r=wf(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ju)}jf(s,r);var o;s=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fl.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ge("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};Fj=function(t,e,s,r){s!==r&&(e.flags|=4)};function Ro(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(e)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=s,e}function EP(t,e,s){var r=e.pendingProps;switch(kg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return xs(e.type)&&Zu(),Wt(e),null;case 3:return r=e.stateNode,Fa(),Qe(gs),Qe(Zt),Lg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qs!==null&&(np(Qs),Qs=null))),Yf(t,e),Wt(e),null;case 5:Vg(e);var i=vi(El.current);if(s=e.type,t!==null&&e.stateNode!=null)Lj(t,e,s,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Wt(e),null}if(t=vi(fr.current),Gc(e)){r=e.stateNode,s=e.type;var a=e.memoizedProps;switch(r[dr]=e,r[_l]=a,t=(e.mode&1)!==0,s){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<Bo.length;i++)Ge(Bo[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Uy(r,a),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ge("invalid",r);break;case"textarea":$y(r,a),Ge("invalid",r)}jf(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Wc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Wc(r.textContent,l,t),i=["children",""+l]):fl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",r)}switch(s){case"input":Lc(r),By(r,a,!0);break;case"textarea":Lc(r),zy(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ju)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mN(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(s,{is:r.is}):(t=o.createElement(s),s==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,s),t[dr]=e,t[_l]=r,Vj(t,e,!1,!1),e.stateNode=t;e:{switch(o=_f(s,r),s){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bo.length;i++)Ge(Bo[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":Uy(t,r),i=yf(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":$y(t,r),i=wf(t,r),Ge("invalid",t);break;default:i=r}jf(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?gN(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fN(t,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&pl(t,c):typeof c=="number"&&pl(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(fl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ge("scroll",t):c!=null&&fg(t,a,c,o))}switch(s){case"input":Lc(t),By(t,r,!1);break;case"textarea":Lc(t),zy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$n(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?_a(t,!!r.multiple,a,!1):r.defaultValue!=null&&_a(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ju)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)Fj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(s=vi(El.current),vi(fr.current),Gc(e)){if(r=e.stateNode,s=e.memoizedProps,r[dr]=e,(a=r.nodeValue!==s)&&(t=Cs,t!==null))switch(t.tag){case 3:Wc(r.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wc(r.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return Wt(e),null;case 13:if(Qe(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Ts!==null&&e.mode&1&&!(e.flags&128))rj(),Va(),e.flags|=98560,a=!1;else if(a=Gc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[dr]=e}else Va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),a=!1}else Qs!==null&&(np(Qs),Qs=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?Ct===0&&(Ct=3):Yg())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Fa(),Yf(t,e),t===null&&Nl(e.stateNode.containerInfo),Wt(e),null;case 10:return Rg(e.type._context),Wt(e),null;case 17:return xs(e.type)&&Zu(),Wt(e),null;case 19:if(Qe(et),a=e.memoizedState,a===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Ro(a,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ad(t),o!==null){for(e.flags|=128,Ro(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=s,s=e.child;s!==null;)a=s,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return qe(et,et.current&1|2),e.child}t=t.sibling}a.tail!==null&&ft()>Ba&&(e.flags|=128,r=!0,Ro(a,!1),e.lanes=4194304)}else{if(!r)if(t=ad(o),t!==null){if(e.flags|=128,r=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Ro(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Xe)return Wt(e),null}else 2*ft()-a.renderingStartTime>Ba&&s!==1073741824&&(e.flags|=128,r=!0,Ro(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(s=a.last,s!==null?s.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ft(),e.sibling=null,s=et.current,qe(et,r?s&1|2:s&1),e):(Wt(e),null);case 22:case 23:return Qg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ns&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function CP(t,e){switch(kg(e),e.tag){case 1:return xs(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fa(),Qe(gs),Qe(Zt),Lg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vg(e),null;case 13:if(Qe(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(et),null;case 4:return Fa(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Qg(),null;case 24:return null;default:return null}}var Yc=!1,Yt=!1,SP=typeof WeakSet=="function"?WeakSet:Set,le=null;function ga(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){ut(t,e,r)}else s.current=null}function Xf(t,e,s){try{s()}catch(r){ut(t,e,r)}}var Av=!1;function kP(t,e){if(Df=Qu,t=qN(),Cg(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==s||i!==0&&f.nodeType!==3||(l=o+i),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===s&&++d===i&&(l=o),m===a&&++h===r&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Mf={focusedElem:t,selectionRange:s},Qu=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var w=N.memoizedProps,T=N.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Gs(e.type,w),T);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(_){ut(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return N=Av,Av=!1,N}function el(t,e,s){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Xf(e,s,a)}i=i.next}while(i!==r)}}function ih(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var r=s.create;s.destroy=r()}s=s.next}while(s!==e)}}function Jf(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function Uj(t){var e=t.alternate;e!==null&&(t.alternate=null,Uj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[_l],delete e[Lf],delete e[dP],delete e[hP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bj(t){return t.tag===5||t.tag===3||t.tag===4}function Rv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Ju));else if(r!==4&&(t=t.child,t!==null))for(Zf(t,e,s),t=t.sibling;t!==null;)Zf(t,e,s),t=t.sibling}function ep(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ep(t,e,s),t=t.sibling;t!==null;)ep(t,e,s),t=t.sibling}var Mt=null,Ks=!1;function hn(t,e,s){for(s=s.child;s!==null;)$j(t,e,s),s=s.sibling}function $j(t,e,s){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(Xd,s)}catch{}switch(s.tag){case 5:Yt||ga(s,e);case 6:var r=Mt,i=Ks;Mt=null,hn(t,e,s),Mt=r,Ks=i,Mt!==null&&(Ks?(t=Mt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Mt.removeChild(s.stateNode));break;case 18:Mt!==null&&(Ks?(t=Mt,s=s.stateNode,t.nodeType===8?Nm(t.parentNode,s):t.nodeType===1&&Nm(t,s),vl(t)):Nm(Mt,s.stateNode));break;case 4:r=Mt,i=Ks,Mt=s.stateNode.containerInfo,Ks=!0,hn(t,e,s),Mt=r,Ks=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Xf(s,e,o),i=i.next}while(i!==r)}hn(t,e,s);break;case 1:if(!Yt&&(ga(s,e),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){ut(s,e,l)}hn(t,e,s);break;case 21:hn(t,e,s);break;case 22:s.mode&1?(Yt=(r=Yt)||s.memoizedState!==null,hn(t,e,s),Yt=r):hn(t,e,s);break;default:hn(t,e,s)}}function Dv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new SP),e.forEach(function(r){var i=LP.bind(null,t,r);s.has(r)||(s.add(r),r.then(i,i))})}}function Hs(t,e){var s=e.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Mt=l.stateNode,Ks=!1;break e;case 3:Mt=l.stateNode.containerInfo,Ks=!0;break e;case 4:Mt=l.stateNode.containerInfo,Ks=!0;break e}l=l.return}if(Mt===null)throw Error(Z(160));$j(a,o,i),Mt=null,Ks=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ut(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zj(e,t),e=e.sibling}function zj(t,e){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hs(e,t),or(t),r&4){try{el(3,t,t.return),ih(3,t)}catch(w){ut(t,t.return,w)}try{el(5,t,t.return)}catch(w){ut(t,t.return,w)}}break;case 1:Hs(e,t),or(t),r&512&&s!==null&&ga(s,s.return);break;case 5:if(Hs(e,t),or(t),r&512&&s!==null&&ga(s,s.return),t.flags&32){var i=t.stateNode;try{pl(i,"")}catch(w){ut(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=s!==null?s.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&dN(i,a),_f(l,o);var d=_f(l,a);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?gN(i,f):h==="dangerouslySetInnerHTML"?fN(i,f):h==="children"?pl(i,f):fg(i,h,f,d)}switch(l){case"input":vf(i,a);break;case"textarea":hN(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?_a(i,!!a.multiple,y,!1):m!==!!a.multiple&&(a.defaultValue!=null?_a(i,!!a.multiple,a.defaultValue,!0):_a(i,!!a.multiple,a.multiple?[]:"",!1))}i[_l]=a}catch(w){ut(t,t.return,w)}}break;case 6:if(Hs(e,t),or(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(w){ut(t,t.return,w)}}break;case 3:if(Hs(e,t),or(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{vl(e.containerInfo)}catch(w){ut(t,t.return,w)}break;case 4:Hs(e,t),or(t);break;case 13:Hs(e,t),or(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Gg=ft())),r&4&&Dv(t);break;case 22:if(h=s!==null&&s.memoizedState!==null,t.mode&1?(Yt=(d=Yt)||h,Hs(e,t),Yt=d):Hs(e,t),or(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(le=t,h=t.child;h!==null;){for(f=le=h;le!==null;){switch(m=le,y=m.child,m.tag){case 0:case 11:case 14:case 15:el(4,m,m.return);break;case 1:ga(m,m.return);var N=m.stateNode;if(typeof N.componentWillUnmount=="function"){r=m,s=m.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(w){ut(r,s,w)}}break;case 5:ga(m,m.return);break;case 22:if(m.memoizedState!==null){Ov(f);continue}}y!==null?(y.return=m,le=y):Ov(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=pN("display",o))}catch(w){ut(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){ut(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hs(e,t),or(t),r&4&&Dv(t);break;case 21:break;default:Hs(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(Bj(s)){var r=s;break e}s=s.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pl(i,""),r.flags&=-33);var a=Rv(t);ep(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Rv(t);Zf(t,l,o);break;default:throw Error(Z(161))}}catch(c){ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PP(t,e,s){le=t,qj(t)}function qj(t,e,s){for(var r=(t.mode&1)!==0;le!==null;){var i=le,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Yt;l=Yc;var d=Yt;if(Yc=o,(Yt=c)&&!d)for(le=i;le!==null;)o=le,c=o.child,o.tag===22&&o.memoizedState!==null?Vv(i):c!==null?(c.return=o,le=c):Vv(i);for(;a!==null;)le=a,qj(a),a=a.sibling;le=i,Yc=l,Yt=d}Mv(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,le=a):Mv(t)}}function Mv(t){for(;le!==null;){var e=le;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||ih(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(s===null)r.componentDidMount();else{var i=e.elementType===e.type?s.memoizedProps:Gs(e.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&vv(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}vv(e,o,s)}break;case 5:var l=e.stateNode;if(s===null&&e.flags&4){s=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&vl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Yt||e.flags&512&&Jf(e)}catch(m){ut(e,e.return,m)}}if(e===t){le=null;break}if(s=e.sibling,s!==null){s.return=e.return,le=s;break}le=e.return}}function Ov(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var s=e.sibling;if(s!==null){s.return=e.return,le=s;break}le=e.return}}function Vv(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{ih(4,e)}catch(c){ut(e,s,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ut(e,i,c)}}var a=e.return;try{Jf(e)}catch(c){ut(e,a,c)}break;case 5:var o=e.return;try{Jf(e)}catch(c){ut(e,o,c)}}}catch(c){ut(e,e.return,c)}if(e===t){le=null;break}var l=e.sibling;if(l!==null){l.return=e.return,le=l;break}le=e.return}}var IP=Math.ceil,cd=an.ReactCurrentDispatcher,Hg=an.ReactCurrentOwner,Ls=an.ReactCurrentBatchConfig,Re=0,At=null,bt=null,Ft=0,Ns=0,xa=si(0),Ct=0,Pl=null,Mi=0,ah=0,Wg=0,tl=null,us=null,Gg=0,Ba=1/0,Or=null,ud=!1,tp=null,Mn=null,Xc=!1,Cn=null,dd=0,sl=0,sp=null,ju=-1,_u=0;function is(){return Re&6?ft():ju!==-1?ju:ju=ft()}function On(t){return t.mode&1?Re&2&&Ft!==0?Ft&-Ft:fP.transition!==null?(_u===0&&(_u=SN()),_u):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:MN(t.type)),t):1}function er(t,e,s,r){if(50<sl)throw sl=0,sp=null,Error(Z(185));Ql(t,s,r),(!(Re&2)||t!==At)&&(t===At&&(!(Re&2)&&(ah|=s),Ct===4&&bn(t,Ft)),ys(t,r),s===1&&Re===0&&!(e.mode&1)&&(Ba=ft()+500,sh&&ri()))}function ys(t,e){var s=t.callbackNode;fk(t,e);var r=Ku(t,t===At?Ft:0);if(r===0)s!==null&&Wy(s),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(s!=null&&Wy(s),e===1)t.tag===0?mP(Lv.bind(null,t)):ej(Lv.bind(null,t)),cP(function(){!(Re&6)&&ri()}),s=null;else{switch(kN(r)){case 1:s=vg;break;case 4:s=EN;break;case 16:s=Gu;break;case 536870912:s=CN;break;default:s=Gu}s=Jj(s,Hj.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function Hj(t,e){if(ju=-1,_u=0,Re&6)throw Error(Z(327));var s=t.callbackNode;if(ka()&&t.callbackNode!==s)return null;var r=Ku(t,t===At?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hd(t,r);else{e=r;var i=Re;Re|=2;var a=Gj();(At!==t||Ft!==e)&&(Or=null,Ba=ft()+500,_i(t,e));do try{DP();break}catch(l){Wj(t,l)}while(!0);Ag(),cd.current=a,Re=i,bt!==null?e=0:(At=null,Ft=0,e=Ct)}if(e!==0){if(e===2&&(i=kf(t),i!==0&&(r=i,e=rp(t,i))),e===1)throw s=Pl,_i(t,0),bn(t,r),ys(t,ft()),s;if(e===6)bn(t,r);else{if(i=t.current.alternate,!(r&30)&&!AP(i)&&(e=hd(t,r),e===2&&(a=kf(t),a!==0&&(r=a,e=rp(t,a))),e===1))throw s=Pl,_i(t,0),bn(t,r),ys(t,ft()),s;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:fi(t,us,Or);break;case 3:if(bn(t,r),(r&130023424)===r&&(e=Gg+500-ft(),10<e)){if(Ku(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){is(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vf(fi.bind(null,t,us,Or),e);break}fi(t,us,Or);break;case 4:if(bn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Zs(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IP(r/1960))-r,10<r){t.timeoutHandle=Vf(fi.bind(null,t,us,Or),r);break}fi(t,us,Or);break;case 5:fi(t,us,Or);break;default:throw Error(Z(329))}}}return ys(t,ft()),t.callbackNode===s?Hj.bind(null,t):null}function rp(t,e){var s=tl;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=hd(t,e),t!==2&&(e=us,us=s,e!==null&&np(e)),t}function np(t){us===null?us=t:us.push.apply(us,t)}function AP(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!tr(a(),i))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bn(t,e){for(e&=~Wg,e&=~ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-Zs(e),r=1<<s;t[s]=-1,e&=~r}}function Lv(t){if(Re&6)throw Error(Z(327));ka();var e=Ku(t,0);if(!(e&1))return ys(t,ft()),null;var s=hd(t,e);if(t.tag!==0&&s===2){var r=kf(t);r!==0&&(e=r,s=rp(t,r))}if(s===1)throw s=Pl,_i(t,0),bn(t,e),ys(t,ft()),s;if(s===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fi(t,us,Or),ys(t,ft()),null}function Kg(t,e){var s=Re;Re|=1;try{return t(e)}finally{Re=s,Re===0&&(Ba=ft()+500,sh&&ri())}}function Oi(t){Cn!==null&&Cn.tag===0&&!(Re&6)&&ka();var e=Re;Re|=1;var s=Ls.transition,r=Ue;try{if(Ls.transition=null,Ue=1,t)return t()}finally{Ue=r,Ls.transition=s,Re=e,!(Re&6)&&ri()}}function Qg(){Ns=xa.current,Qe(xa)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,lP(s)),bt!==null)for(s=bt.return;s!==null;){var r=s;switch(kg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zu();break;case 3:Fa(),Qe(gs),Qe(Zt),Lg();break;case 5:Vg(r);break;case 4:Fa();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Rg(r.type._context);break;case 22:case 23:Qg()}s=s.return}if(At=t,bt=t=Vn(t.current,null),Ft=Ns=e,Ct=0,Pl=null,Wg=ah=Mi=0,us=tl=null,yi!==null){for(e=0;e<yi.length;e++)if(s=yi[e],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}yi=null}return t}function Wj(t,e){do{var s=bt;try{if(Ag(),bu.current=ld,od){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}od=!1}if(Di=0,It=Tt=st=null,Zo=!1,Cl=0,Hg.current=null,s===null||s.return===null){Ct=1,Pl=e,bt=null;break}e:{var a=t,o=s.return,l=s,c=e;if(e=Ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Tv(o);if(y!==null){y.flags&=-257,Ev(y,o,l,a,e),y.mode&1&&_v(a,d,e),e=y,c=d;var N=e.updateQueue;if(N===null){var w=new Set;w.add(c),e.updateQueue=w}else N.add(c);break e}else{if(!(e&1)){_v(a,d,e),Yg();break e}c=Error(Z(426))}}else if(Xe&&l.mode&1){var T=Tv(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Ev(T,o,l,a,e),Pg(Ua(c,l));break e}}a=c=Ua(c,l),Ct!==4&&(Ct=2),tl===null?tl=[a]:tl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=kj(a,c,e);yv(a,v);break e;case 1:l=c;var x=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mn===null||!Mn.has(g)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=Pj(a,l,e);yv(a,_);break e}}a=a.return}while(a!==null)}Qj(s)}catch(A){e=A,bt===s&&s!==null&&(bt=s=s.return);continue}break}while(!0)}function Gj(){var t=cd.current;return cd.current=ld,t===null?ld:t}function Yg(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),At===null||!(Mi&268435455)&&!(ah&268435455)||bn(At,Ft)}function hd(t,e){var s=Re;Re|=2;var r=Gj();(At!==t||Ft!==e)&&(Or=null,_i(t,e));do try{RP();break}catch(i){Wj(t,i)}while(!0);if(Ag(),Re=s,cd.current=r,bt!==null)throw Error(Z(261));return At=null,Ft=0,Ct}function RP(){for(;bt!==null;)Kj(bt)}function DP(){for(;bt!==null&&!ik();)Kj(bt)}function Kj(t){var e=Xj(t.alternate,t,Ns);t.memoizedProps=t.pendingProps,e===null?Qj(t):bt=e,Hg.current=null}function Qj(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=CP(s,e),s!==null){s.flags&=32767,bt=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,bt=null;return}}else if(s=EP(s,e,Ns),s!==null){bt=s;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Ct===0&&(Ct=5)}function fi(t,e,s){var r=Ue,i=Ls.transition;try{Ls.transition=null,Ue=1,MP(t,e,s,r)}finally{Ls.transition=i,Ue=r}return null}function MP(t,e,s,r){do ka();while(Cn!==null);if(Re&6)throw Error(Z(327));s=t.finishedWork;var i=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(pk(t,a),t===At&&(bt=At=null,Ft=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Xc||(Xc=!0,Jj(Gu,function(){return ka(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Ls.transition,Ls.transition=null;var o=Ue;Ue=1;var l=Re;Re|=4,Hg.current=null,kP(t,s),zj(s,t),tP(Mf),Qu=!!Df,Mf=Df=null,t.current=s,PP(s),ak(),Re=l,Ue=o,Ls.transition=a}else t.current=s;if(Xc&&(Xc=!1,Cn=t,dd=i),a=t.pendingLanes,a===0&&(Mn=null),ck(s.stateNode),ys(t,ft()),e!==null)for(r=t.onRecoverableError,s=0;s<e.length;s++)i=e[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,t=tp,tp=null,t;return dd&1&&t.tag!==0&&ka(),a=t.pendingLanes,a&1?t===sp?sl++:(sl=0,sp=t):sl=0,ri(),null}function ka(){if(Cn!==null){var t=kN(dd),e=Ls.transition,s=Ue;try{if(Ls.transition=null,Ue=16>t?16:t,Cn===null)var r=!1;else{if(t=Cn,Cn=null,dd=0,Re&6)throw Error(Z(331));var i=Re;for(Re|=4,le=t.current;le!==null;){var a=le,o=a.child;if(le.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(le=d;le!==null;){var h=le;switch(h.tag){case 0:case 11:case 15:el(8,h,a)}var f=h.child;if(f!==null)f.return=h,le=f;else for(;le!==null;){h=le;var m=h.sibling,y=h.return;if(Uj(h),h===d){le=null;break}if(m!==null){m.return=y,le=m;break}le=y}}}var N=a.alternate;if(N!==null){var w=N.child;if(w!==null){N.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}le=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,le=o;else e:for(;le!==null;){if(a=le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:el(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,le=v;break e}le=a.return}}var x=t.current;for(le=x;le!==null;){o=le;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,le=g;else e:for(o=x;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ih(9,l)}}catch(A){ut(l,l.return,A)}if(l===o){le=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,le=_;break e}le=l.return}}if(Re=i,ri(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(Xd,t)}catch{}r=!0}return r}finally{Ue=s,Ls.transition=e}}return!1}function Fv(t,e,s){e=Ua(s,e),e=kj(t,e,1),t=Dn(t,e,1),e=is(),t!==null&&(Ql(t,1,e),ys(t,e))}function ut(t,e,s){if(t.tag===3)Fv(t,t,s);else for(;e!==null;){if(e.tag===3){Fv(e,t,s);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){t=Ua(s,t),t=Pj(e,t,1),e=Dn(e,t,1),t=is(),e!==null&&(Ql(e,1,t),ys(e,t));break}}e=e.return}}function OP(t,e,s){var r=t.pingCache;r!==null&&r.delete(e),e=is(),t.pingedLanes|=t.suspendedLanes&s,At===t&&(Ft&s)===s&&(Ct===4||Ct===3&&(Ft&130023424)===Ft&&500>ft()-Gg?_i(t,0):Wg|=s),ys(t,e)}function Yj(t,e){e===0&&(t.mode&1?(e=Bc,Bc<<=1,!(Bc&130023424)&&(Bc=4194304)):e=1);var s=is();t=Gr(t,e),t!==null&&(Ql(t,e,s),ys(t,s))}function VP(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),Yj(t,s)}function LP(t,e){var s=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),Yj(t,s)}var Xj;Xj=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||gs.current)ms=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return ms=!1,TP(t,e,s);ms=!!(t.flags&131072)}else ms=!1,Xe&&e.flags&1048576&&tj(e,sd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nu(t,e),t=e.pendingProps;var i=Oa(e,Zt.current);Sa(e,s),i=Ug(null,e,r,t,i,s);var a=Bg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xs(r)?(a=!0,ed(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mg(e),i.updater=nh,e.stateNode=i,i._reactInternals=e,qf(e,r,t,s),e=Gf(null,e,r,!0,a,s)):(e.tag=0,Xe&&a&&Sg(e),ss(null,e,i,s),e=e.child),e;case 16:r=e.elementType;e:{switch(Nu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UP(r),t=Gs(r,t),i){case 0:e=Wf(null,e,r,t,s);break e;case 1:e=kv(null,e,r,t,s);break e;case 11:e=Cv(null,e,r,t,s);break e;case 14:e=Sv(null,e,r,Gs(r.type,t),s);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gs(r,i),Wf(t,e,r,i,s);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gs(r,i),kv(t,e,r,i,s);case 3:e:{if(Dj(e),t===null)throw Error(Z(387));r=e.pendingProps,a=e.memoizedState,i=a.element,oj(t,e),id(e,r,null,s);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Ua(Error(Z(423)),e),e=Pv(t,e,r,s,i);break e}else if(r!==i){i=Ua(Error(Z(424)),e),e=Pv(t,e,r,s,i);break e}else for(Ts=Rn(e.stateNode.containerInfo.firstChild),Cs=e,Xe=!0,Qs=null,s=ij(e,null,r,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Va(),r===i){e=Kr(t,e,s);break e}ss(t,e,r,s)}e=e.child}return e;case 5:return lj(e),t===null&&Bf(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Of(r,i)?o=null:a!==null&&Of(r,a)&&(e.flags|=32),Rj(t,e),ss(t,e,o,s),e.child;case 6:return t===null&&Bf(e),null;case 13:return Mj(t,e,s);case 4:return Og(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=La(e,null,r,s):ss(t,e,r,s),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gs(r,i),Cv(t,e,r,i,s);case 7:return ss(t,e,e.pendingProps,s),e.child;case 8:return ss(t,e,e.pendingProps.children,s),e.child;case 12:return ss(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,qe(rd,r._currentValue),r._currentValue=o,a!==null)if(tr(a.value,o)){if(a.children===i.children&&!gs.current){e=Kr(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=$r(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),$f(a.return,s,e),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Z(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),$f(o,s,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ss(t,e,i.children,s),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sa(e,s),i=Bs(i),r=r(i),e.flags|=1,ss(t,e,r,s),e.child;case 14:return r=e.type,i=Gs(r,e.pendingProps),i=Gs(r.type,i),Sv(t,e,r,i,s);case 15:return Ij(t,e,e.type,e.pendingProps,s);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gs(r,i),Nu(t,e),e.tag=1,xs(r)?(t=!0,ed(e)):t=!1,Sa(e,s),Sj(e,r,i),qf(e,r,i,s),Gf(null,e,r,!0,t,s);case 19:return Oj(t,e,s);case 22:return Aj(t,e,s)}throw Error(Z(156,e.tag))};function Jj(t,e){return TN(t,e)}function FP(t,e,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(t,e,s,r){return new FP(t,e,s,r)}function Xg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UP(t){if(typeof t=="function")return Xg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gg)return 11;if(t===xg)return 14}return 2}function Vn(t,e){var s=t.alternate;return s===null?(s=Vs(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Tu(t,e,s,r,i,a){var o=2;if(r=t,typeof t=="function")Xg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oa:return Ti(s.children,i,a,e);case pg:o=8,i|=8;break;case ff:return t=Vs(12,s,e,i|2),t.elementType=ff,t.lanes=a,t;case pf:return t=Vs(13,s,e,i),t.elementType=pf,t.lanes=a,t;case gf:return t=Vs(19,s,e,i),t.elementType=gf,t.lanes=a,t;case lN:return oh(s,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aN:o=10;break e;case oN:o=9;break e;case gg:o=11;break e;case xg:o=14;break e;case xn:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Vs(o,s,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ti(t,e,s,r){return t=Vs(7,t,r,e),t.lanes=s,t}function oh(t,e,s,r){return t=Vs(22,t,r,e),t.elementType=lN,t.lanes=s,t.stateNode={isHidden:!1},t}function Pm(t,e,s){return t=Vs(6,t,null,e),t.lanes=s,t}function Im(t,e,s){return e=Vs(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BP(t,e,s,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dm(0),this.expirationTimes=dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jg(t,e,s,r,i,a,o,l,c){return t=new BP(t,e,s,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Vs(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(a),t}function $P(t,e,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:s}}function Zj(t){if(!t)return zn;t=t._reactInternals;e:{if(qi(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var s=t.type;if(xs(s))return ZN(t,s,e)}return e}function e2(t,e,s,r,i,a,o,l,c){return t=Jg(s,r,!0,t,i,a,o,l,c),t.context=Zj(null),s=t.current,r=is(),i=On(s),a=$r(r,i),a.callback=e??null,Dn(s,a,i),t.current.lanes=i,Ql(t,i,r),ys(t,r),t}function lh(t,e,s,r){var i=e.current,a=is(),o=On(i);return s=Zj(s),e.context===null?e.context=s:e.pendingContext=s,e=$r(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Dn(i,e,o),t!==null&&(er(t,i,o,a),vu(t,i,o)),o}function md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Zg(t,e){Uv(t,e),(t=t.alternate)&&Uv(t,e)}function zP(){return null}var t2=typeof reportError=="function"?reportError:function(t){console.error(t)};function ex(t){this._internalRoot=t}ch.prototype.render=ex.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));lh(t,e,null,null)};ch.prototype.unmount=ex.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oi(function(){lh(null,t,null,null)}),e[Wr]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var e=AN();t={blockedOn:null,target:t,priority:e};for(var s=0;s<vn.length&&e!==0&&e<vn[s].priority;s++);vn.splice(s,0,t),s===0&&DN(t)}};function tx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bv(){}function qP(t,e,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=md(o);a.call(d)}}var o=e2(e,r,t,0,null,!1,!1,"",Bv);return t._reactRootContainer=o,t[Wr]=o.current,Nl(t.nodeType===8?t.parentNode:t),Oi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=md(c);l.call(d)}}var c=Jg(t,0,!1,null,null,!1,!1,"",Bv);return t._reactRootContainer=c,t[Wr]=c.current,Nl(t.nodeType===8?t.parentNode:t),Oi(function(){lh(e,c,s,r)}),c}function dh(t,e,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=md(o);l.call(c)}}lh(e,o,t,i)}else o=qP(s,e,t,i,r);return md(o)}PN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=Uo(e.pendingLanes);s!==0&&(bg(e,s|1),ys(e,ft()),!(Re&6)&&(Ba=ft()+500,ri()))}break;case 13:Oi(function(){var r=Gr(t,1);if(r!==null){var i=is();er(r,t,1,i)}}),Zg(t,1)}};wg=function(t){if(t.tag===13){var e=Gr(t,134217728);if(e!==null){var s=is();er(e,t,134217728,s)}Zg(t,134217728)}};IN=function(t){if(t.tag===13){var e=On(t),s=Gr(t,e);if(s!==null){var r=is();er(s,t,e,r)}Zg(t,e)}};AN=function(){return Ue};RN=function(t,e){var s=Ue;try{return Ue=t,e()}finally{Ue=s}};Ef=function(t,e,s){switch(e){case"input":if(vf(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var r=s[e];if(r!==t&&r.form===t.form){var i=th(r);if(!i)throw Error(Z(90));uN(r),vf(r,i)}}}break;case"textarea":hN(t,s);break;case"select":e=s.value,e!=null&&_a(t,!!s.multiple,e,!1)}};vN=Kg;bN=Oi;var HP={usingClientEntryPoint:!1,Events:[Xl,da,th,xN,yN,Kg]},Do={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WP={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jN(t),t===null?null:t.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||zP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Xd=Jc.inject(WP),mr=Jc}catch{}}ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HP;ks.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tx(e))throw Error(Z(200));return $P(t,e,null,s)};ks.createRoot=function(t,e){if(!tx(t))throw Error(Z(299));var s=!1,r="",i=t2;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jg(t,1,!1,null,null,s,!1,r,i),t[Wr]=e.current,Nl(t.nodeType===8?t.parentNode:t),new ex(e)};ks.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=jN(e),t=t===null?null:t.stateNode,t};ks.flushSync=function(t){return Oi(t)};ks.hydrate=function(t,e,s){if(!uh(e))throw Error(Z(200));return dh(null,t,e,!0,s)};ks.hydrateRoot=function(t,e,s){if(!tx(t))throw Error(Z(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=t2;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=e2(e,null,t,1,s??null,i,!1,a,o),t[Wr]=e.current,Nl(t),r)for(t=0;t<r.length;t++)s=r[t],i=s._getVersion,i=i(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,i]:e.mutableSourceEagerHydrationData.push(s,i);return new ch(e)};ks.render=function(t,e,s){if(!uh(e))throw Error(Z(200));return dh(null,t,e,!1,s)};ks.unmountComponentAtNode=function(t){if(!uh(t))throw Error(Z(40));return t._reactRootContainer?(Oi(function(){dh(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};ks.unstable_batchedUpdates=Kg;ks.unstable_renderSubtreeIntoContainer=function(t,e,s,r){if(!uh(s))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return dh(t,e,s,!1,r)};ks.version="18.3.1-next-f1338f8080-20240426";function s2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s2)}catch(t){console.error(t)}}s2(),sN.exports=ks;var GP=sN.exports,r2,$v=GP;r2=$v.createRoot,$v.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zv="popstate";function KP(t={}){function e(r,i){let{pathname:a,search:o,hash:l}=r.location;return ip("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:Il(i)}return YP(e,s,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QP(){return Math.random().toString(36).substring(2,10)}function qv(t,e){return{usr:t.state,key:t.key,idx:e}}function ip(t,e,s=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?so(e):e,state:s,key:e&&e.key||r||QP()}}function Il({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function so(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YP(t,e,s,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let T=h(),v=T==null?null:T-d;d=T,c&&c({action:l,location:w.location,delta:v})}function m(T,v){l="PUSH";let x=ip(w.location,T,v);d=h()+1;let g=qv(x,d),_=w.createHref(x);try{o.pushState(g,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(_)}a&&c&&c({action:l,location:w.location,delta:1})}function y(T,v){l="REPLACE";let x=ip(w.location,T,v);d=h();let g=qv(x,d),_=w.createHref(x);o.replaceState(g,"",_),a&&c&&c({action:l,location:w.location,delta:0})}function N(T){return XP(T)}let w={get action(){return l},get location(){return t(i,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(zv,f),c=T,()=>{i.removeEventListener(zv,f),c=null}},createHref(T){return e(i,T)},createURL:N,encodeLocation(T){let v=N(T);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(T){return o.go(T)}};return w}function XP(t,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(s,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Il(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function n2(t,e,s="/"){return JP(t,e,s,!1)}function JP(t,e,s,r){let i=typeof e=="string"?so(e):e,a=Qr(i.pathname||"/",s);if(a==null)return null;let o=i2(t);ZP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=uI(a);l=lI(o[c],d,r)}return l}function i2(t,e=[],s=[],r="",i=!1){let a=(o,l,c=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;Ze(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=zr([r,h.relativePath]),m=s.concat(h);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),i2(o.children,e,m,f,c)),!(o.path==null&&!o.index)&&e.push({path:f,score:aI(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let d of a2(o.path))a(o,l,!0,d)}),e}function a2(t){let e=t.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=a2(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function ZP(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:oI(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var eI=/^:[\w-]+$/,tI=3,sI=2,rI=1,nI=10,iI=-2,Hv=t=>t==="*";function aI(t,e){let s=t.split("/"),r=s.length;return s.some(Hv)&&(r+=iI),e&&(r+=sI),s.filter(i=>!Hv(i)).reduce((i,a)=>i+(eI.test(a)?tI:a===""?rI:nI),r)}function oI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lI(t,e,s=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=fd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f&&d&&s&&!r[r.length-1].route.index&&(f=fd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:zr([a,f.pathname]),pathnameBase:fI(zr([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=zr([a,f.pathnameBase]))}return o}function fd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=cI(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},m)=>{if(h==="*"){let N=l[m]||"";o=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const y=l[m];return f&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function cI(t,e=!1,s=!0){sr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function dI(t,e="/"){let{pathname:s,search:r="",hash:i=""}=typeof t=="string"?so(t):t;return{pathname:s?s.startsWith("/")?s:hI(s,e):e,search:pI(r),hash:gI(i)}}function hI(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Am(t,e,s,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mI(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function sx(t){let e=mI(t);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function rx(t,e,s,r=!1){let i;typeof t=="string"?i=so(t):(i={...t},Ze(!i.pathname||!i.pathname.includes("?"),Am("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Am("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Am("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=dI(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var zr=t=>t.join("/").replace(/\/\/+/g,"/"),fI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var o2=["POST","PUT","PATCH","DELETE"];new Set(o2);var yI=["GET",...o2];new Set(yI);var ro=E.createContext(null);ro.displayName="DataRouter";var hh=E.createContext(null);hh.displayName="DataRouterState";E.createContext(!1);var l2=E.createContext({isTransitioning:!1});l2.displayName="ViewTransition";var vI=E.createContext(new Map);vI.displayName="Fetchers";var bI=E.createContext(null);bI.displayName="Await";var nr=E.createContext(null);nr.displayName="Navigation";var Zl=E.createContext(null);Zl.displayName="Location";var Sr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var nx=E.createContext(null);nx.displayName="RouteError";function wI(t,{relative:e}={}){Ze(no(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=E.useContext(nr),{hash:i,pathname:a,search:o}=ec(t,{relative:e}),l=a;return s!=="/"&&(l=a==="/"?s:zr([s,a])),r.createHref({pathname:l,search:o,hash:i})}function no(){return E.useContext(Zl)!=null}function on(){return Ze(no(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Zl).location}var c2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u2(t){E.useContext(nr).static||E.useLayoutEffect(t)}function bs(){let{isDataRoute:t}=E.useContext(Sr);return t?DI():NI()}function NI(){Ze(no(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(ro),{basename:e,navigator:s}=E.useContext(nr),{matches:r}=E.useContext(Sr),{pathname:i}=on(),a=JSON.stringify(sx(r)),o=E.useRef(!1);return u2(()=>{o.current=!0}),E.useCallback((c,d={})=>{if(sr(o.current,c2),!o.current)return;if(typeof c=="number"){s.go(c);return}let h=rx(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zr([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,a,i,t])}E.createContext(null);function ec(t,{relative:e}={}){let{matches:s}=E.useContext(Sr),{pathname:r}=on(),i=JSON.stringify(sx(s));return E.useMemo(()=>rx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function jI(t,e){return d2(t,e)}function d2(t,e,s,r,i){var x;Ze(no(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(nr),{matches:o}=E.useContext(Sr),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let g=f&&f.path||"";h2(d,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let m=on(),y;if(e){let g=typeof e=="string"?so(e):e;Ze(h==="/"||((x=g.pathname)==null?void 0:x.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${g.pathname}" was given in the \`location\` prop.`),y=g}else y=m;let N=y.pathname||"/",w=N;if(h!=="/"){let g=h.replace(/^\//,"").split("/");w="/"+N.replace(/^\//,"").split("/").slice(g.length).join("/")}let T=n2(t,{pathname:w});sr(f||T!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),sr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=SI(T&&T.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:zr([h,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?h:zr([h,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,s,r,i);return e&&v?E.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function _I(){let t=RI(),e=xI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),s?E.createElement("pre",{style:i},s):null,o)}var TI=E.createElement(_I,null),EI=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Sr.Provider,{value:this.props.routeContext},E.createElement(nx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CI({routeContext:t,match:e,children:s}){let r=E.useContext(ro);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Sr.Provider,{value:t},s)}function SI(t,e=[],s=null,r=null,i=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let a=t,o=s==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ze(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(s)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=s,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,y=!1,N=null,w=null;s&&(m=o&&h.route.id?o[h.route.id]:void 0,N=h.route.errorElement||TI,l&&(c<0&&f===0?(h2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):c===f&&(y=!0,w=h.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,f+1)),v=()=>{let x;return m?x=N:y?x=w:h.route.Component?x=E.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,E.createElement(CI,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:s!=null},children:x})};return s&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?E.createElement(EI,{location:s.location,revalidation:s.revalidation,component:N,error:m,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):v()},null)}function ix(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kI(t){let e=E.useContext(ro);return Ze(e,ix(t)),e}function PI(t){let e=E.useContext(hh);return Ze(e,ix(t)),e}function II(t){let e=E.useContext(Sr);return Ze(e,ix(t)),e}function ax(t){let e=II(t),s=e.matches[e.matches.length-1];return Ze(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function AI(){return ax("useRouteId")}function RI(){var r;let t=E.useContext(nx),e=PI("useRouteError"),s=ax("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[s]}function DI(){let{router:t}=kI("useNavigate"),e=ax("useNavigate"),s=E.useRef(!1);return u2(()=>{s.current=!0}),E.useCallback(async(i,a={})=>{sr(s.current,c2),s.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Wv={};function h2(t,e,s){!e&&!Wv[t]&&(Wv[t]=!0,sr(!1,s))}E.memo(MI);function MI({routes:t,future:e,state:s,unstable_onError:r}){return d2(t,void 0,s,r,e)}function Rm({to:t,replace:e,state:s,relative:r}){Ze(no(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(nr);sr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(Sr),{pathname:o}=on(),l=bs(),c=rx(t,sx(a),o,r==="path"),d=JSON.stringify(c);return E.useEffect(()=>{l(JSON.parse(d),{replace:e,state:s,relative:r})},[l,d,r,e,s]),null}function ls(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OI({basename:t="/",children:e=null,location:s,navigationType:r="POP",navigator:i,static:a=!1}){Ze(!no(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof s=="string"&&(s=so(s));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=s,y=E.useMemo(()=>{let N=Qr(c,o);return N==null?null:{location:{pathname:N,search:d,hash:h,state:f,key:m},navigationType:r}},[o,c,d,h,f,m,r]);return sr(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:E.createElement(nr.Provider,{value:l},E.createElement(Zl.Provider,{children:e,value:y}))}function VI({children:t,location:e}){return jI(ap(t),e)}function ap(t,e=[]){let s=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let a=[...e,i];if(r.type===E.Fragment){s.push.apply(s,ap(r.props.children,a));return}Ze(r.type===ls,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ap(r.props.children,a)),s.push(o)}),s}var Eu="get",Cu="application/x-www-form-urlencoded";function mh(t){return t!=null&&typeof t.tagName=="string"}function LI(t){return mh(t)&&t.tagName.toLowerCase()==="button"}function FI(t){return mh(t)&&t.tagName.toLowerCase()==="form"}function UI(t){return mh(t)&&t.tagName.toLowerCase()==="input"}function BI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $I(t,e){return t.button===0&&(!e||e==="_self")&&!BI(t)}var Zc=null;function zI(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var qI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(t){return t!=null&&!qI.has(t)?(sr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cu}"`),null):t}function HI(t,e){let s,r,i,a,o;if(FI(t)){let l=t.getAttribute("action");r=l?Qr(l,e):null,s=t.getAttribute("method")||Eu,i=Dm(t.getAttribute("enctype"))||Cu,a=new FormData(t)}else if(LI(t)||UI(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Qr(c,e):null,s=t.getAttribute("formmethod")||l.getAttribute("method")||Eu,i=Dm(t.getAttribute("formenctype"))||Dm(l.getAttribute("enctype"))||Cu,a=new FormData(l,t),!zI()){let{name:d,type:h,value:f}=t;if(h==="image"){let m=d?`${d}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else d&&a.append(d,f)}}else{if(mh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Eu,r=null,i=Cu,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ox(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WI(t,e,s){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${s}`:e&&Qr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function GI(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QI(t,e,s){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await GI(a,s);return o.links?o.links():[]}return[]}));return ZI(r.flat(1).filter(KI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Gv(t,e,s,r,i,a){let o=(c,d)=>s[d]?c.route.id!==s[d].route.id:!0,l=(c,d)=>{var h;return s[d].pathname!==c.pathname||((h=s[d].route.path)==null?void 0:h.endsWith("*"))&&s[d].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):a==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=s[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function YI(t,e,{includeHydrateFallback:s}={}){return XI(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function XI(t){return[...new Set(t)]}function JI(t){let e={},s=Object.keys(t).sort();for(let r of s)e[r]=t[r];return e}function ZI(t,e){let s=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(JI(i));return s.has(a)||(s.add(a),r.push({key:a,link:i})),r},[])}function m2(){let t=E.useContext(ro);return ox(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function e4(){let t=E.useContext(hh);return ox(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lx=E.createContext(void 0);lx.displayName="FrameworkContext";function f2(){let t=E.useContext(lx);return ox(t,"You must render this element inside a <HydratedRouter> element"),t}function t4(t,e){let s=E.useContext(lx),[r,i]=E.useState(!1),[a,o]=E.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,m=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=v=>{v.forEach(x=>{o(x.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return m.current&&T.observe(m.current),()=>{T.disconnect()}}},[t]),E.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},N=()=>{i(!1),o(!1)};return s?t!=="intent"?[a,m,{}]:[a,m,{onFocus:Mo(l,y),onBlur:Mo(c,N),onMouseEnter:Mo(d,y),onMouseLeave:Mo(h,N),onTouchStart:Mo(f,y)}]:[!1,m,{}]}function Mo(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function s4({page:t,...e}){let{router:s}=m2(),r=E.useMemo(()=>n2(s.routes,t,s.basename),[s.routes,t,s.basename]);return r?E.createElement(n4,{page:t,matches:r,...e}):null}function r4(t){let{manifest:e,routeModules:s}=f2(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return QI(t,e,s).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,s]),r}function n4({page:t,matches:e,...s}){let r=on(),{manifest:i,routeModules:a}=f2(),{basename:o}=m2(),{loaderData:l,matches:c}=e4(),d=E.useMemo(()=>Gv(t,e,c,i,r,"data"),[t,e,c,i,r]),h=E.useMemo(()=>Gv(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,w=!1;if(e.forEach(v=>{var g;let x=i.routes[v.route.id];!x||!x.hasLoader||(!d.some(_=>_.route.id===v.route.id)&&v.route.id in l&&((g=a[v.route.id])!=null&&g.shouldRevalidate)||x.hasClientLoader?w=!0:N.add(v.route.id))}),N.size===0)return[];let T=WI(t,o,"data");return w&&N.size>0&&T.searchParams.set("_routes",e.filter(v=>N.has(v.route.id)).map(v=>v.route.id).join(",")),[T.pathname+T.search]},[o,l,r,i,d,e,t,a]),m=E.useMemo(()=>YI(h,i),[h,i]),y=r4(h);return E.createElement(E.Fragment,null,f.map(N=>E.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),m.map(N=>E.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),y.map(({key:N,link:w})=>E.createElement("link",{key:N,nonce:s.nonce,...w})))}function i4(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var p2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p2&&(window.__reactRouterVersion="7.8.2")}catch{}function a4({basename:t,children:e,window:s}){let r=E.useRef();r.current==null&&(r.current=KP({window:s,v5Compat:!0}));let i=r.current,[a,o]=E.useState({action:i.action,location:i.location}),l=E.useCallback(c=>{E.startTransition(()=>o(c))},[o]);return E.useLayoutEffect(()=>i.listen(l),[i,l]),E.createElement(OI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var g2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x2=E.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f,...m},y){let{basename:N}=E.useContext(nr),w=typeof d=="string"&&g2.test(d),T,v=!1;if(typeof d=="string"&&w&&(T=d,p2))try{let k=new URL(window.location.href),I=d.startsWith("//")?new URL(k.protocol+d):new URL(d),V=Qr(I.pathname,N);I.origin===k.origin&&V!=null?d=V+I.search+I.hash:v=!0}catch{sr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=wI(d,{relative:i}),[g,_,A]=t4(r,m),M=u4(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});function C(k){e&&e(k),k.defaultPrevented||M(k)}let j=E.createElement("a",{...m,...A,href:T||x,onClick:v||a?e:C,ref:i4(y,_),target:c,"data-discover":!w&&s==="render"?"true":void 0});return g&&!w?E.createElement(E.Fragment,null,j,E.createElement(s4,{page:x})):j});x2.displayName="Link";var o4=E.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:c,...d},h){let f=ec(o,{relative:d.relative}),m=on(),y=E.useContext(hh),{navigator:N,basename:w}=E.useContext(nr),T=y!=null&&p4(f)&&l===!0,v=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,x=m.pathname,g=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(x=x.toLowerCase(),g=g?g.toLowerCase():null,v=v.toLowerCase()),g&&w&&(g=Qr(g,w)||g);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let A=x===v||!i&&x.startsWith(v)&&x.charAt(_)==="/",M=g!=null&&(g===v||!i&&g.startsWith(v)&&g.charAt(v.length)==="/"),C={isActive:A,isPending:M,isTransitioning:T},j=A?e:void 0,k;typeof r=="function"?k=r(C):k=[r,A?"active":null,M?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(C):a;return E.createElement(x2,{...d,"aria-current":j,className:k,ref:h,style:I,to:o,viewTransition:l},typeof c=="function"?c(C):c)});o4.displayName="NavLink";var l4=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:i,state:a,method:o=Eu,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...m},y)=>{let N=m4(),w=f4(l,{relative:d}),T=o.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&g2.test(l),x=g=>{if(c&&c(g),g.defaultPrevented)return;g.preventDefault();let _=g.nativeEvent.submitter,A=(_==null?void 0:_.getAttribute("formmethod"))||o;N(_||g.currentTarget,{fetcherKey:e,method:A,navigate:s,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:f})};return E.createElement("form",{ref:y,method:T,action:w,onSubmit:r?c:x,...m,"data-discover":!v&&t==="render"?"true":void 0})});l4.displayName="Form";function c4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y2(t){let e=E.useContext(ro);return Ze(e,c4(t)),e}function u4(t,{target:e,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let l=bs(),c=on(),d=ec(t,{relative:a});return E.useCallback(h=>{if($I(h,e)){h.preventDefault();let f=s!==void 0?s:Il(c)===Il(d);l(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,s,r,e,t,i,a,o])}var d4=0,h4=()=>`__${String(++d4)}__`;function m4(){let{router:t}=y2("useSubmit"),{basename:e}=E.useContext(nr),s=AI();return E.useCallback(async(r,i={})=>{let{action:a,method:o,encType:l,formData:c,body:d}=HI(r,e);if(i.navigate===!1){let h=i.fetcherKey||h4();await t.fetch(h,s,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,s])}function f4(t,{relative:e}={}){let{basename:s}=E.useContext(nr),r=E.useContext(Sr);Ze(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ec(t||".",{relative:e})},o=on();if(t==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(a.pathname=a.pathname==="/"?s:zr([s,a.pathname])),Il(a)}function p4(t,{relative:e}={}){let s=E.useContext(l2);Ze(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=y2("useViewTransitionState"),i=ec(t,{relative:e});if(!s.isTransitioning)return!1;let a=Qr(s.currentLocation.pathname,r)||s.currentLocation.pathname,o=Qr(s.nextLocation.pathname,r)||s.nextLocation.pathname;return fd(i.pathname,o)!=null||fd(i.pathname,a)!=null}let g4={data:""},x4=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||g4,y4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,v4=/\/\*[^]*?\*\/|  +/g,Kv=/\n+/g,wn=(t,e)=>{let s="",r="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":r+=a[1]=="f"?wn(o,a):a+"{"+wn(o,a[1]=="k"?"":e)+"}":typeof o=="object"?r+=wn(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=wn.p?wn.p(a,o):a+":"+o+";")}return s+(e&&i?e+"{"+i+"}":i)+r},Rr={},v2=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+v2(t[s]);return e}return t},b4=(t,e,s,r,i)=>{let a=v2(t),o=Rr[a]||(Rr[a]=(c=>{let d=0,h=11;for(;d<c.length;)h=101*h+c.charCodeAt(d++)>>>0;return"go"+h})(a));if(!Rr[o]){let c=a!==t?t:(d=>{let h,f,m=[{}];for(;h=y4.exec(d.replace(v4,""));)h[4]?m.shift():h[3]?(f=h[3].replace(Kv," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][h[1]]=h[2].replace(Kv," ").trim();return m[0]})(t);Rr[o]=wn(i?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&Rr.g?Rr.g:null;return s&&(Rr.g=Rr[o]),((c,d,h,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=h?c+d.data:d.data+c)})(Rr[o],e,r,l),o},w4=(t,e,s)=>t.reduce((r,i,a)=>{let o=e[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":wn(l,""):l===!1?"":l}return r+i+(o??"")},"");function fh(t){let e=this||{},s=t.call?t(e.p):t;return b4(s.unshift?s.raw?w4(s,[].slice.call(arguments,1),e.p):s.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):s,x4(e.target),e.g,e.o,e.k)}let b2,op,lp;fh.bind({g:1});let Yr=fh.bind({k:1});function N4(t,e,s,r){wn.p=e,b2=t,op=s,lp=r}function ni(t,e){let s=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;s.p=Object.assign({theme:op&&op()},l),s.o=/ *go\d+/.test(c),l.className=fh.apply(s,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),lp&&d[0]&&lp(l),b2(d,l)}return i}}var j4=t=>typeof t=="function",pd=(t,e)=>j4(t)?t(e):t,_4=(()=>{let t=0;return()=>(++t).toString()})(),w2=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),T4=20,cx="default",N2=(t,e)=>{let{toastLimit:s}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,s)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return N2(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Su=[],j2={toasts:[],pausedAt:void 0,settings:{toastLimit:T4}},hr={},_2=(t,e=cx)=>{hr[e]=N2(hr[e]||j2,t),Su.forEach(([s,r])=>{s===e&&r(hr[e])})},T2=t=>Object.keys(hr).forEach(e=>_2(t,e)),E4=t=>Object.keys(hr).find(e=>hr[e].toasts.some(s=>s.id===t)),ph=(t=cx)=>e=>{_2(e,t)},C4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},S4=(t={},e=cx)=>{let[s,r]=E.useState(hr[e]||j2),i=E.useRef(hr[e]);E.useEffect(()=>(i.current!==hr[e]&&r(hr[e]),Su.push([e,r]),()=>{let o=Su.findIndex(([l])=>l===e);o>-1&&Su.splice(o,1)}),[e]);let a=s.toasts.map(o=>{var l,c,d;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||C4[o.type],style:{...t.style,...(d=t[o.type])==null?void 0:d.style,...o.style}}});return{...s,toasts:a}},k4=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||_4()}),tc=t=>(e,s)=>{let r=k4(e,t,s);return ph(r.toasterId||E4(r.id))({type:2,toast:r}),r.id},Et=(t,e)=>tc("blank")(t,e);Et.error=tc("error");Et.success=tc("success");Et.loading=tc("loading");Et.custom=tc("custom");Et.dismiss=(t,e)=>{let s={type:3,toastId:t};e?ph(e)(s):T2(s)};Et.dismissAll=t=>Et.dismiss(void 0,t);Et.remove=(t,e)=>{let s={type:4,toastId:t};e?ph(e)(s):T2(s)};Et.removeAll=t=>Et.remove(void 0,t);Et.promise=(t,e,s)=>{let r=Et.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?pd(e.success,i):void 0;return a?Et.success(a,{id:r,...s,...s==null?void 0:s.success}):Et.dismiss(r),i}).catch(i=>{let a=e.error?pd(e.error,i):void 0;a?Et.error(a,{id:r,...s,...s==null?void 0:s.error}):Et.dismiss(r)}),t};var P4=1e3,I4=(t,e="default")=>{let{toasts:s,pausedAt:r}=S4(t,e),i=E.useRef(new Map).current,a=E.useCallback((f,m=P4)=>{if(i.has(f))return;let y=setTimeout(()=>{i.delete(f),o({type:4,toastId:f})},m);i.set(f,y)},[]);E.useEffect(()=>{if(r)return;let f=Date.now(),m=s.map(y=>{if(y.duration===1/0)return;let N=(y.duration||0)+y.pauseDuration-(f-y.createdAt);if(N<0){y.visible&&Et.dismiss(y.id);return}return setTimeout(()=>Et.dismiss(y.id,e),N)});return()=>{m.forEach(y=>y&&clearTimeout(y))}},[s,r,e]);let o=E.useCallback(ph(e),[e]),l=E.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=E.useCallback((f,m)=>{o({type:1,toast:{id:f,height:m}})},[o]),d=E.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=E.useCallback((f,m)=>{let{reverseOrder:y=!1,gutter:N=8,defaultPosition:w}=m||{},T=s.filter(g=>(g.position||w)===(f.position||w)&&g.height),v=T.findIndex(g=>g.id===f.id),x=T.filter((g,_)=>_<v&&g.visible).length;return T.filter(g=>g.visible).slice(...y?[x+1]:[0,x]).reduce((g,_)=>g+(_.height||0)+N,0)},[s]);return E.useEffect(()=>{s.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let m=i.get(f.id);m&&(clearTimeout(m),i.delete(f.id))}})},[s,a]),{toasts:s,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:h}}},A4=Yr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,R4=Yr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,D4=Yr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,M4=ni("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${A4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${R4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${D4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,O4=Yr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V4=ni("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${O4} 1s linear infinite;
`,L4=Yr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,F4=Yr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,U4=ni("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${L4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${F4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,B4=ni("div")`
  position: absolute;
`,$4=ni("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,z4=Yr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,q4=ni("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${z4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,H4=({toast:t})=>{let{icon:e,type:s,iconTheme:r}=t;return e!==void 0?typeof e=="string"?E.createElement(q4,null,e):e:s==="blank"?null:E.createElement($4,null,E.createElement(V4,{...r}),s!=="loading"&&E.createElement(B4,null,s==="error"?E.createElement(M4,{...r}):E.createElement(U4,{...r})))},W4=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,G4=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,K4="0%{opacity:0;} 100%{opacity:1;}",Q4="0%{opacity:1;} 100%{opacity:0;}",Y4=ni("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,X4=ni("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,J4=(t,e)=>{let s=t.includes("top")?1:-1,[r,i]=w2()?[K4,Q4]:[W4(s),G4(s)];return{animation:e?`${Yr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Yr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Z4=E.memo(({toast:t,position:e,style:s,children:r})=>{let i=t.height?J4(t.position||e||"top-center",t.visible):{opacity:0},a=E.createElement(H4,{toast:t}),o=E.createElement(X4,{...t.ariaProps},pd(t.message,t));return E.createElement(Y4,{className:t.className,style:{...i,...s,...t.style}},typeof r=="function"?r({icon:a,message:o}):E.createElement(E.Fragment,null,a,o))});N4(E.createElement);var eA=({id:t,className:e,style:s,onHeightUpdate:r,children:i})=>{let a=E.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return E.createElement("div",{ref:a,className:e,style:s},i)},tA=(t,e)=>{let s=t.includes("top"),r=s?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:w2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...r,...i}},sA=fh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,eu=16,rA=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=I4(s,a);return E.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:eu,left:eu,right:eu,bottom:eu,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(h=>{let f=h.position||e,m=d.calculateOffset(h,{reverseOrder:t,gutter:r,defaultPosition:e}),y=tA(f,m);return E.createElement(eA,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?sA:"",style:y},h.type==="custom"?pd(h.message,h):i?i(h):E.createElement(Z4,{toast:h,position:f}))}))},D=Et;const nA=()=>{};var Qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=function(t){const e=[];let s=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},iA=function(t){const e=[];let s=0,r=0;for(;s<t.length;){const i=t[s++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[s++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[s++],o=t[s++],l=t[s++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[s++],o=t[s++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},C2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let m=(l&15)<<2|d>>6,y=d&63;c||(y=64,o||(m=64)),r.push(s[h],s[f],s[m],s[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(E2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=s[t.charAt(i++)],l=i<t.length?s[t.charAt(i)]:0;++i;const d=i<t.length?s[t.charAt(i)]:64;++i;const f=i<t.length?s[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||f==null)throw new aA;const m=a<<2|l>>4;if(r.push(m),d!==64){const y=l<<4&240|d>>2;if(r.push(y),f!==64){const N=d<<6&192|f;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oA=function(t){const e=E2(t);return C2.encodeByteArray(e,!0)},gd=function(t){return oA(t).replace(/\./g,"")},S2=function(t){try{return C2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=()=>lA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof Qv>"u")return;const t=Qv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&S2(t[1]);return e&&JSON.parse(e)},gh=()=>{try{return nA()||cA()||uA()||dA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k2=t=>{var e,s;return(s=(e=gh())==null?void 0:e.emulatorHosts)==null?void 0:s[t]},P2=t=>{const e=k2(t);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},I2=()=>{var t;return(t=gh())==null?void 0:t.config},A2=t=>{var e;return(e=gh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ux(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gd(JSON.stringify(s)),gd(JSON.stringify(o)),""].join(".")}const rl={};function mA(){const t={prod:[],emulator:[]};for(const e of Object.keys(rl))rl[e]?t.emulator.push(e):t.prod.push(e);return t}function fA(t){let e=document.getElementById(t),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),s=!0),{created:s,element:e}}let Yv=!1;function dx(t,e){if(typeof window>"u"||typeof document>"u"||!Hi(window.location.host)||rl[t]===e||rl[t]||Yv)return;rl[t]=e;function s(m){return`__firebase__banner__${m}`}const r="__firebase__banner",a=mA().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Yv=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=fA(r),y=s("text"),N=document.getElementById(y)||document.createElement("span"),w=s("learnmore"),T=document.getElementById(w)||document.createElement("a"),v=s("preprendIcon"),x=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const g=m.element;l(g),h(T,w);const _=d();c(x,v),g.append(x,N,T,_),document.body.appendChild(g)}a?(N.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(es())}function gA(){var e;const t=(e=gh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bA(){const t=es();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wA(){return!gA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NA(){try{return typeof indexedDB=="object"}catch{return!1}}function jA(){return new Promise((t,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="FirebaseError";class kr extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=_A,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?TA(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new kr(i,l,r)}}function TA(t,e){return t.replace(EA,(s,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EA=/\{\$([^}]+)}/g;function CA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vi(t,e){if(t===e)return!0;const s=Object.keys(t),r=Object.keys(e);for(const i of s){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(Xv(a)&&Xv(o)){if(!Vi(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function Xv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){const e=[];for(const[s,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function SA(t,e){const s=new kA(t,e);return s.subscribe.bind(s)}class kA{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let i;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");PA(e,["next","error","complete"])?i=e:i={next:e,error:s,complete:r},i.next===void 0&&(i.next=Mm),i.error===void 0&&(i.error=Mm),i.complete===void 0&&(i.complete=Mm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PA(t,e){if(typeof t!="object"||t===null)return!1;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}function Mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class qn{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new hA;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RA(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AA(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(t){return t===pi?void 0:t}function RA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new IA(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const MA={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},OA=Se.INFO,VA={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},LA=(t,e,...s)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VA[e];if(i)console[i](`[${r}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hx{constructor(e){this.name=e,this._logLevel=OA,this._logHandler=LA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const FA=(t,e)=>e.some(s=>t instanceof s);let Jv,Zv;function UA(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BA(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D2=new WeakMap,cp=new WeakMap,M2=new WeakMap,Om=new WeakMap,mx=new WeakMap;function $A(t){const e=new Promise((s,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{s(Ln(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(s=>{s instanceof IDBCursor&&D2.set(s,t)}).catch(()=>{}),mx.set(e,t),e}function zA(t){if(cp.has(t))return;const e=new Promise((s,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{s(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});cp.set(t,e)}let up={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M2.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ln(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qA(t){up=t(up)}function HA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=t.call(Vm(this),e,...s);return M2.set(r,e.sort?e.sort():[e]),Ln(r)}:BA().includes(t)?function(...e){return t.apply(Vm(this),e),Ln(D2.get(this))}:function(...e){return Ln(t.apply(Vm(this),e))}}function WA(t){return typeof t=="function"?HA(t):(t instanceof IDBTransaction&&zA(t),FA(t,UA())?new Proxy(t,up):t)}function Ln(t){if(t instanceof IDBRequest)return $A(t);if(Om.has(t))return Om.get(t);const e=WA(t);return e!==t&&(Om.set(t,e),mx.set(e,t)),e}const Vm=t=>mx.get(t);function GA(t,e,{blocked:s,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Ln(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ln(o.result),c.oldVersion,c.newVersion,Ln(o.transaction),c)}),s&&o.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const KA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],Lm=new Map;function eb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,i=QA.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KA.includes(s)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[s](...l),i&&c.done]))[0]};return Lm.set(e,a),a}qA(t=>({...t,get:(e,s,r)=>eb(e,s)||t.get(e,s,r),has:(e,s)=>!!eb(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(XA(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function XA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dp="@firebase/app",tb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new hx("@firebase/app"),JA="@firebase/app-compat",ZA="@firebase/analytics-compat",e3="@firebase/analytics",t3="@firebase/app-check-compat",s3="@firebase/app-check",r3="@firebase/auth",n3="@firebase/auth-compat",i3="@firebase/database",a3="@firebase/data-connect",o3="@firebase/database-compat",l3="@firebase/functions",c3="@firebase/functions-compat",u3="@firebase/installations",d3="@firebase/installations-compat",h3="@firebase/messaging",m3="@firebase/messaging-compat",f3="@firebase/performance",p3="@firebase/performance-compat",g3="@firebase/remote-config",x3="@firebase/remote-config-compat",y3="@firebase/storage",v3="@firebase/storage-compat",b3="@firebase/firestore",w3="@firebase/ai",N3="@firebase/firestore-compat",j3="firebase",_3="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",T3={[dp]:"fire-core",[JA]:"fire-core-compat",[e3]:"fire-analytics",[ZA]:"fire-analytics-compat",[s3]:"fire-app-check",[t3]:"fire-app-check-compat",[r3]:"fire-auth",[n3]:"fire-auth-compat",[i3]:"fire-rtdb",[a3]:"fire-data-connect",[o3]:"fire-rtdb-compat",[l3]:"fire-fn",[c3]:"fire-fn-compat",[u3]:"fire-iid",[d3]:"fire-iid-compat",[h3]:"fire-fcm",[m3]:"fire-fcm-compat",[f3]:"fire-perf",[p3]:"fire-perf-compat",[g3]:"fire-rc",[x3]:"fire-rc-compat",[y3]:"fire-gcs",[v3]:"fire-gcs-compat",[b3]:"fire-fst",[N3]:"fire-fst-compat",[w3]:"fire-vertex","fire-js":"fire-js",[j3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Map,E3=new Map,mp=new Map;function sb(t,e){try{t.container.addComponent(e)}catch(s){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function Li(t){const e=t.name;if(mp.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,t);for(const s of xd.values())sb(s,t);for(const s of E3.values())sb(s,t);return!0}function xh(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function Ys(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fn=new sc("app","Firebase",C3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=_3;function O2(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const r={name:hp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Fn.create("bad-app-name",{appName:String(i)});if(s||(s=I2()),!s)throw Fn.create("no-options");const a=xd.get(i);if(a){if(Vi(s,a.options)&&Vi(r,a.config))return a;throw Fn.create("duplicate-app",{appName:i})}const o=new DA(i);for(const c of mp.values())o.addComponent(c);const l=new S3(s,r,o);return xd.set(i,l),l}function fx(t=hp){const e=xd.get(t);if(!e&&t===hp&&I2())return O2();if(!e)throw Fn.create("no-app",{appName:t});return e}function pr(t,e,s){let r=T3[t]??t;s&&(r+=`-${s}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(o.join(" "));return}Li(new qn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="firebase-heartbeat-database",P3=1,Al="firebase-heartbeat-store";let Fm=null;function V2(){return Fm||(Fm=GA(k3,P3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(s){console.warn(s)}}}}).catch(t=>{throw Fn.create("idb-open",{originalErrorMessage:t.message})})),Fm}async function I3(t){try{const s=(await V2()).transaction(Al),r=await s.objectStore(Al).get(L2(t));return await s.done,r}catch(e){if(e instanceof kr)Xr.warn(e.message);else{const s=Fn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(s.message)}}}async function rb(t,e){try{const r=(await V2()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,L2(t)),await r.done}catch(s){if(s instanceof kr)Xr.warn(s.message);else{const r=Fn.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Xr.warn(r.message)}}}function L2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=1024,R3=30;class D3{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new O3(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=nb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>R3){const o=V3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=nb(),{heartbeatsToSend:r,unsentEntries:i}=M3(this._heartbeatsCache.heartbeats),a=gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(s){return Xr.warn(s),""}}}function nb(){return new Date().toISOString().substring(0,10)}function M3(t,e=A3){const s=[];let r=t.slice();for(const i of t){const a=s.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),ib(s)>e){a.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),ib(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class O3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NA()?jA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await I3(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ib(t){return gd(JSON.stringify({version:2,heartbeats:t})).length}function V3(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let r=1;r<t.length;r++)t[r].date<s&&(s=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){Li(new qn("platform-logger",e=>new YA(e),"PRIVATE")),Li(new qn("heartbeat",e=>new D3(e),"PRIVATE")),pr(dp,tb,t),pr(dp,tb,"esm2020"),pr("fire-js","")}L3("");function F2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F3=F2,U2=new sc("auth","Firebase",F2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new hx("@firebase/auth");function U3(t,...e){yd.logLevel<=Se.WARN&&yd.warn(`Auth (${Wi}): ${t}`,...e)}function ku(t,...e){yd.logLevel<=Se.ERROR&&yd.error(`Auth (${Wi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,...e){throw px(t,...e)}function gr(t,...e){return px(t,...e)}function B2(t,e,s){const r={...F3(),[e]:s};return new sc("auth","Firebase",r).create(e,{appName:t.name})}function Ei(t){return B2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function px(t,...e){if(typeof t!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(s,...r)}return U2.create(t,...e)}function xe(t,e,...s){if(!t)throw px(e,...s)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ku(e),new Error(e)}function Zr(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function B3(){return ab()==="http:"||ab()==="https:"}function ab(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B3()||yA()||"connection"in navigator)?navigator.onLine:!0}function z3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,s){this.shortDelay=e,this.longDelay=s,Zr(s>e,"Short delay should be less than long delay!"),this.isMobile=pA()||vA()}get(){return $3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:s}=t.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W3=new nc(3e4,6e4);function xx(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function io(t,e,s,r,i={}){return z2(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=rc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return xA()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Hi(t.emulatorConfig.host)&&(d.credentials="include"),$2.fetch()(await q2(t,t.config.apiHost,s,l),d)})}async function z2(t,e,s){t._canInitEmulator=!1;const r={...q3,...e};try{const i=new K3(t),a=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw tu(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw tu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw tu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw B2(t,h,d);Jr(t,h)}}catch(i){if(i instanceof kr)throw i;Jr(t,"network-request-failed",{message:String(i)})}}async function G3(t,e,s,r,i={}){const a=await io(t,e,s,r,i);return"mfaPendingCredential"in a&&Jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function q2(t,e,s,r){const i=`${e}${s}?${r}`,a=t,o=a.config.emulator?gx(t.config,i):`${t.config.apiScheme}://${i}`;return H3.includes(s)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class K3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),W3.get())})}}function tu(t,e,s){const r={appName:t.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e){return io(t,"POST","/v1/accounts:delete",e)}async function vd(t,e){return io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y3(t,e=!1){const s=jt(t),r=await s.getIdToken(e),i=yx(r);xe(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:nl(Um(i.auth_time)),issuedAtTime:nl(Um(i.iat)),expirationTime:nl(Um(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Um(t){return Number(t)*1e3}function yx(t){const[e,s,r]=t.split(".");if(e===void 0||s===void 0||r===void 0)return ku("JWT malformed, contained fewer than 3 sections"),null;try{const i=S2(s);return i?JSON.parse(i):(ku("Failed to decode base64 JWT payload"),null)}catch(i){return ku("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ob(t){const e=yx(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof kr&&X3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function X3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t){var f;const e=t.auth,s=await t.getIdToken(),r=await Rl(t,vd(e,{idToken:s}));xe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?H2(i.providerUserInfo):[],o=eR(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pp(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Z3(t){const e=jt(t);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function H2(t){return t.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t,e){const s=await z2(t,{},async()=>{const r=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await q2(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Hi(t.emulatorConfig.host)&&(c.credentials="include"),$2.fetch()(o,c)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function sR(t,e){return io(t,"POST","/v2/accounts:revokeToken",xx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ob(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const s=ob(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:i,expiresIn:a}=await tR(e,s);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:i,expirationTime:a}=s,o=new Pa;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(xe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xs{constructor({uid:e,auth:s,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new J3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const s=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return xe(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return Y3(this,e)}reload(){return Z3(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Xs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await bd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ys(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await Rl(this,Q3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,i=s.email??void 0,a=s.phoneNumber??void 0,o=s.photoURL??void 0,l=s.tenantId??void 0,c=s._redirectEventId??void 0,d=s.createdAt??void 0,h=s.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:N,stsTokenManager:w}=s;xe(f&&w,e,"internal-error");const T=Pa.fromJSON(this.name,w);xe(typeof f=="string",e,"internal-error"),mn(r,e.name),mn(i,e.name),xe(typeof m=="boolean",e,"internal-error"),xe(typeof y=="boolean",e,"internal-error"),mn(a,e.name),mn(o,e.name),mn(l,e.name),mn(c,e.name),mn(d,e.name),mn(h,e.name);const v=new Xs({uid:f,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:T,createdAt:d,lastLoginAt:h});return N&&Array.isArray(N)&&(v.providerData=N.map(x=>({...x}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(e,s,r=!1){const i=new Pa;i.updateFromServerResponse(s);const a=new Xs({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bd(a),a}static async _fromGetAccountInfoResponse(e,s,r){const i=s.users[0];xe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?H2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Pa;l.updateFromIdToken(r);const c=new Xs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new pp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;function Br(t){Zr(t instanceof Function,"Expected a class definition");let e=lb.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}W2.type="NONE";const cb=W2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e,s){return`firebase:${t}:${e}:${s}`}class Ia{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Pu(this.userKey,i.apiKey,a),this.fullPersistenceKey=Pu("persistence",i.apiKey,a),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await vd(this.auth,{idToken:e}).catch(()=>{});return s?Xs._fromGetAccountInfoResponse(this.auth,s,e):null}return Xs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Ia(Br(cb),e,r);const i=(await Promise.all(s.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Br(cb);const o=Pu(r,e.config.apiKey,e.name);let l=null;for(const d of s)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await vd(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Xs._fromGetAccountInfoResponse(e,m,h)}else f=Xs._fromJSON(e,h);d!==a&&(l=f),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Ia(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(s.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Ia(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J2(e))return"Blackberry";if(Z2(e))return"Webos";if(K2(e))return"Safari";if((e.includes("chrome/")||Q2(e))&&!e.includes("edge/"))return"Chrome";if(X2(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function G2(t=es()){return/firefox\//i.test(t)}function K2(t=es()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q2(t=es()){return/crios\//i.test(t)}function Y2(t=es()){return/iemobile/i.test(t)}function X2(t=es()){return/android/i.test(t)}function J2(t=es()){return/blackberry/i.test(t)}function Z2(t=es()){return/webos/i.test(t)}function vx(t=es()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rR(t=es()){var e;return vx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function nR(){return bA()&&document.documentMode===10}function e_(t=es()){return vx(t)||X2(t)||Z2(t)||J2(t)||/windows phone/i.test(t)||Y2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e=[]){let s;switch(t){case"Browser":s=ub(es());break;case"Worker":s=`${ub(es())}-${t}`;break;default:s=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${Wi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=s,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e={}){return io(t,"GET","/v2/passwordPolicy",xx(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=6;class lR{constructor(e){var r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??oR,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),i&&(s.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,s,r,i){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new db(this),this.idTokenSubscription=new db(this),this.beforeStateQueue=new iR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Br(s)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ia.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await vd(this,{idToken:e}),r=await Xs._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Ys(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ys(this.app))return Promise.reject(Ei(this));const s=e?jt(e):null;return s&&xe(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ys(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ys(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aR(this),s=new lR(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await sR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Br(e)||this._popupRedirectResolver;xe(s,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[Br(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)==null?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((s=this.currentUser)==null?void 0:s.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,i){if(this._deleted)return()=>{};const a=typeof s=="function"?s:s.next.bind(s);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof s=="function"){const c=e.addObserver(s,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(s);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var s;if(Ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((s=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getToken());return e!=null&&e.error&&U3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function bx(t){return jt(t)}class db{constructor(e){this.auth=e,this.observer=null,this.addObserver=SA(s=>this.observer=s)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uR(t){wx=t}function dR(t){return wx.loadJS(t)}function hR(){return wx.gapiScript}function mR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t,e){const s=xh(t,"auth");if(s.isInitialized()){const i=s.getImmediate(),a=s.getOptions();if(Vi(a,e??{}))return i;Jr(i,"already-initialized")}return s.initialize({options:e})}function pR(t,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(Br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gR(t,e,s){const r=bx(t);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=s_(e),{host:o,port:l}=xR(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Vi(d,r.config.emulator)&&Vi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Hi(o)?(ux(`${a}//${o}${c}`),dx("Auth",!0)):yR()}function s_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xR(t){const e=s_(t),s=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:hb(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:hb(o)}}}function hb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yR(){function t(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,s){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t,e){return G3(t,"POST","/v1/accounts:signInWithIdp",xx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="http://localhost";class Fi extends r_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Jr("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=s;if(!r||!i)return null;const o=new Fi(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const s=this.buildRequest();return Aa(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Aa(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Aa(e,s)}buildRequest(){const e={requestUri:vR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=rc(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends n_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends ic{constructor(){super("facebook.com")}static credential(e){return Fi._fromParams({providerId:Nn.PROVIDER_ID,signInMethod:Nn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nn.credentialFromTaggedObject(e)}static credentialFromError(e){return Nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nn.credential(e.oauthAccessToken)}catch{return null}}}Nn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Fi._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return jn.credential(s,r)}catch{return null}}}jn.GOOGLE_SIGN_IN_METHOD="google.com";jn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends ic{constructor(){super("github.com")}static credential(e){return Fi._fromParams({providerId:_n.PROVIDER_ID,signInMethod:_n.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _n.credentialFromTaggedObject(e)}static credentialFromError(e){return _n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _n.credential(e.oauthAccessToken)}catch{return null}}}_n.GITHUB_SIGN_IN_METHOD="github.com";_n.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends ic{constructor(){super("twitter.com")}static credential(e,s){return Fi._fromParams({providerId:Tn.PROVIDER_ID,signInMethod:Tn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Tn.credentialFromTaggedObject(e)}static credentialFromError(e){return Tn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Tn.credential(s,r)}catch{return null}}}Tn.TWITTER_SIGN_IN_METHOD="twitter.com";Tn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,i=!1){const a=await Xs._fromIdTokenResponse(e,r,i),o=mb(r);return new $a({user:a,providerId:o,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const i=mb(r);return new $a({user:e,providerId:i,_tokenResponse:r,operationType:s})}}function mb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends kr{constructor(e,s,r,i){super(s.code,s.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,i){return new wd(e,s,r,i)}}function i_(t,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(t):s._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(t,a,e,r):a})}async function bR(t,e,s=!1){const r=await Rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),s);return $a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,e,s=!1){const{auth:r}=t;if(Ys(r.app))return Promise.reject(Ei(r));const i="reauthenticate";try{const a=await Rl(t,i_(r,i,e,t),s);xe(a.idToken,r,"internal-error");const o=yx(a.idToken);xe(o,r,"internal-error");const{sub:l}=o;return xe(t.uid===l,r,"user-mismatch"),$a._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(t,e,s=!1){if(Ys(t.app))return Promise.reject(Ei(t));const r="signIn",i=await i_(t,r,e),a=await $a._fromIdTokenResponse(t,r,i);return s||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t,e){return jt(t).setPersistence(e)}function _R(t,e,s,r){return jt(t).onIdTokenChanged(e,s,r)}function TR(t,e,s){return jt(t).beforeAuthStateChanged(e,s)}function ER(t,e,s,r){return jt(t).onAuthStateChanged(e,s,r)}function CR(t){return jt(t).signOut()}const Nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Nd,"1"),this.storage.removeItem(Nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1e3,kR=10;class o_ extends a_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),i=this.localCache[s];r!==i&&e(s,i,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;s?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!s&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);nR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kR):i()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},SR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}o_.type="LOCAL";const l_=o_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends a_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}c_.type="SESSION";const u_=c_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(i=>i.isListeningto(e));if(s)return s;const r=new yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:i,data:a}=s.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(s.origin,a)),c=await PR(l);s.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return t+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=Nx("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(m.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:s},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function AR(t){xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function RR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function MR(){return d_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="firebaseLocalStorageDb",OR=1,jd="firebaseLocalStorage",m_="fbase_key";class ac{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function vh(t,e){return t.transaction([jd],e?"readwrite":"readonly").objectStore(jd)}function VR(){const t=indexedDB.deleteDatabase(h_);return new ac(t).toPromise()}function gp(){const t=indexedDB.open(h_,OR);return new Promise((e,s)=>{t.addEventListener("error",()=>{s(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jd,{keyPath:m_})}catch(i){s(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jd)?e(r):(r.close(),await VR(),e(await gp()))})})}async function fb(t,e,s){const r=vh(t,!0).put({[m_]:e,value:s});return new ac(r).toPromise()}async function LR(t,e){const s=vh(t,!1).get(e),r=await new ac(s).toPromise();return r===void 0?null:r.value}function pb(t,e){const s=vh(t,!0).delete(e);return new ac(s).toPromise()}const FR=800,UR=3;class f_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>UR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(MR()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var s,r;if(this.activeServiceWorker=await RR(),!this.activeServiceWorker)return;this.sender=new IR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(s=e[0])!=null&&s.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await fb(e,Nd,"1"),await pb(e,Nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>fb(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>LR(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>pb(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=vh(i,!1).getAll();return new ac(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f_.type="LOCAL";const BR=f_;new nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e){return e?Br(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends r_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Aa(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function zR(t){return NR(t.auth,new jx(t),t.bypassAuthState)}function qR(t){const{auth:e,user:s}=t;return xe(s,e,"internal-error"),wR(s,new jx(t),t.bypassAuthState)}async function HR(t){const{auth:e,user:s}=t;return xe(s,e,"internal-error"),bR(s,new jx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,s,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:s,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zR;case"linkViaPopup":case"linkViaRedirect":return HR;case"reauthViaPopup":case"reauthViaRedirect":return qR;default:Jr(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new nc(2e3,1e4);class ya extends p_{constructor(e,s,r,i,a){super(e,s,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Nx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if((r=(s=this.authWindow)==null?void 0:s.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WR.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="pendingRedirect",Iu=new Map;class KR extends p_{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Iu.get(this.auth._key());if(!e){try{const r=await QR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Iu.set(this.auth._key(),e)}return this.bypassAuthState||Iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QR(t,e){const s=JR(e),r=XR(t);if(!await r._isAvailable())return!1;const i=await r._get(s)==="true";return await r._remove(s),i}function YR(t,e){Iu.set(t._key(),e)}function XR(t){return Br(t._redirectPersistence)}function JR(t){return Pu(GR,t.config.apiKey,t.name)}async function ZR(t,e,s=!1){if(Ys(t.app))return Promise.reject(Ei(t));const r=bx(t),i=$R(r,e),o=await new KR(r,i,s).execute();return o&&!s&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=10*60*1e3;class t6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s6(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!g_(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";s.onError(gr(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e6&&this.cachedEventUids.clear(),this.cachedEventUids.has(gb(e))}saveEventToCache(e){this.cachedEventUids.add(gb(e)),this.lastProcessedEventTime=Date.now()}}function gb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function g_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e={}){return io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i6=/^https?/;async function a6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r6(t);for(const s of e)try{if(o6(s))return}catch{}Jr(t,"unauthorized-domain")}function o6(t){const e=fp(),{protocol:s,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?s==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&o.hostname===r}if(!i6.test(s))return!1;if(n6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new nc(3e4,6e4);function xb(){const t=xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let s=0;s<t.CP.length;s++)t.CP[s]=null}}function c6(t){return new Promise((e,s)=>{var i,a,o;function r(){xb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xb(),s(gr(t,"network-request-failed"))},timeout:l6.get()})}if((a=(i=xr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=xr().gapi)!=null&&o.load)r();else{const l=mR("iframefcb");return xr()[l]=()=>{gapi.load?r():s(gr(t,"network-request-failed"))},dR(`${hR()}?onload=${l}`).catch(c=>s(c))}}).catch(e=>{throw Au=null,e})}let Au=null;function u6(t){return Au=Au||c6(t),Au}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=new nc(5e3,15e3),h6="__/auth/iframe",m6="emulator/auth/iframe",f6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g6(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const s=e.emulator?gx(e,m6):`https://${t.config.authDomain}/${h6}`,r={apiKey:e.apiKey,appName:t.name,v:Wi},i=p6.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${s}?${rc(r).slice(1)}`}async function x6(t){const e=await u6(t),s=xr().gapi;return xe(s,t,"internal-error"),e.open({where:document.body,url:g6(t),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f6,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=gr(t,"network-request-failed"),l=xr().setTimeout(()=>{a(o)},d6.get());function c(){xr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v6=500,b6=600,w6="_blank",N6="http://localhost";class yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j6(t,e,s,r=v6,i=b6){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...y6,width:r.toString(),height:i.toString(),top:a,left:o},d=es().toLowerCase();s&&(l=Q2(d)?w6:s),G2(d)&&(e=e||N6,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,N])=>`${m}${y}=${N},`,"");if(rR(d)&&l!=="_self")return _6(e||"",l),new yb(null);const f=window.open(e||"",l,h);xe(f,t,"popup-blocked");try{f.focus()}catch{}return new yb(f)}function _6(t,e){const s=document.createElement("a");s.href=t,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="__/auth/handler",E6="emulator/auth/handler",C6=encodeURIComponent("fac");async function vb(t,e,s,r,i,a){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:s,redirectUrl:r,v:Wi,eventId:i};if(e instanceof n_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",CA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof ic){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${C6}=${encodeURIComponent(c)}`:"";return`${S6(t)}?${rc(l).slice(1)}${d}`}function S6({config:t}){return t.emulator?gx(t,E6):`https://${t.authDomain}/${T6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="webStorageSupport";class k6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u_,this._completeRedirectFn=ZR,this._overrideRedirectResult=YR}async _openPopup(e,s,r,i){var o;Zr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await vb(e,s,r,fp(),i);return j6(e,a,Nx())}async _openRedirect(e,s,r,i){await this._originValidation(e);const a=await vb(e,s,r,fp(),i);return AR(a),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:i,promise:a}=this.eventManagers[s];return i?Promise.resolve(i):(Zr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await x6(e),r=new t6(e);return s.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Bm,{type:Bm},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Bm];a!==void 0&&s(!!a),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=a6(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return e_()||K2()||vx()}}const P6=k6;var bb="@firebase/auth",wb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R6(t){Li(new qn("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t_(t)},d=new cR(r,i,a,c);return pR(d,s),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Li(new qn("auth-internal",e=>{const s=bx(e.getProvider("auth").getImmediate());return(r=>new I6(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(bb,wb,A6(t)),pr(bb,wb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=5*60,M6=A2("authIdTokenMaxAge")||D6;let Nb=null;const O6=t=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>M6)return;const i=s==null?void 0:s.token;Nb!==i&&(Nb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function V6(t=fx()){const e=xh(t,"auth");if(e.isInitialized())return e.getImmediate();const s=fR(t,{popupRedirectResolver:P6,persistence:[BR,l_,u_]}),r=A2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=O6(a.toString());TR(s,o,()=>o(s.currentUser)),_R(s,l=>o(l))}}const i=k2("auth");return i&&gR(s,`http://${i}`),s}function L6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}uR({loadJS(t){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=gr("internal-error");a.customData=i,s(a)},r.type="text/javascript",r.charset="UTF-8",L6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R6("Browser");var jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Un,x_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,j){function k(){}k.prototype=j.prototype,C.D=j.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(I,V,U){for(var R=Array(arguments.length-2),q=2;q<arguments.length;q++)R[q-2]=arguments[q];return j.prototype[V].apply(I,R)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,s),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,j,k){k||(k=0);var I=Array(16);if(typeof j=="string")for(var V=0;16>V;++V)I[V]=j.charCodeAt(k++)|j.charCodeAt(k++)<<8|j.charCodeAt(k++)<<16|j.charCodeAt(k++)<<24;else for(V=0;16>V;++V)I[V]=j[k++]|j[k++]<<8|j[k++]<<16|j[k++]<<24;j=C.g[0],k=C.g[1],V=C.g[2];var U=C.g[3],R=j+(U^k&(V^U))+I[0]+3614090360&4294967295;j=k+(R<<7&4294967295|R>>>25),R=U+(V^j&(k^V))+I[1]+3905402710&4294967295,U=j+(R<<12&4294967295|R>>>20),R=V+(k^U&(j^k))+I[2]+606105819&4294967295,V=U+(R<<17&4294967295|R>>>15),R=k+(j^V&(U^j))+I[3]+3250441966&4294967295,k=V+(R<<22&4294967295|R>>>10),R=j+(U^k&(V^U))+I[4]+4118548399&4294967295,j=k+(R<<7&4294967295|R>>>25),R=U+(V^j&(k^V))+I[5]+1200080426&4294967295,U=j+(R<<12&4294967295|R>>>20),R=V+(k^U&(j^k))+I[6]+2821735955&4294967295,V=U+(R<<17&4294967295|R>>>15),R=k+(j^V&(U^j))+I[7]+4249261313&4294967295,k=V+(R<<22&4294967295|R>>>10),R=j+(U^k&(V^U))+I[8]+1770035416&4294967295,j=k+(R<<7&4294967295|R>>>25),R=U+(V^j&(k^V))+I[9]+2336552879&4294967295,U=j+(R<<12&4294967295|R>>>20),R=V+(k^U&(j^k))+I[10]+4294925233&4294967295,V=U+(R<<17&4294967295|R>>>15),R=k+(j^V&(U^j))+I[11]+2304563134&4294967295,k=V+(R<<22&4294967295|R>>>10),R=j+(U^k&(V^U))+I[12]+1804603682&4294967295,j=k+(R<<7&4294967295|R>>>25),R=U+(V^j&(k^V))+I[13]+4254626195&4294967295,U=j+(R<<12&4294967295|R>>>20),R=V+(k^U&(j^k))+I[14]+2792965006&4294967295,V=U+(R<<17&4294967295|R>>>15),R=k+(j^V&(U^j))+I[15]+1236535329&4294967295,k=V+(R<<22&4294967295|R>>>10),R=j+(V^U&(k^V))+I[1]+4129170786&4294967295,j=k+(R<<5&4294967295|R>>>27),R=U+(k^V&(j^k))+I[6]+3225465664&4294967295,U=j+(R<<9&4294967295|R>>>23),R=V+(j^k&(U^j))+I[11]+643717713&4294967295,V=U+(R<<14&4294967295|R>>>18),R=k+(U^j&(V^U))+I[0]+3921069994&4294967295,k=V+(R<<20&4294967295|R>>>12),R=j+(V^U&(k^V))+I[5]+3593408605&4294967295,j=k+(R<<5&4294967295|R>>>27),R=U+(k^V&(j^k))+I[10]+38016083&4294967295,U=j+(R<<9&4294967295|R>>>23),R=V+(j^k&(U^j))+I[15]+3634488961&4294967295,V=U+(R<<14&4294967295|R>>>18),R=k+(U^j&(V^U))+I[4]+3889429448&4294967295,k=V+(R<<20&4294967295|R>>>12),R=j+(V^U&(k^V))+I[9]+568446438&4294967295,j=k+(R<<5&4294967295|R>>>27),R=U+(k^V&(j^k))+I[14]+3275163606&4294967295,U=j+(R<<9&4294967295|R>>>23),R=V+(j^k&(U^j))+I[3]+4107603335&4294967295,V=U+(R<<14&4294967295|R>>>18),R=k+(U^j&(V^U))+I[8]+1163531501&4294967295,k=V+(R<<20&4294967295|R>>>12),R=j+(V^U&(k^V))+I[13]+2850285829&4294967295,j=k+(R<<5&4294967295|R>>>27),R=U+(k^V&(j^k))+I[2]+4243563512&4294967295,U=j+(R<<9&4294967295|R>>>23),R=V+(j^k&(U^j))+I[7]+1735328473&4294967295,V=U+(R<<14&4294967295|R>>>18),R=k+(U^j&(V^U))+I[12]+2368359562&4294967295,k=V+(R<<20&4294967295|R>>>12),R=j+(k^V^U)+I[5]+4294588738&4294967295,j=k+(R<<4&4294967295|R>>>28),R=U+(j^k^V)+I[8]+2272392833&4294967295,U=j+(R<<11&4294967295|R>>>21),R=V+(U^j^k)+I[11]+1839030562&4294967295,V=U+(R<<16&4294967295|R>>>16),R=k+(V^U^j)+I[14]+4259657740&4294967295,k=V+(R<<23&4294967295|R>>>9),R=j+(k^V^U)+I[1]+2763975236&4294967295,j=k+(R<<4&4294967295|R>>>28),R=U+(j^k^V)+I[4]+1272893353&4294967295,U=j+(R<<11&4294967295|R>>>21),R=V+(U^j^k)+I[7]+4139469664&4294967295,V=U+(R<<16&4294967295|R>>>16),R=k+(V^U^j)+I[10]+3200236656&4294967295,k=V+(R<<23&4294967295|R>>>9),R=j+(k^V^U)+I[13]+681279174&4294967295,j=k+(R<<4&4294967295|R>>>28),R=U+(j^k^V)+I[0]+3936430074&4294967295,U=j+(R<<11&4294967295|R>>>21),R=V+(U^j^k)+I[3]+3572445317&4294967295,V=U+(R<<16&4294967295|R>>>16),R=k+(V^U^j)+I[6]+76029189&4294967295,k=V+(R<<23&4294967295|R>>>9),R=j+(k^V^U)+I[9]+3654602809&4294967295,j=k+(R<<4&4294967295|R>>>28),R=U+(j^k^V)+I[12]+3873151461&4294967295,U=j+(R<<11&4294967295|R>>>21),R=V+(U^j^k)+I[15]+530742520&4294967295,V=U+(R<<16&4294967295|R>>>16),R=k+(V^U^j)+I[2]+3299628645&4294967295,k=V+(R<<23&4294967295|R>>>9),R=j+(V^(k|~U))+I[0]+4096336452&4294967295,j=k+(R<<6&4294967295|R>>>26),R=U+(k^(j|~V))+I[7]+1126891415&4294967295,U=j+(R<<10&4294967295|R>>>22),R=V+(j^(U|~k))+I[14]+2878612391&4294967295,V=U+(R<<15&4294967295|R>>>17),R=k+(U^(V|~j))+I[5]+4237533241&4294967295,k=V+(R<<21&4294967295|R>>>11),R=j+(V^(k|~U))+I[12]+1700485571&4294967295,j=k+(R<<6&4294967295|R>>>26),R=U+(k^(j|~V))+I[3]+2399980690&4294967295,U=j+(R<<10&4294967295|R>>>22),R=V+(j^(U|~k))+I[10]+4293915773&4294967295,V=U+(R<<15&4294967295|R>>>17),R=k+(U^(V|~j))+I[1]+2240044497&4294967295,k=V+(R<<21&4294967295|R>>>11),R=j+(V^(k|~U))+I[8]+1873313359&4294967295,j=k+(R<<6&4294967295|R>>>26),R=U+(k^(j|~V))+I[15]+4264355552&4294967295,U=j+(R<<10&4294967295|R>>>22),R=V+(j^(U|~k))+I[6]+2734768916&4294967295,V=U+(R<<15&4294967295|R>>>17),R=k+(U^(V|~j))+I[13]+1309151649&4294967295,k=V+(R<<21&4294967295|R>>>11),R=j+(V^(k|~U))+I[4]+4149444226&4294967295,j=k+(R<<6&4294967295|R>>>26),R=U+(k^(j|~V))+I[11]+3174756917&4294967295,U=j+(R<<10&4294967295|R>>>22),R=V+(j^(U|~k))+I[2]+718787259&4294967295,V=U+(R<<15&4294967295|R>>>17),R=k+(U^(V|~j))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+j&4294967295,C.g[1]=C.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.u=function(C,j){j===void 0&&(j=C.length);for(var k=j-this.blockSize,I=this.B,V=this.h,U=0;U<j;){if(V==0)for(;U<=k;)i(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<j;)if(I[V++]=C.charCodeAt(U++),V==this.blockSize){i(this,I),V=0;break}}else for(;U<j;)if(I[V++]=C[U++],V==this.blockSize){i(this,I),V=0;break}}this.h=V,this.o+=j},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var j=1;j<C.length-8;++j)C[j]=0;var k=8*this.o;for(j=C.length-8;j<C.length;++j)C[j]=k&255,k/=256;for(this.u(C),C=Array(16),j=k=0;4>j;++j)for(var I=0;32>I;I+=8)C[k++]=this.g[j]>>>I&255;return C};function a(C,j){var k=l;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=j(C)}function o(C,j){this.h=j;for(var k=[],I=!0,V=C.length-1;0<=V;V--){var U=C[V]|0;I&&U==j||(k[V]=U,I=!1)}this.g=k}var l={};function c(C){return-128<=C&&128>C?a(C,function(j){return new o([j|0],0>j?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return T(d(-C));for(var j=[],k=1,I=0;C>=k;I++)j[I]=C/k|0,k*=4294967296;return new o(j,0)}function h(C,j){if(C.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(C.charAt(0)=="-")return T(h(C.substring(1),j));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(j,8)),I=f,V=0;V<C.length;V+=8){var U=Math.min(8,C.length-V),R=parseInt(C.substring(V,V+U),j);8>U?(U=d(Math.pow(j,U)),I=I.j(U).add(d(R))):(I=I.j(k),I=I.add(d(R)))}return I}var f=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var C=0,j=1,k=0;k<this.g.length;k++){var I=this.i(k);C+=(0<=I?I:4294967296+I)*j,j*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(w(this))return"-"+T(this).toString(C);for(var j=d(Math.pow(C,6)),k=this,I="";;){var V=_(k,j).g;k=v(k,V.j(j));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=V,N(k))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var j=0;j<C.g.length;j++)if(C.g[j]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=v(this,C),w(C)?-1:N(C)?0:1};function T(C){for(var j=C.g.length,k=[],I=0;I<j;I++)k[I]=~C.g[I];return new o(k,~C.h).add(m)}t.abs=function(){return w(this)?T(this):this},t.add=function(C){for(var j=Math.max(this.g.length,C.g.length),k=[],I=0,V=0;V<=j;V++){var U=I+(this.i(V)&65535)+(C.i(V)&65535),R=(U>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);I=R>>>16,U&=65535,R&=65535,k[V]=R<<16|U}return new o(k,k[k.length-1]&-2147483648?-1:0)};function v(C,j){return C.add(T(j))}t.j=function(C){if(N(this)||N(C))return f;if(w(this))return w(C)?T(this).j(T(C)):T(T(this).j(C));if(w(C))return T(this.j(T(C)));if(0>this.l(y)&&0>C.l(y))return d(this.m()*C.m());for(var j=this.g.length+C.g.length,k=[],I=0;I<2*j;I++)k[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<C.g.length;V++){var U=this.i(I)>>>16,R=this.i(I)&65535,q=C.i(V)>>>16,X=C.i(V)&65535;k[2*I+2*V]+=R*X,x(k,2*I+2*V),k[2*I+2*V+1]+=U*X,x(k,2*I+2*V+1),k[2*I+2*V+1]+=R*q,x(k,2*I+2*V+1),k[2*I+2*V+2]+=U*q,x(k,2*I+2*V+2)}for(I=0;I<j;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=j;I<2*j;I++)k[I]=0;return new o(k,0)};function x(C,j){for(;(C[j]&65535)!=C[j];)C[j+1]+=C[j]>>>16,C[j]&=65535,j++}function g(C,j){this.g=C,this.h=j}function _(C,j){if(N(j))throw Error("division by zero");if(N(C))return new g(f,f);if(w(C))return j=_(T(C),j),new g(T(j.g),T(j.h));if(w(j))return j=_(C,T(j)),new g(T(j.g),j.h);if(30<C.g.length){if(w(C)||w(j))throw Error("slowDivide_ only works with positive integers.");for(var k=m,I=j;0>=I.l(C);)k=A(k),I=A(I);var V=M(k,1),U=M(I,1);for(I=M(I,2),k=M(k,2);!N(I);){var R=U.add(I);0>=R.l(C)&&(V=V.add(k),U=R),I=M(I,1),k=M(k,1)}return j=v(C,V.j(j)),new g(V,j)}for(V=f;0<=C.l(j);){for(k=Math.max(1,Math.floor(C.m()/j.m())),I=Math.ceil(Math.log(k)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=d(k),R=U.j(j);w(R)||0<R.l(C);)k-=I,U=d(k),R=U.j(j);N(U)&&(U=m),V=V.add(U),C=v(C,R)}return new g(V,C)}t.A=function(C){return _(this,C).h},t.and=function(C){for(var j=Math.max(this.g.length,C.g.length),k=[],I=0;I<j;I++)k[I]=this.i(I)&C.i(I);return new o(k,this.h&C.h)},t.or=function(C){for(var j=Math.max(this.g.length,C.g.length),k=[],I=0;I<j;I++)k[I]=this.i(I)|C.i(I);return new o(k,this.h|C.h)},t.xor=function(C){for(var j=Math.max(this.g.length,C.g.length),k=[],I=0;I<j;I++)k[I]=this.i(I)^C.i(I);return new o(k,this.h^C.h)};function A(C){for(var j=C.g.length+1,k=[],I=0;I<j;I++)k[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(k,C.h)}function M(C,j){var k=j>>5;j%=32;for(var I=C.g.length-k,V=[],U=0;U<I;U++)V[U]=0<j?C.i(U+k)>>>j|C.i(U+k+1)<<32-j:C.i(U+k);return new o(V,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x_=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Un=o}).apply(typeof jb<"u"?jb:typeof self<"u"?self:typeof window<"u"?window:{});var su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y_,$o,v_,Ru,xp,b_,w_,N_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,b){return u==Array.prototype||u==Object.prototype||(u[p]=b.value),u};function s(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof su=="object"&&su];for(var p=0;p<u.length;++p){var b=u[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=s(this);function i(u,p){if(p)e:{var b=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var $=u[S];if(!($ in b))break e;b=b[$]}u=u[u.length-1],S=b[u],p=p(S),p!=S&&p!=null&&e(b,u,{configurable:!0,writable:!0,value:p})}}function a(u,p){u instanceof String&&(u+="");var b=0,S=!1,$={next:function(){if(!S&&b<u.length){var W=b++;return{value:p(W,u[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(u){return u||function(){return a(this,function(p,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,b){return u.call.apply(u.bind,arguments)}function f(u,p,b){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),u.apply(p,$)}}return function(){return u.apply(p,arguments)}}function m(u,p,b){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(u,p){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function N(u,p){function b(){}b.prototype=p.prototype,u.aa=p.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(S,$,W){for(var te=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)te[$e-2]=arguments[$e];return p.prototype[$].apply(S,te)}}function w(u){const p=u.length;if(0<p){const b=Array(p);for(let S=0;S<p;S++)b[S]=u[S];return b}return[]}function T(u,p){for(let b=1;b<arguments.length;b++){const S=arguments[b];if(c(S)){const $=u.length||0,W=S.length||0;u.length=$+W;for(let te=0;te<W;te++)u[$+te]=S[te]}else u.push(S)}}class v{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(u){return/^[\s\xa0]*$/.test(u)}function g(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function _(u){return _[" "](u),u}_[" "]=function(){};var A=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function M(u,p,b){for(const S in u)p.call(b,u[S],S,u)}function C(u,p){for(const b in u)p.call(void 0,u[b],b,u)}function j(u){const p={};for(const b in u)p[b]=u[b];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,p){let b,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(b in S)u[b]=S[b];for(let W=0;W<k.length;W++)b=k[W],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function V(u){var p=1;u=u.split(":");const b=[];for(;0<p&&u.length;)b.push(u.shift()),p--;return u.length&&b.push(u.join(":")),b}function U(u){l.setTimeout(()=>{throw u},0)}function R(){var u=H;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class q{constructor(){this.h=this.g=null}add(p,b){const S=X.get();S.set(p,b),this.h?this.h.next=S:this.g=S,this.h=S}}var X=new v(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let O,L=!1,H=new q,z=()=>{const u=l.Promise.resolve(void 0);O=()=>{u.then(se)}};var se=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(b){U(b)}var p=X;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}L=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};l.addEventListener("test",b,p),l.removeEventListener("test",b,p)}catch{}return u}();function Ee(u,p){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(A){e:{try{_(p.nodeName);var $=!0;break e}catch{}$=!1}$||(p=null)}}else b=="mouseover"?p=u.fromElement:b=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ee.aa.h.call(this)}}N(Ee,pe);var Ve={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Be(u,p,b,S,$){this.listener=u,this.proxy=null,this.src=p,this.type=b,this.capture=!!S,this.ha=$,this.key=++Me,this.da=this.fa=!1}function kt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ar(u){this.src=u,this.g={},this.h=0}ar.prototype.add=function(u,p,b,S,$){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var te=Q(u,p,S,$);return-1<te?(p=u[te],b||(p.fa=!1)):(p=new Be(p,this.src,W,!!S,$),p.fa=b,u.push(p)),p};function re(u,p){var b=p.type;if(b in u.g){var S=u.g[b],$=Array.prototype.indexOf.call(S,p,void 0),W;(W=0<=$)&&Array.prototype.splice.call(S,$,1),W&&(kt(p),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Q(u,p,b,S){for(var $=0;$<u.length;++$){var W=u[$];if(!W.da&&W.listener==p&&W.capture==!!b&&W.ha==S)return $}return-1}var B="closure_lm_"+(1e6*Math.random()|0),J={};function ge(u,p,b,S,$){if(Array.isArray(p)){for(var W=0;W<p.length;W++)ge(u,p[W],b,S,$);return null}return b=G(b),u&&u[Ye]?u.K(p,b,d(S)?!!S.capture:!1,$):we(u,p,b,!1,S,$)}function we(u,p,b,S,$,W){if(!p)throw Error("Invalid event type");var te=d($)?!!$.capture:!!$,$e=He(u);if($e||(u[B]=$e=new ar(u)),b=$e.add(p,b,S,te,W),b.proxy)return b;if(S=gt(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)ue||($=te),$===void 0&&($=!1),u.addEventListener(p.toString(),S,$);else if(u.attachEvent)u.attachEvent(it(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function gt(){function u(b){return p.call(u.src,u.listener,b)}const p=be;return u}function ln(u,p,b,S,$){if(Array.isArray(p))for(var W=0;W<p.length;W++)ln(u,p[W],b,S,$);else S=d(S)?!!S.capture:!!S,b=G(b),u&&u[Ye]?(u=u.i,p=String(p).toString(),p in u.g&&(W=u.g[p],b=Q(W,b,S,$),-1<b&&(kt(W[b]),Array.prototype.splice.call(W,b,1),W.length==0&&(delete u.g[p],u.h--)))):u&&(u=He(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Q(p,b,S,$)),(b=-1<u?p[u]:null)&&_e(b))}function _e(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ye])re(p.i,u);else{var b=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(b,S,u.capture):p.detachEvent?p.detachEvent(it(b),S):p.addListener&&p.removeListener&&p.removeListener(S),(b=He(p))?(re(b,u),b.h==0&&(b.src=null,p[B]=null)):kt(u)}}}function it(u){return u in J?J[u]:J[u]="on"+u}function be(u,p){if(u.da)u=!0;else{p=new Ee(p,this);var b=u.listener,S=u.ha||u.src;u.fa&&_e(u),u=b.call(S,p)}return u}function He(u){return u=u[B],u instanceof ar?u:null}var P="__closure_events_fn_"+(1e9*Math.random()>>>0);function G(u){return typeof u=="function"?u:(u[P]||(u[P]=function(p){return u.handleEvent(p)}),u[P])}function ee(){oe.call(this),this.i=new ar(this),this.M=this,this.F=null}N(ee,oe),ee.prototype[Ye]=!0,ee.prototype.removeEventListener=function(u,p,b,S){ln(this,u,p,b,S)};function ie(u,p){var b,S=u.F;if(S)for(b=[];S;S=S.F)b.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new pe(p,u);else if(p instanceof pe)p.target=p.target||u;else{var $=p;p=new pe(S,u),I(p,$)}if($=!0,b)for(var W=b.length-1;0<=W;W--){var te=p.g=b[W];$=Ne(te,S,!0,p)&&$}if(te=p.g=u,$=Ne(te,S,!0,p)&&$,$=Ne(te,S,!1,p)&&$,b)for(W=0;W<b.length;W++)te=p.g=b[W],$=Ne(te,S,!1,p)&&$}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var b=u.g[p],S=0;S<b.length;S++)kt(b[S]);delete u.g[p],u.h--}}this.F=null},ee.prototype.K=function(u,p,b,S){return this.i.add(String(u),p,!1,b,S)},ee.prototype.L=function(u,p,b,S){return this.i.add(String(u),p,!0,b,S)};function Ne(u,p,b,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var $=!0,W=0;W<p.length;++W){var te=p[W];if(te&&!te.da&&te.capture==b){var $e=te.listener,Dt=te.ha||te.src;te.fa&&re(u.i,te),$=$e.call(Dt,S)!==!1&&$}}return $&&!S.defaultPrevented}function Ie(u,p,b){if(typeof u=="function")b&&(u=m(u,b));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(u,p||0)}function je(u){u.g=Ie(()=>{u.g=null,u.i&&(u.i=!1,je(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Le extends oe{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(u){oe.call(this),this.h=u,this.g={}}N(Is,oe);var fo=[];function at(u){M(u.g,function(p,b){this.g.hasOwnProperty(b)&&_e(p)},u),u.g={}}Is.prototype.N=function(){Is.aa.N.call(this),at(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zs=l.JSON.stringify,KC=l.JSON.parse,QC=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Hh(){}Hh.prototype.h=null;function $0(u){return u.h||(u.h=u.i())}function z0(){}var po={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wh(){pe.call(this,"d")}N(Wh,pe);function Gh(){pe.call(this,"c")}N(Gh,pe);var li={},q0=null;function wc(){return q0=q0||new ee}li.La="serverreachability";function H0(u){pe.call(this,li.La,u)}N(H0,pe);function go(u){const p=wc();ie(p,new H0(p))}li.STAT_EVENT="statevent";function W0(u,p){pe.call(this,li.STAT_EVENT,u),this.stat=p}N(W0,pe);function ts(u){const p=wc();ie(p,new W0(p,u))}li.Ma="timingevent";function G0(u,p){pe.call(this,li.Ma,u),this.size=p}N(G0,pe);function xo(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},p)}function yo(){this.g=!0}yo.prototype.xa=function(){this.g=!1};function YC(u,p,b,S,$,W){u.info(function(){if(u.g)if(W)for(var te="",$e=W.split("&"),Dt=0;Dt<$e.length;Dt++){var De=$e[Dt].split("=");if(1<De.length){var zt=De[0];De=De[1];var qt=zt.split("_");te=2<=qt.length&&qt[1]=="type"?te+(zt+"="+De+"&"):te+(zt+"=redacted&")}}else te=null;else te=W;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+p+`
`+b+`
`+te})}function XC(u,p,b,S,$,W,te){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+p+`
`+b+`
`+W+" "+te})}function Xi(u,p,b,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ZC(u,b)+(S?" "+S:"")})}function JC(u,p){u.info(function(){return"TIMEOUT: "+p})}yo.prototype.info=function(){};function ZC(u,p){if(!u.g)return p;if(!p)return null;try{var b=JSON.parse(p);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var S=b[u];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var W=$[0];if(W!="noop"&&W!="stop"&&W!="close")for(var te=1;te<$.length;te++)$[te]=""}}}}return zs(b)}catch{return p}}var Nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},K0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kh;function jc(){}N(jc,Hh),jc.prototype.g=function(){return new XMLHttpRequest},jc.prototype.i=function(){return{}},Kh=new jc;function cn(u,p,b,S){this.j=u,this.i=p,this.l=b,this.R=S||1,this.U=new Is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Q0}function Q0(){this.i=null,this.g="",this.h=!1}var Y0={},Qh={};function Yh(u,p,b){u.L=1,u.v=Cc(Ir(p)),u.m=b,u.P=!0,X0(u,null)}function X0(u,p){u.F=Date.now(),_c(u),u.A=Ir(u.v);var b=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),dy(b.i,"t",S),u.C=0,b=u.j.J,u.h=new Q0,u.g=ky(u.j,b?p:null,!u.m),0<u.O&&(u.M=new Le(m(u.Y,u,u.g),u.O)),p=u.U,b=u.g,S=u.ca;var $="readystatechange";Array.isArray($)||($&&(fo[0]=$.toString()),$=fo);for(var W=0;W<$.length;W++){var te=ge(b,$[W],S||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=u.H?j(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),go(),YC(u.i,u.u,u.A,u.l,u.R,u.m)}cn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Ar(u)==3?p.j():this.Y(u)},cn.prototype.Y=function(u){try{if(u==this.g)e:{const qt=Ar(this.g);var p=this.g.Ba();const ea=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||yy(this.g)))){this.J||qt!=4||p==7||(p==8||0>=ea?go(3):go(2)),Xh(this);var b=this.g.Z();this.X=b;t:if(J0(this)){var S=yy(this.g);u="";var $=S.length,W=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),vo(this);var te="";break t}this.h.i=new l.TextDecoder}for(p=0;p<$;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(W&&p==$-1)});S.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=b==200,XC(this.i,this.u,this.A,this.l,this.R,qt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Dt=this.g;if(($e=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x($e)){var De=$e;break t}}De=null}if(b=De)Xi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jh(this,b);else{this.o=!1,this.s=3,ts(12),ci(this),vo(this);break e}}if(this.P){b=!0;let qs;for(;!this.J&&this.C<te.length;)if(qs=eS(this,te),qs==Qh){qt==4&&(this.s=4,ts(14),b=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(qs==Y0){this.s=4,ts(15),Xi(this.i,this.l,te,"[Invalid Chunk]"),b=!1;break}else Xi(this.i,this.l,qs,null),Jh(this,qs);if(J0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||te.length!=0||this.h.h||(this.s=1,ts(16),b=!1),this.o=this.o&&b,!b)Xi(this.i,this.l,te,"[Invalid Chunked Response]"),ci(this),vo(this);else if(0<te.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),nm(zt),zt.M=!0,ts(11))}}else Xi(this.i,this.l,te,null),Jh(this,te);qt==4&&ci(this),this.o&&!this.J&&(qt==4?Ty(this.j,this):(this.o=!1,_c(this)))}else xS(this.g),b==400&&0<te.indexOf("Unknown SID")?(this.s=3,ts(12)):(this.s=0,ts(13)),ci(this),vo(this)}}}catch{}finally{}};function J0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function eS(u,p){var b=u.C,S=p.indexOf(`
`,b);return S==-1?Qh:(b=Number(p.substring(b,S)),isNaN(b)?Y0:(S+=1,S+b>p.length?Qh:(p=p.slice(S,S+b),u.C=S+b,p)))}cn.prototype.cancel=function(){this.J=!0,ci(this)};function _c(u){u.S=Date.now()+u.I,Z0(u,u.I)}function Z0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xo(m(u.ba,u),p)}function Xh(u){u.B&&(l.clearTimeout(u.B),u.B=null)}cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(JC(this.i,this.A),this.L!=2&&(go(),ts(17)),ci(this),this.s=2,vo(this)):Z0(this,this.S-u)};function vo(u){u.j.G==0||u.J||Ty(u.j,u)}function ci(u){Xh(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,at(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Jh(u,p){try{var b=u.j;if(b.G!=0&&(b.g==u||Zh(b.h,u))){if(!u.K&&Zh(b.h,u)&&b.G==3){try{var S=b.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)Rc(b),Ic(b);else break e;rm(b),ts(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=xo(m(b.Za,b),6e3));if(1>=sy(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else di(b,11)}else if((u.K||b.g==u)&&Rc(b),!x(p))for($=b.Da.g.parse(p),p=0;p<$.length;p++){let De=$[p];if(b.T=De[0],De=De[1],b.G==2)if(De[0]=="c"){b.K=De[1],b.ia=De[2];const zt=De[3];zt!=null&&(b.la=zt,b.j.info("VER="+b.la));const qt=De[4];qt!=null&&(b.Aa=qt,b.j.info("SVER="+b.Aa));const ea=De[5];ea!=null&&typeof ea=="number"&&0<ea&&(S=1.5*ea,b.L=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const qs=u.g;if(qs){const Mc=qs.g?qs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mc){var W=S.h;W.g||Mc.indexOf("spdy")==-1&&Mc.indexOf("quic")==-1&&Mc.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(em(W,W.h),W.h=null))}if(S.D){const im=qs.g?qs.g.getResponseHeader("X-HTTP-Session-Id"):null;im&&(S.ya=im,We(S.I,S.D,im))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),S=b;var te=u;if(S.qa=Sy(S,S.J?S.ia:null,S.W),te.K){ry(S.h,te);var $e=te,Dt=S.L;Dt&&($e.I=Dt),$e.B&&(Xh($e),_c($e)),S.g=te}else jy(S);0<b.i.length&&Ac(b)}else De[0]!="stop"&&De[0]!="close"||di(b,7);else b.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?di(b,7):sm(b):De[0]!="noop"&&b.l&&b.l.ta(De),b.v=0)}}go(4)}catch{}}var tS=class{constructor(u,p){this.g=u,this.map=p}};function ey(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ty(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function sy(u){return u.h?1:u.g?u.g.size:0}function Zh(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function em(u,p){u.g?u.g.add(p):u.h=p}function ry(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ey.prototype.cancel=function(){if(this.i=ny(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ny(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const b of u.g.values())p=p.concat(b.D);return p}return w(u.i)}function sS(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],b=u.length,S=0;S<b;S++)p.push(u[S]);return p}p=[],b=0;for(S in u)p[b++]=u[S];return p}function rS(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var b=0;b<u;b++)p.push(b);return p}p=[],b=0;for(const S in u)p[b++]=S;return p}}}function iy(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var b=rS(u),S=sS(u),$=S.length,W=0;W<$;W++)p.call(void 0,S[W],b&&b[W],u)}var ay=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nS(u,p){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var S=u[b].indexOf("="),$=null;if(0<=S){var W=u[b].substring(0,S);$=u[b].substring(S+1)}else W=u[b];p(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ui(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ui){this.h=u.h,Tc(this,u.j),this.o=u.o,this.g=u.g,Ec(this,u.s),this.l=u.l;var p=u.i,b=new No;b.i=p.i,p.g&&(b.g=new Map(p.g),b.h=p.h),oy(this,b),this.m=u.m}else u&&(p=String(u).match(ay))?(this.h=!1,Tc(this,p[1]||"",!0),this.o=bo(p[2]||""),this.g=bo(p[3]||"",!0),Ec(this,p[4]),this.l=bo(p[5]||"",!0),oy(this,p[6]||"",!0),this.m=bo(p[7]||"")):(this.h=!1,this.i=new No(null,this.h))}ui.prototype.toString=function(){var u=[],p=this.j;p&&u.push(wo(p,ly,!0),":");var b=this.g;return(b||p=="file")&&(u.push("//"),(p=this.o)&&u.push(wo(p,ly,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(wo(b,b.charAt(0)=="/"?oS:aS,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",wo(b,cS)),u.join("")};function Ir(u){return new ui(u)}function Tc(u,p,b){u.j=b?bo(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ec(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function oy(u,p,b){p instanceof No?(u.i=p,uS(u.i,u.h)):(b||(p=wo(p,lS)),u.i=new No(p,u.h))}function We(u,p,b){u.i.set(p,b)}function Cc(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function bo(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wo(u,p,b){return typeof u=="string"?(u=encodeURI(u).replace(p,iS),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function iS(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ly=/[#\/\?@]/g,aS=/[#\?:]/g,oS=/[#\?]/g,lS=/[#\?@]/g,cS=/#/g;function No(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&nS(u.i,function(p,b){u.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}t=No.prototype,t.add=function(u,p){un(this),this.i=null,u=Ji(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(p),this.h+=1,this};function cy(u,p){un(u),p=Ji(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function uy(u,p){return un(u),p=Ji(u,p),u.g.has(p)}t.forEach=function(u,p){un(this),this.g.forEach(function(b,S){b.forEach(function($){u.call(p,$,S,this)},this)},this)},t.na=function(){un(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),b=[];for(let S=0;S<p.length;S++){const $=u[S];for(let W=0;W<$.length;W++)b.push(p[S])}return b},t.V=function(u){un(this);let p=[];if(typeof u=="string")uy(this,u)&&(p=p.concat(this.g.get(Ji(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)p=p.concat(u[b])}return p},t.set=function(u,p){return un(this),this.i=null,u=Ji(this,u),uy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function dy(u,p,b){cy(u,p),0<b.length&&(u.i=null,u.g.set(Ji(u,p),w(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var b=0;b<p.length;b++){var S=p[b];const W=encodeURIComponent(String(S)),te=this.V(S);for(S=0;S<te.length;S++){var $=W;te[S]!==""&&($+="="+encodeURIComponent(String(te[S]))),u.push($)}}return this.i=u.join("&")};function Ji(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function uS(u,p){p&&!u.j&&(un(u),u.i=null,u.g.forEach(function(b,S){var $=S.toLowerCase();S!=$&&(cy(this,S),dy(this,$,b))},u)),u.j=p}function dS(u,p){const b=new yo;if(l.Image){const S=new Image;S.onload=y(dn,b,"TestLoadImage: loaded",!0,p,S),S.onerror=y(dn,b,"TestLoadImage: error",!1,p,S),S.onabort=y(dn,b,"TestLoadImage: abort",!1,p,S),S.ontimeout=y(dn,b,"TestLoadImage: timeout",!1,p,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function hS(u,p){const b=new yo,S=new AbortController,$=setTimeout(()=>{S.abort(),dn(b,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(W=>{clearTimeout($),W.ok?dn(b,"TestPingServer: ok",!0,p):dn(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout($),dn(b,"TestPingServer: error",!1,p)})}function dn(u,p,b,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(b)}catch{}}function mS(){this.g=new QC}function fS(u,p,b){const S=b||"";try{iy(u,function($,W){let te=$;d($)&&(te=zs($)),p.push(S+W+"="+encodeURIComponent(te))})}catch($){throw p.push(S+"type="+encodeURIComponent("_badmap")),$}}function Sc(u){this.l=u.Ub||null,this.j=u.eb||!1}N(Sc,Hh),Sc.prototype.g=function(){return new kc(this.l,this.j)},Sc.prototype.i=function(u){return function(){return u}}({});function kc(u,p){ee.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(kc,ee),t=kc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,_o(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_o(this)),this.g&&(this.readyState=3,_o(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function hy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?jo(this):_o(this),this.readyState==3&&hy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,jo(this))},t.Qa=function(u){this.g&&(this.response=u,jo(this))},t.ga=function(){this.g&&jo(this)};function jo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,_o(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=p.next();return u.join(`\r
`)};function _o(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function my(u){let p="";return M(u,function(b,S){p+=S,p+=":",p+=b,p+=`\r
`}),p}function tm(u,p,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=my(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):We(u,p,b))}function ot(u){ee.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(ot,ee);var pS=/^https?$/i,gS=["POST","PUT"];t=ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kh.g(),this.v=this.o?$0(this.o):$0(Kh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(W){fy(this,W);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)b.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())b.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),$=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(gS,p,void 0))||S||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,te]of b)this.g.setRequestHeader(W,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xy(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){fy(this,W)}};function fy(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,py(u),Pc(u)}function py(u){u.A||(u.A=!0,ie(u,"complete"),ie(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ie(this,"complete"),ie(this,"abort"),Pc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pc(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gy(this):this.bb())},t.bb=function(){gy(this)};function gy(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ar(u)!=4||u.Z()!=2)){if(u.u&&Ar(u)==4)Ie(u.Ea,0,u);else if(ie(u,"readystatechange"),Ar(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var S;if(S=te===0){var $=String(u.D).match(ay)[1]||null;!$&&l.self&&l.self.location&&($=l.self.location.protocol.slice(0,-1)),S=!pS.test($?$.toLowerCase():"")}b=S}if(b)ie(u,"complete"),ie(u,"success");else{u.m=6;try{var W=2<Ar(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",py(u)}}finally{Pc(u)}}}}function Pc(u,p){if(u.g){xy(u);const b=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ie(u,"ready");try{b.onreadystatechange=S}catch{}}}function xy(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ar(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),KC(p)}};function yy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xS(u){const p={};u=(u.g&&2<=Ar(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var b=V(u[S]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=p[$]||[];p[$]=W,W.push(b)}C(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function To(u,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||p}function vy(u){this.Aa=0,this.i=[],this.j=new yo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=To("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=To("baseRetryDelayMs",5e3,u),this.cb=To("retryDelaySeedMs",1e4,u),this.Wa=To("forwardChannelMaxRetries",2,u),this.wa=To("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ey(u&&u.concurrentRequestLimit),this.Da=new mS,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vy.prototype,t.la=8,t.G=1,t.connect=function(u,p,b,S){ts(0),this.W=u,this.H=p||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.I=Sy(this,null,this.W),Ac(this)};function sm(u){if(by(u),u.G==3){var p=u.U++,b=Ir(u.I);if(We(b,"SID",u.K),We(b,"RID",p),We(b,"TYPE","terminate"),Eo(u,b),p=new cn(u,u.j,p),p.L=2,p.v=Cc(Ir(b)),b=!1,l.navigator&&l.navigator.sendBeacon)try{b=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!b&&l.Image&&(new Image().src=p.v,b=!0),b||(p.g=ky(p.j,null),p.g.ea(p.v)),p.F=Date.now(),_c(p)}Cy(u)}function Ic(u){u.g&&(nm(u),u.g.cancel(),u.g=null)}function by(u){Ic(u),u.u&&(l.clearTimeout(u.u),u.u=null),Rc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Ac(u){if(!ty(u.h)&&!u.s){u.s=!0;var p=u.Ga;O||z(),L||(O(),L=!0),H.add(p,u),u.B=0}}function yS(u,p){return sy(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xo(m(u.Ga,u,p),Ey(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new cn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=j(W),I(W,this.S)):W=this.S),this.m!==null||this.O||($.H=W,W=null),this.P)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=Ny(this,$,p),b=Ir(this.I),We(b,"RID",u),We(b,"CVER",22),this.D&&We(b,"X-HTTP-Session-Id",this.D),Eo(this,b),W&&(this.O?p="headers="+encodeURIComponent(String(my(W)))+"&"+p:this.m&&tm(b,this.m,W)),em(this.h,$),this.Ua&&We(b,"TYPE","init"),this.P?(We(b,"$req",p),We(b,"SID","null"),$.T=!0,Yh($,b,null)):Yh($,b,p),this.G=2}}else this.G==3&&(u?wy(this,u):this.i.length==0||ty(this.h)||wy(this))};function wy(u,p){var b;p?b=p.l:b=u.U++;const S=Ir(u.I);We(S,"SID",u.K),We(S,"RID",b),We(S,"AID",u.T),Eo(u,S),u.m&&u.o&&tm(S,u.m,u.o),b=new cn(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Ny(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),em(u.h,b),Yh(b,S,p)}function Eo(u,p){u.H&&M(u.H,function(b,S){We(p,S,b)}),u.l&&iy({},function(b,S){We(p,S,b)})}function Ny(u,p,b){b=Math.min(u.i.length,b);var S=u.l?m(u.l.Na,u.l,u):null;e:{var $=u.i;let W=-1;for(;;){const te=["count="+b];W==-1?0<b?(W=$[0].g,te.push("ofs="+W)):W=0:te.push("ofs="+W);let $e=!0;for(let Dt=0;Dt<b;Dt++){let De=$[Dt].g;const zt=$[Dt].map;if(De-=W,0>De)W=Math.max(0,$[Dt].g-100),$e=!1;else try{fS(zt,te,"req"+De+"_")}catch{S&&S(zt)}}if($e){S=te.join("&");break e}}}return u=u.i.splice(0,b),p.D=u,S}function jy(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;O||z(),L||(O(),L=!0),H.add(p,u),u.v=0}}function rm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xo(m(u.Fa,u),Ey(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,_y(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xo(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ts(10),Ic(this),_y(this))};function nm(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function _y(u){u.g=new cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Ir(u.qa);We(p,"RID","rpc"),We(p,"SID",u.K),We(p,"AID",u.T),We(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(p,"TO",u.ja),We(p,"TYPE","xmlhttp"),Eo(u,p),u.m&&u.o&&tm(p,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=Cc(Ir(p)),b.m=null,b.P=!0,X0(b,u)}t.Za=function(){this.C!=null&&(this.C=null,Ic(this),rm(this),ts(19))};function Rc(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function Ty(u,p){var b=null;if(u.g==p){Rc(u),nm(u),u.g=null;var S=2}else if(Zh(u.h,p))b=p.D,ry(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){b=p.m?p.m.length:0,p=Date.now()-p.F;var $=u.B;S=wc(),ie(S,new G0(S,b)),Ac(u)}else jy(u);else if($=p.s,$==3||$==0&&0<p.X||!(S==1&&yS(u,p)||S==2&&rm(u)))switch(b&&0<b.length&&(p=u.h,p.i=p.i.concat(b)),$){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function Ey(u,p){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*p}function di(u,p){if(u.j.info("Error code "+p),p==2){var b=m(u.fb,u),S=u.Xa;const $=!S;S=new ui(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Tc(S,"https"),Cc(S),$?dS(S.toString(),b):hS(S.toString(),b)}else ts(2);u.G=0,u.l&&u.l.sa(p),Cy(u),by(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ts(2)):(this.j.info("Failed to ping google.com"),ts(1))};function Cy(u){if(u.G=0,u.ka=[],u.l){const p=ny(u.h);(p.length!=0||u.i.length!=0)&&(T(u.ka,p),T(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function Sy(u,p,b){var S=b instanceof ui?Ir(b):new ui(b);if(S.g!="")p&&(S.g=p+"."+S.g),Ec(S,S.s);else{var $=l.location;S=$.protocol,p=p?p+"."+$.hostname:$.hostname,$=+$.port;var W=new ui(null);S&&Tc(W,S),p&&(W.g=p),$&&Ec(W,$),b&&(W.l=b),S=W}return b=u.D,p=u.ya,b&&p&&We(S,b,p),We(S,"VER",u.la),Eo(u,S),S}function ky(u,p,b){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ot(new Sc({eb:b})):new ot(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Py(){}t=Py.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dc(){}Dc.prototype.g=function(u,p){return new ws(u,p)};function ws(u,p){ee.call(this),this.g=new vy(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!x(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Zi(this)}N(ws,ee),ws.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ws.prototype.close=function(){sm(this.g)},ws.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=zs(u),u=b);p.i.push(new tS(p.Ya++,u)),p.G==3&&Ac(p)},ws.prototype.N=function(){this.g.l=null,delete this.j,sm(this.g),delete this.g,ws.aa.N.call(this)};function Iy(u){Wh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const b in p){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}N(Iy,Wh);function Ay(){Gh.call(this),this.status=1}N(Ay,Gh);function Zi(u){this.g=u}N(Zi,Py),Zi.prototype.ua=function(){ie(this.g,"a")},Zi.prototype.ta=function(u){ie(this.g,new Iy(u))},Zi.prototype.sa=function(u){ie(this.g,new Ay)},Zi.prototype.ra=function(){ie(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,ws.prototype.send=ws.prototype.o,ws.prototype.open=ws.prototype.m,ws.prototype.close=ws.prototype.close,N_=function(){return new Dc},w_=function(){return wc()},b_=li,xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nc.NO_ERROR=0,Nc.TIMEOUT=8,Nc.HTTP_ERROR=6,Ru=Nc,K0.COMPLETE="complete",v_=K0,z0.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",ee.prototype.listen=ee.prototype.K,$o=z0,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,y_=ot}).apply(typeof su<"u"?su:typeof self<"u"?self:typeof window<"u"?window:{});const _b="@firebase/firestore",Tb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new hx("@firebase/firestore");function sa(){return Ui.logLevel}function ae(t,...e){if(Ui.logLevel<=Se.DEBUG){const s=e.map(_x);Ui.debug(`Firestore (${ao}): ${t}`,...s)}}function en(t,...e){if(Ui.logLevel<=Se.ERROR){const s=e.map(_x);Ui.error(`Firestore (${ao}): ${t}`,...s)}}function za(t,...e){if(Ui.logLevel<=Se.WARN){const s=e.map(_x);Ui.warn(`Firestore (${ao}): ${t}`,...s)}}function _x(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,j_(t,r,s)}function j_(t,e,s){let r=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw en(r),new Error(r)}function Oe(t,e,s,r){let i="Unexpected state";typeof s=="string"?i=s:r=s,t||j_(e,i,r)}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends kr{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(Kt.UNAUTHENTICATED))}shutdown(){}}class U6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class B6{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Oe(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,s(c)):Promise.resolve();let a=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qr)}},0),o()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new __(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class $6{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z6{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new $6(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable(()=>s(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Eb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q6{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ys(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Oe(this.o===void 0,3512);const r=a=>{a.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?s(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Eb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(Oe(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new Eb(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<t;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=H6(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<s&&(r+=e.charAt(i[a]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function yp(t,e){const s=Math.min(t.length,e.length);for(let r=0;r<s;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return $m(i)===$m(a)?ke(i,a):$m(i)?1:-1}return ke(t.length,e.length)}const W6=55296,G6=57343;function $m(t){const e=t.charCodeAt(0);return e>=W6&&e<=G6}function qa(t,e,s){return t.length===e.length&&t.every((r,i)=>s(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="__name__";class cr{constructor(e,s,r){s===void 0?s=0:s>e.length&&me(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&me(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach(r=>{s.push(r)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let i=0;i<r;i++){const a=cr.compareSegments(e.get(i),s.get(i));if(a!==0)return a}return ke(e.length,s.length)}static compareSegments(e,s){const r=cr.isNumericId(e),i=cr.isNumericId(s);return r&&!i?-1:!r&&i?1:r&&i?cr.extractNumericId(e).compare(cr.extractNumericId(s)):yp(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Un.fromString(e.substring(4,e.length-2))}}class ze extends cr{construct(e,s,r){return new ze(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter(i=>i.length>0))}return new ze(s)}static emptyPath(){return new ze([])}}const K6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends cr{construct(e,s,r){return new Lt(e,s,r)}static isValidIdentifier(e){return K6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cb}static keyField(){return new Lt([Cb])}static fromServerFormat(e){const s=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ne(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ne(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ne(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new ne(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(s)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(ze.fromString(e))}static fromName(e){return new he(ze.fromString(e).popFirst(5))}static empty(){return new he(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ze.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t,e,s){if(!s)throw new ne(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q6(t,e,s,r){if(e===!0&&r===!0)throw new ne(K.INVALID_ARGUMENT,`${t} and ${s} cannot be used together.`)}function Sb(t){if(!he.isDocumentKey(t))throw new ne(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kb(t){if(he.isDocumentKey(t))throw new ne(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function E_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me(12329,{type:typeof t})}function vs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=bh(t);throw new ne(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e){const s={typeString:t};return e&&(s.value=e),s}function oc(t,e){if(!E_(t))throw new ne(K.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){s=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){s=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){s=`Expected '${r}' field to equal '${a.value}'`;break}}if(s)throw new ne(K.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=-62135596800,Ib=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*Ib);return new Ke(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ne(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ne(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<Pb)throw new ne(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ib}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oc(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:Nt("string",Ke._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Ke(0,0))}static max(){return new ye(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function Y6(t,e){const s=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Ke(s+1,0):new Ke(s,r));return new Hn(i,he.empty(),e)}function X6(t){return new Hn(t.readTime,t.key,Dl)}class Hn{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new Hn(ye.min(),he.empty(),Dl)}static max(){return new Hn(ye.max(),he.empty(),Dl)}}function J6(t,e){let s=t.readTime.compareTo(e.readTime);return s!==0?s:(s=he.comparator(t.documentKey,e.documentKey),s!==0?s:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==Z6)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(s,a).next(r,i)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof Y?s:Y.resolve(s)}catch(s){return Y.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):Y.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):Y.reject(s)}static resolve(e){return new Y((s,r)=>{s(e)})}static reject(e){return new Y((s,r)=>{r(e)})}static waitFor(e){return new Y((s,r)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&s()},c=>r(c))}),o=!0,a===i&&s()})}static or(e){let s=Y.resolve(!1);for(const r of e)s=s.next(i=>i?Y.resolve(i):r());return s}static forEach(e,s){const r=[];return e.forEach((i,a)=>{r.push(s.call(this,i,a))}),this.waitFor(r)}static mapArray(e,s){return new Y((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;s(e[d]).next(h=>{o[d]=h,++l,l===a&&r(o)},h=>i(h))}})}static doWhile(e,s){return new Y((r,i)=>{const a=()=>{e()===!0?s().next(()=>{a()},i):r()};a()})}}function tD(t){const e=t.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function lo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=-1;function Nh(t){return t==null}function _d(t){return t===0&&1/t==-1/0}function sD(t){return typeof t=="number"&&Number.isInteger(t)&&!_d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="";function rD(t){let e="";for(let s=0;s<t.length;s++)e.length>0&&(e=Ab(e)),e=nD(t.get(s),e);return Ab(e)}function nD(t,e){let s=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":s+="";break;case C_:s+="";break;default:s+=a}}return s}function Ab(t){return t+C_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){let e=0;for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e++;return e}function ii(t,e){for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e(s,t[s])}function S_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,s){this.comparator=e,this.root=s||Vt.EMPTY}insert(e,s){return new nt(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return s+r.left.size;i<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,r)=>(e(s,r),!1))}toString(){const e=[];return this.inorderTraversal((s,r)=>(e.push(`${s}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ru(this.root,e,this.comparator,!0)}}class ru{constructor(e,s,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=s?r(e.key,s):1,s&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,s,r,i,a){this.key=e,this.value=s,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=a??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,i,a){return new Vt(e??this.key,s??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,s,r),null):a===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(e,s,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,i=this;if(s(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(e,i.key)===0){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,s,r,i,a){return this}insert(e,s,r){return new Vt(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,r)=>(e(s),!1))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;s(i.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Db(this.data.getIterator())}getIteratorFrom(e){return new Db(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(r=>{s=s.add(r)}),s}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new St(this.comparator);return s.data=e,s}}class Db{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Es([])}unionWith(e){let s=new St(Lt.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new Es(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(s,r)=>s.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const s=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new k_("Invalid base64 string: "+a):a}}(e);return new Bt(s)}static fromUint8Array(e){const s=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Bt(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const iD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const s=iD.exec(t);if(Oe(!!s,46558,{timestamp:t}),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gn(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="server_timestamp",I_="__type__",A_="__previous_value__",R_="__local_write_time__";function Cx(t){var s,r;return((r=(((s=t==null?void 0:t.mapValue)==null?void 0:s.fields)||{})[I_])==null?void 0:r.stringValue)===P_}function jh(t){const e=t.mapValue.fields[A_];return Cx(e)?jh(e):e}function Ml(t){const e=Wn(t.mapValue.fields[R_].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,s,r,i,a,o,l,c,d,h){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Td="(default)";class Ol{constructor(e,s){this.projectId=e,this.database=s||Td}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Td}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="__type__",oD="__max__",nu={mapValue:{}},M_="__vector__",Ed="value";function Kn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cx(t)?4:cD(t)?9007199254740991:lD(t)?10:11:me(28295,{value:t})}function Tr(t,e){if(t===e)return!0;const s=Kn(t);if(s!==Kn(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ml(t).isEqual(Ml(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Wn(i.timestampValue),l=Wn(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Gn(i.bytesValue).isEqual(Gn(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return mt(i.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return mt(i.integerValue)===mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=mt(i.doubleValue),l=mt(a.doubleValue);return o===l?_d(o)===_d(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return qa(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(Rb(o)!==Rb(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Tr(o[c],l[c])))return!1;return!0}(t,e);default:return me(52216,{left:t})}}function Vl(t,e){return(t.values||[]).find(s=>Tr(s,e))!==void 0}function Ha(t,e){if(t===e)return 0;const s=Kn(t),r=Kn(e);if(s!==r)return ke(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=mt(a.integerValue||a.doubleValue),c=mt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Mb(t.timestampValue,e.timestampValue);case 4:return Mb(Ml(t),Ml(e));case 5:return yp(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Gn(a),c=Gn(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=ke(l[d],c[d]);if(h!==0)return h}return ke(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ke(mt(a.latitude),mt(o.latitude));return l!==0?l:ke(mt(a.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ob(t.arrayValue,e.arrayValue);case 10:return function(a,o){var m,y,N,w;const l=a.fields||{},c=o.fields||{},d=(m=l[Ed])==null?void 0:m.arrayValue,h=(y=c[Ed])==null?void 0:y.arrayValue,f=ke(((N=d==null?void 0:d.values)==null?void 0:N.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return f!==0?f:Ob(d,h)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===nu.mapValue&&o===nu.mapValue)return 0;if(a===nu.mapValue)return 1;if(o===nu.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=yp(c[f],h[f]);if(m!==0)return m;const y=Ha(l[c[f]],d[h[f]]);if(y!==0)return y}return ke(c.length,h.length)}(t.mapValue,e.mapValue);default:throw me(23264,{he:s})}}function Mb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const s=Wn(t),r=Wn(e),i=ke(s.seconds,r.seconds);return i!==0?i:ke(s.nanos,r.nanos)}function Ob(t,e){const s=t.values||[],r=e.values||[];for(let i=0;i<s.length&&i<r.length;++i){const a=Ha(s[i],r[i]);if(a)return a}return ke(s.length,r.length)}function Wa(t){return vp(t)}function vp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=Wn(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(s){return Gn(s).toBase64()}(t.bytesValue):"referenceValue"in t?function(s){return he.fromName(s).toString()}(t.referenceValue):"geoPointValue"in t?function(s){return`geo(${s.latitude},${s.longitude})`}(t.geoPointValue):"arrayValue"in t?function(s){let r="[",i=!0;for(const a of s.values||[])i?i=!1:r+=",",r+=vp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${vp(s.fields[o])}`;return i+"}"}(t.mapValue):me(61005,{value:t})}function Du(t){switch(Kn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(t);return e?16+Du(e):16;case 5:return 2*t.stringValue.length;case 6:return Gn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Du(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ii(r.fields,(a,o)=>{i+=a.length+Du(o)}),i}(t.mapValue);default:throw me(13486,{value:t})}}function Vb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bp(t){return!!t&&"integerValue"in t}function Sx(t){return!!t&&"arrayValue"in t}function Lb(t){return!!t&&"nullValue"in t}function Fb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mu(t){return!!t&&"mapValue"in t}function lD(t){var s,r;return((r=(((s=t==null?void 0:t.mapValue)==null?void 0:s.fields)||{})[D_])==null?void 0:r.stringValue)===M_}function il(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ii(t.mapValue.fields,(s,r)=>e.mapValue.fields[s]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(t.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=il(t.arrayValue.values[s]);return e}return{...t}}function cD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!Mu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(s)}setAll(e){let s=Lt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!s.isImmediateParentOf(l)){const c=this.getFieldsMap(s);this.applyChanges(c,r,i),r={},i=[],s=l.popLast()}o?r[l.lastSegment()]=il(o):i.push(l.lastSegment())});const a=this.getFieldsMap(s);this.applyChanges(a,r,i)}delete(e){const s=this.field(e.popLast());Mu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=s.mapValue.fields[e.get(r)];Mu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=i),s=i}return s.mapValue.fields}applyChanges(e,s,r){ii(s,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ds(il(this.value))}}function O_(t){const e=[];return ii(t.fields,(s,r)=>{const i=new Lt([s]);if(Mu(r)){const a=O_(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,s,r,i,a,o,l){this.key=e,this.documentType=s,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Xt(e,0,ye.min(),ye.min(),ye.min(),ds.empty(),0)}static newFoundDocument(e,s,r,i){return new Xt(e,1,s,ye.min(),r,i,0)}static newNoDocument(e,s){return new Xt(e,2,s,ye.min(),ye.min(),ds.empty(),0)}static newUnknownDocument(e,s){return new Xt(e,3,s,ye.min(),ye.min(),ds.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,s){this.position=e,this.inclusive=s}}function Ub(t,e,s){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),s.key):r=Ha(o,s.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let s=0;s<t.position.length;s++)if(!Tr(t.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,s="asc"){this.field=e,this.dir=s}}function uD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V_=class{};class wt extends V_{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new hD(e,s,r):s==="array-contains"?new pD(e,r):s==="in"?new gD(e,r):s==="not-in"?new xD(e,r):s==="array-contains-any"?new yD(e,r):new wt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new mD(e,r):new fD(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Ha(s,this.value)):s!==null&&Kn(this.value)===Kn(s)&&this.matchesComparison(Ha(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends V_{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new rr(e,s)}matches(e){return L_(this)?this.filters.find(s=>!s.matches(e))===void 0:this.filters.find(s=>s.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,s)=>e.concat(s.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L_(t){return t.op==="and"}function F_(t){return dD(t)&&L_(t)}function dD(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function wp(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(F_(t))return t.filters.map(e=>wp(e)).join(",");{const e=t.filters.map(s=>wp(s)).join(",");return`${t.op}(${e})`}}function U_(t,e){return t instanceof wt?function(r,i){return i instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&Tr(r.value,i.value)}(t,e):t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,l)=>a&&U_(o,i.filters[l]),!0):!1}(t,e):void me(19439)}function B_(t){return t instanceof wt?function(s){return`${s.field.canonicalString()} ${s.op} ${Wa(s.value)}`}(t):t instanceof rr?function(s){return s.op.toString()+" {"+s.getFilters().map(B_).join(" ,")+"}"}(t):"Filter"}class hD extends wt{constructor(e,s,r){super(e,s,r),this.key=he.fromName(r.referenceValue)}matches(e){const s=he.comparator(e.key,this.key);return this.matchesComparison(s)}}class mD extends wt{constructor(e,s){super(e,"in",s),this.keys=$_("in",s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class fD extends wt{constructor(e,s){super(e,"not-in",s),this.keys=$_("not-in",s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function $_(t,e){var s;return(((s=e.arrayValue)==null?void 0:s.values)||[]).map(r=>he.fromName(r.referenceValue))}class pD extends wt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Sx(s)&&Vl(s.arrayValue,this.value)}}class gD extends wt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Vl(this.value.arrayValue,s)}}class xD extends wt{constructor(e,s){super(e,"not-in",s)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Vl(this.value.arrayValue,s)}}class yD extends wt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Sx(s)||!s.arrayValue.values)&&s.arrayValue.values.some(r=>Vl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,s=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function $b(t,e=null,s=[],r=[],i=null,a=null,o=null){return new vD(t,e,s,r,i,a,o)}function kx(t){const e=ve(t);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(r=>wp(r)).join(","),s+="|ob:",s+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Nh(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(r=>Wa(r)).join(",")),e.Te=s}return e.Te}function Px(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!uD(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(!U_(t.filters[s],e.filters[s]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bb(t.startAt,e.startAt)&&Bb(t.endAt,e.endAt)}function Np(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,s=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bD(t,e,s,r,i,a,o,l){return new lc(t,e,s,r,i,a,o,l)}function _h(t){return new lc(t)}function zb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function z_(t){return t.collectionGroup!==null}function al(t){const e=ve(t);if(e.Ie===null){e.Ie=[];const s=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),s.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new St(Lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(a=>{s.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Sd(a,r))}),s.has(Lt.keyField().canonicalString())||e.Ie.push(new Sd(Lt.keyField(),r))}return e.Ie}function yr(t){const e=ve(t);return e.Ee||(e.Ee=wD(e,al(t))),e.Ee}function wD(t,e){if(t.limitType==="F")return $b(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Sd(i.field,a)});const s=t.endAt?new Cd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cd(t.startAt.position,t.startAt.inclusive):null;return $b(t.path,t.collectionGroup,e,t.filters,t.limit,s,r)}}function jp(t,e){const s=t.filters.concat([e]);return new lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),s,t.limit,t.limitType,t.startAt,t.endAt)}function _p(t,e,s){return new lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,s,t.startAt,t.endAt)}function Th(t,e){return Px(yr(t),yr(e))&&t.limitType===e.limitType}function q_(t){return`${kx(yr(t))}|lt:${t.limitType}`}function ra(t){return`Query(target=${function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>B_(i)).join(", ")}]`),Nh(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map(i=>Wa(i)).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map(i=>Wa(i)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):he.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of al(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const d=Ub(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,al(r),i)||r.endAt&&!function(o,l,c){const d=Ub(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,al(r),i))}(t,e)}function ND(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H_(t){return(e,s)=>{let r=!1;for(const i of al(t)){const a=jD(i,e,s);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function jD(t,e,s){const r=t.field.isKeyField()?he.comparator(e.key,s.key):function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?Ha(c,d):me(42886)}(t.field,e,s);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,s]);i.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[s]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(s,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return S_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new nt(he.comparator);function tn(){return _D}const W_=new nt(he.comparator);function zo(...t){let e=W_;for(const s of t)e=e.insert(s.key,s);return e}function G_(t){let e=W_;return t.forEach((s,r)=>e=e.insert(s,r.overlayedDocument)),e}function bi(){return ol()}function K_(){return ol()}function ol(){return new Gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const TD=new nt(he.comparator),ED=new St(he.comparator);function Pe(...t){let e=ED;for(const s of t)e=e.add(s);return e}const CD=new St(ke);function SD(){return CD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_d(e)?"-0":e}}function Q_(t){return{integerValue:""+t}}function kD(t,e){return sD(e)?Q_(e):Ix(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function PD(t,e,s){return t instanceof kd?function(i,a){const o={fields:{[I_]:{stringValue:P_},[R_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Cx(a)&&(a=jh(a)),a&&(o.fields[A_]=a),{mapValue:o}}(s,e):t instanceof Ll?X_(t,e):t instanceof Fl?J_(t,e):function(i,a){const o=Y_(i,a),l=qb(o)+qb(i.Ae);return bp(o)&&bp(i.Ae)?Q_(l):Ix(i.serializer,l)}(t,e)}function ID(t,e,s){return t instanceof Ll?X_(t,e):t instanceof Fl?J_(t,e):s}function Y_(t,e){return t instanceof Pd?function(r){return bp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class kd extends Ch{}class Ll extends Ch{constructor(e){super(),this.elements=e}}function X_(t,e){const s=Z_(e);for(const r of t.elements)s.some(i=>Tr(i,r))||s.push(r);return{arrayValue:{values:s}}}class Fl extends Ch{constructor(e){super(),this.elements=e}}function J_(t,e){let s=Z_(e);for(const r of t.elements)s=s.filter(i=>!Tr(i,r));return{arrayValue:{values:s}}}class Pd extends Ch{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function qb(t){return mt(t.integerValue||t.doubleValue)}function Z_(t){return Sx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ll&&i instanceof Ll||r instanceof Fl&&i instanceof Fl?qa(r.elements,i.elements,Tr):r instanceof Pd&&i instanceof Pd?Tr(r.Ae,i.Ae):r instanceof kd&&i instanceof kd}(t.transform,e.transform)}class RD{constructor(e,s){this.version=e,this.transformResults=s}}class Fs{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Fs}static exists(e){return new Fs(void 0,e)}static updateTime(e){return new Fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sh{}function eT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ax(t.key,Fs.none()):new cc(t.key,t.data,Fs.none());{const s=t.data,r=ds.empty();let i=new St(Lt.comparator);for(let a of e.fields)if(!i.has(a)){let o=s.field(a);o===null&&a.length>1&&(a=a.popLast(),o=s.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new ai(t.key,r,new Es(i.toArray()),Fs.none())}}function DD(t,e,s){t instanceof cc?function(i,a,o){const l=i.value.clone(),c=Wb(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,s):t instanceof ai?function(i,a,o){if(!Ou(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=Wb(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(tT(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,s):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,s)}function ll(t,e,s,r){return t instanceof cc?function(a,o,l,c){if(!Ou(a.precondition,o))return l;const d=a.value.clone(),h=Gb(a.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,s,r):t instanceof ai?function(a,o,l,c){if(!Ou(a.precondition,o))return l;const d=Gb(a.fieldTransforms,c,o),h=o.data;return h.setAll(tT(a)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,s,r):function(a,o,l){return Ou(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,s)}function MD(t,e){let s=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Y_(r.transform,i||null);a!=null&&(s===null&&(s=ds.empty()),s.set(r.field,a))}return s||null}function Hb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qa(r,i,(a,o)=>AD(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cc extends Sh{constructor(e,s,r,i=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends Sh{constructor(e,s,r,i,a=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tT(t){const e=new Map;return t.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const r=t.data.field(s);e.set(s,r)}}),e}function Wb(t,e,s){const r=new Map;Oe(t.length===s.length,32656,{Re:s.length,Ve:t.length});for(let i=0;i<s.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,ID(o,l,s[i]))}return r}function Gb(t,e,s){const r=new Map;for(const i of t){const a=i.transform,o=s.data.field(i.field);r.set(i.field,PD(a,o,e))}return r}class Ax extends Sh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OD extends Sh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,s,r,i){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&DD(a,e,r[i])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=ll(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=ll(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=K_();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=s.has(i.key)?null:l;const c=eT(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),Pe())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(s,r)=>Hb(s,r))&&qa(this.baseMutations,e.baseMutations,(s,r)=>Hb(s,r))}}class Rx{constructor(e,s,r,i){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=i}static from(e,s,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return TD}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new Rx(e,s,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ae;function UD(t){switch(t){case K.OK:return me(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return me(15467,{code:t})}}function sT(t){if(t===void 0)return en("GRPC error has no .code"),K.UNKNOWN;switch(t){case xt.OK:return K.OK;case xt.CANCELLED:return K.CANCELLED;case xt.UNKNOWN:return K.UNKNOWN;case xt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case xt.INTERNAL:return K.INTERNAL;case xt.UNAVAILABLE:return K.UNAVAILABLE;case xt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case xt.NOT_FOUND:return K.NOT_FOUND;case xt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case xt.ABORTED:return K.ABORTED;case xt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case xt.DATA_LOSS:return K.DATA_LOSS;default:return me(39323,{code:t})}}(Ae=xt||(xt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Un([4294967295,4294967295],0);function Kb(t){const e=BD().encode(t),s=new x_;return s.update(e),new Uint8Array(s.digest())}function Qb(t){const e=new DataView(t.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Un([s,r],0),new Un([i,a],0)]}class Dx{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new qo(`Invalid padding: ${s}`);if(r<0)throw new qo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new qo(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Un.fromNumber(this.ge)}ye(e,s,r){let i=e.add(s.multiply(Un.fromNumber(r)));return i.compare($D)===1&&(i=new Un([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=Kb(e),[r,i]=Qb(s);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,s,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Dx(a,i,s);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const s=Kb(e),[r,i]=Qb(s);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,s,r,i,a){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const i=new Map;return i.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new kh(ye.min(),i,new nt(ke),tn(),Pe())}}class uc{constructor(e,s,r,i,a){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new uc(r,s,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,s,r,i){this.be=e,this.removedTargetIds=s,this.key=r,this.De=i}}class rT{constructor(e,s){this.targetId=e,this.Ce=s}}class nT{constructor(e,s,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=i}}class Yb{constructor(){this.ve=0,this.Fe=Xb(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),s=Pe(),r=Pe();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:s=s.add(i);break;case 1:r=r.add(i);break;default:me(38017,{changeType:a})}}),new uc(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=Xb()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zD{constructor(e){this.Ge=e,this.ze=new Map,this.je=tn(),this.Je=iu(),this.He=iu(),this.Ye=new nt(ke)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:me(56790,{state:e.state})}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach((r,i)=>{this.rt(i)&&s(i)})}st(e){const s=e.targetId,r=e.Ce.count,i=this.ot(s);if(i){const a=i.target;if(Np(a))if(r===0){const o=new he(a.path);this.et(s,o,Xt.newNoDocument(o,ye.min()))}else Oe(r===1,20013,{expectedCount:r});else{const o=this._t(s);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(s);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,d)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=s;let o,l;try{o=Gn(r).toUint8Array()}catch(c){if(c instanceof k_)return za("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Dx(o,i,a)}catch(c){return za(c instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(s,a,null),i++)}),i}Tt(e){const s=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&Np(l.target)){const c=new he(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Xt.newNoDocument(c,e))}a.Be&&(s.set(o,a.ke()),a.qe())}});let r=Pe();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new kh(e,s,this.Ye,this.je,r);return this.je=tn(),this.Je=iu(),this.He=iu(),this.Ye=new nt(ke),i}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,s)?i.Qe(s,1):i.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new Yb,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new St(ke),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new St(ke),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||ae("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yb),this.Ge.getRemoteKeysForTarget(e).forEach(s=>{this.et(e,s,null)})}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function iu(){return new nt(he.comparator)}function Xb(){return new nt(he.comparator)}const qD={asc:"ASCENDING",desc:"DESCENDING"},HD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WD={and:"AND",or:"OR"};class GD{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Tp(t,e){return t.useProto3Json||Nh(e)?e:{value:e}}function Id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KD(t,e){return Id(t,e.toTimestamp())}function vr(t){return Oe(!!t,49232),ye.fromTimestamp(function(s){const r=Wn(s);return new Ke(r.seconds,r.nanos)}(t))}function Mx(t,e){return Ep(t,e).canonicalString()}function Ep(t,e){const s=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?s:s.child(e)}function aT(t){const e=ze.fromString(t);return Oe(dT(e),10190,{key:e.toString()}),e}function Cp(t,e){return Mx(t.databaseId,e.path)}function zm(t,e){const s=aT(e);if(s.get(1)!==t.databaseId.projectId)throw new ne(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+t.databaseId.projectId);if(s.get(3)!==t.databaseId.database)throw new ne(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+t.databaseId.database);return new he(lT(s))}function oT(t,e){return Mx(t.databaseId,e)}function QD(t){const e=aT(t);return e.length===4?ze.emptyPath():lT(e)}function Sp(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lT(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Jb(t,e,s){return{name:Cp(t,e),fields:s.value.mapValue.fields}}function YD(t,e){let s;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:me(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,h){return d.useProto3Json?(Oe(h===void 0||typeof h=="string",58123),Bt.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Bt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?K.UNKNOWN:sT(d.code);return new ne(h,d.message||"")}(o);s=new nT(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zm(t,r.document.name),a=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):ye.min(),l=new ds({mapValue:{fields:r.document.fields}}),c=Xt.newFoundDocument(i,a,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];s=new Vu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zm(t,r.document),a=r.readTime?vr(r.readTime):ye.min(),o=Xt.newNoDocument(i,a),l=r.removedTargetIds||[];s=new Vu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zm(t,r.document),a=r.removedTargetIds||[];s=new Vu([],a,i,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new FD(i,a),l=r.targetId;s=new rT(l,o)}}return s}function XD(t,e){let s;if(e instanceof cc)s={update:Jb(t,e.key,e.value)};else if(e instanceof Ax)s={delete:Cp(t,e.key)};else if(e instanceof ai)s={update:Jb(t,e.key,e.data),updateMask:a5(e.fieldMask)};else{if(!(e instanceof OD))return me(16599,{Vt:e.type});s={verify:Cp(t,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const l=o.transform;if(l instanceof kd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Fl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Pd)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw me(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(s.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:KD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:me(27497)}(t,e.precondition)),s}function JD(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(s=>function(i,a){let o=i.updateTime?vr(i.updateTime):vr(a);return o.isEqual(ye.min())&&(o=vr(a)),new RD(o,i.transformResults||[])}(s,e))):[]}function ZD(t,e){return{documents:[oT(t,e.path)]}}function e5(t,e){const s={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=oT(t,i);const a=function(d){if(d.length!==0)return uT(rr.create(d,"and"))}(e.filters);a&&(s.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:na(m.field),direction:r5(m.dir)}}(h))}(e.orderBy);o&&(s.structuredQuery.orderBy=o);const l=Tp(t,e.limit);return l!==null&&(s.structuredQuery.limit=l),e.startAt&&(s.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(s.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:s,parent:i}}function t5(t){let e=QD(t.parent);const s=t.structuredQuery,r=s.from?s.from.length:0;let i=null;if(r>0){Oe(r===1,65062);const h=s.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];s.where&&(a=function(f){const m=cT(f);return m instanceof rr&&F_(m)?m.getFilters():[m]}(s.where));let o=[];s.orderBy&&(o=function(f){return f.map(m=>function(N){return new Sd(ia(N.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(m))}(s.orderBy));let l=null;s.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Nh(m)?null:m}(s.limit));let c=null;s.startAt&&(c=function(f){const m=!!f.before,y=f.values||[];return new Cd(y,m)}(s.startAt));let d=null;return s.endAt&&(d=function(f){const m=!f.before,y=f.values||[];return new Cd(y,m)}(s.endAt)),bD(e,i,o,a,l,"F",c,d)}function s5(t,e){const s=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:i})}}(e.purpose);return s==null?null:{"goog-listen-tags":s}}function cT(t){return t.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=ia(s.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ia(s.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ia(s.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ia(s.unaryFilter.field);return wt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}}(t):t.fieldFilter!==void 0?function(s){return wt.create(ia(s.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}}(s.fieldFilter.op),s.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(s){return rr.create(s.compositeFilter.filters.map(r=>cT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me(1026)}}(s.compositeFilter.op))}(t):me(30097,{filter:t})}function r5(t){return qD[t]}function n5(t){return HD[t]}function i5(t){return WD[t]}function na(t){return{fieldPath:t.canonicalString()}}function ia(t){return Lt.fromServerFormat(t.fieldPath)}function uT(t){return t instanceof wt?function(s){if(s.op==="=="){if(Fb(s.value))return{unaryFilter:{field:na(s.field),op:"IS_NAN"}};if(Lb(s.value))return{unaryFilter:{field:na(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Fb(s.value))return{unaryFilter:{field:na(s.field),op:"IS_NOT_NAN"}};if(Lb(s.value))return{unaryFilter:{field:na(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(s.field),op:n5(s.op),value:s.value}}}(t):t instanceof rr?function(s){const r=s.getFilters().map(i=>uT(i));return r.length===1?r[0]:{compositeFilter:{op:i5(s.op),filters:r}}}(t):me(54877,{filter:t})}function a5(t){const e=[];return t.fields.forEach(s=>e.push(s.canonicalString())),{fieldPaths:e}}function dT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,s,r,i,a=ye.min(),o=ye.min(),l=Bt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Sn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Sn(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.yt=e}}function l5(t){const e=t5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.Cn=new u5}addToCollectionParentIndex(e,s){return this.Cn.add(s),Y.resolve()}getCollectionParents(e,s){return Y.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return Y.resolve()}deleteFieldIndex(e,s){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,s){return Y.resolve()}getDocumentsMatchingTarget(e,s){return Y.resolve(null)}getIndexType(e,s){return Y.resolve(0)}getFieldIndexes(e,s){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,s){return Y.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,s){return Y.resolve(Hn.min())}updateCollectionGroup(e,s,r){return Y.resolve()}updateIndexEntries(e,s){return Y.resolve()}}class u5{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s]||new St(ze.comparator),a=!i.has(r);return this.index[s]=i.add(r),a}has(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class cs{static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(hT,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ga(0)}static cr(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="LruGarbageCollector",d5=1048576;function tw([t,e],[s,r]){const i=ke(t,s);return i===0?ke(e,r):i}class h5{constructor(e){this.Ir=e,this.buffer=new St(tw),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();tw(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class m5{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(ew,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){lo(s)?ae(ew,"Ignoring IndexedDB error during garbage collection: ",s):await oo(s)}await this.Vr(3e5)})}}class f5{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next(r=>Math.floor(s/100*r))}nthSequenceNumber(e,s){if(s===0)return Y.resolve(wh.ce);const r=new h5(s);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Zb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zb):this.yr(e,s))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,i,a,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,s))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),sa()<=Se.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function p5(t,e){return new f5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.changes=new Gi(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?Y.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,s,r,i){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,s))).next(i=>(r!==null&&ll(r.mutation,i,Es.empty(),Ke.now()),i))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,s,r=Pe()){const i=bi();return this.populateOverlays(e,i,s).next(()=>this.computeViews(e,s,i,r).next(a=>{let o=zo();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,s){const r=bi();return this.populateOverlays(e,r,s).next(()=>this.computeViews(e,s,r,Pe()))}populateOverlays(e,s,r){const i=[];return r.forEach(a=>{s.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{s.set(o,l)})})}computeViews(e,s,r,i){let a=tn();const o=ol(),l=function(){return ol()}();return s.forEach((c,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof ai)?a=a.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ll(h.mutation,d,h.mutation.getFieldMask(),Ke.now())):o.set(d.key,Es.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((d,h)=>o.set(d,h)),s.forEach((d,h)=>l.set(d,new x5(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,s){const r=ol();let i=new nt((o,l)=>o-l),a=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=s.get(c);if(d===null)return;let h=r.get(c)||Es.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(i.get(l.batchId)||Pe()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=K_();h.forEach(m=>{if(!a.has(m)){const y=eT(s.get(m),r.get(m));y!==null&&f.set(m,y),a=a.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,s,r,i){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):z_(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,i):this.getDocumentsMatchingCollectionQuery(e,s,r,i)}getNextDocuments(e,s,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,i-a.size):Y.resolve(bi());let l=Dl,c=a;return o.next(d=>Y.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(h)?Y.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,c,d,Pe())).next(h=>({batchId:l,changes:G_(h)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new he(s)).next(r=>{let i=zo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,s,r,i){const a=s.collectionGroup;let o=zo();return this.indexManager.getCollectionParents(e,a).next(l=>Y.forEach(l,c=>{const d=function(f,m){return new lc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(s,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,s,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,a,i))).next(o=>{a.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Xt.newInvalidDocument(h)))});let l=zo();return o.forEach((c,d)=>{const h=a.get(c);h!==void 0&&ll(h.mutation,d,Es.empty(),Ke.now()),Eh(s,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return Y.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,function(i){return{id:i.id,version:i.version,createTime:vr(i.createTime)}}(s)),Y.resolve()}getNamedQuery(e,s){return Y.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,function(i){return{name:i.name,query:l5(i.bundledQuery),readTime:vr(i.readTime)}}(s)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.overlays=new nt(he.comparator),this.qr=new Map}getOverlay(e,s){return Y.resolve(this.overlays.get(s))}getOverlays(e,s){const r=bi();return Y.forEach(s,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,s,r){return r.forEach((i,a)=>{this.St(e,s,a)}),Y.resolve()}removeOverlaysForBatchId(e,s,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,s,r){const i=bi(),a=s.length+1,o=new he(s.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!s.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,s,r,i){let a=new nt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===s&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=bi(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=bi(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=i)););return Y.resolve(l)}St(e,s,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LD(s,r));let a=this.qr.get(s);a===void 0&&(a=Pe(),this.qr.set(s,a)),this.qr.set(s,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.Qr=new St(Pt.$r),this.Ur=new St(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new Pt(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach(r=>this.addReference(r,s))}removeReference(e,s){this.Gr(new Pt(e,s))}zr(e,s){e.forEach(r=>this.removeReference(r,s))}jr(e){const s=new he(new ze([])),r=new Pt(s,e),i=new Pt(s,e+1),a=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new he(new ze([])),r=new Pt(s,e),i=new Pt(s,e+1);let a=Pe();return this.Ur.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const s=new Pt(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return he.comparator(e.key,s.key)||ke(e.Yr,s.Yr)}static Kr(e,s){return ke(e.Yr,s.Yr)||he.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new St(Pt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VD(a,s,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Pt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,s){return Y.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=this.ei(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Ex:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Pt(s,0),i=new Pt(s,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);a.push(l)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new St(ke);return s.forEach(i=>{const a=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{r=r.add(l.Yr)})}),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1;let a=r;he.isDocumentKey(a)||(a=a.child(""));const o=new Pt(new he(a),0);let l=new St(ke);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Yr)),!0)},o),Y.resolve(this.ti(l))}ti(e){const s=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&s.push(i)}),s}removeMutationBatch(e,s){Oe(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(s.mutations,i=>{const a=new Pt(i.key,s.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,s){const r=new Pt(s,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.ri=e,this.docs=function(){return new nt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return Y.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(s))}getEntries(e,s){let r=tn();return s.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xt.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,s,r,i){let a=tn();const o=s.path,l=new he(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||J6(X6(h),r)<=0||(i.has(h.key)||Eh(s,h))&&(a=a.insert(h.key,h.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,s,r,i){me(9500)}ii(e,s){return Y.forEach(this.docs,r=>s(r))}newChangeBuffer(e){return new _5(this)}getSize(e){return Y.resolve(this.size)}}class _5 extends g5{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?s.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Y.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.persistence=e,this.si=new Gi(s=>kx(s),Px),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new Ox,this.targetCount=0,this.ai=Ga.ur()}forEachTarget(e,s){return this.si.forEach((r,i)=>s(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),Y.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Ga(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,Y.resolve()}updateTargetData(e,s){return this.Pr(s),Y.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,s,r){let i=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=s&&r.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),Y.waitFor(a).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return Y.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),Y.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const i=this.persistence.referenceDelegate,a=[];return i&&s.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),Y.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return Y.resolve(r)}containsKey(e,s){return Y.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,s){this.ui={},this.overlays={},this.ci=new wh(0),this.li=!1,this.li=!0,this.hi=new w5,this.referenceDelegate=e(this),this.Pi=new T5(this),this.indexManager=new c5,this.remoteDocumentCache=function(i){return new j5(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new o5(s),this.Ii=new v5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new b5,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new N5(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){ae("MemoryPersistence","Starting transaction:",e);const i=new E5(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,s){return Y.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,s)))}}class E5 extends eD{constructor(e){super(),this.currentSequenceNumber=e}}class Vx{constructor(e){this.persistence=e,this.Ri=new Ox,this.Vi=null}static mi(e){return new Vx(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),Y.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,s))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,r=>{const i=he.fromPath(r);return this.gi(e,i).next(a=>{a||s.removeEntry(i,ye.min())})}).next(()=>(this.Vi=null,s.apply(e)))}updateLimboDocument(e,s){return this.gi(e,s).next(r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())})}Ti(e){return 0}gi(e,s){return Y.or([()=>Y.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class Ad{constructor(e,s){this.persistence=e,this.pi=new Gi(r=>rD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=p5(this,s)}static mi(e,s){return new Ad(e,s)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>s.next(i=>r+i))}wr(e){let s=0;return this.pr(e,r=>{s++}).next(()=>s)}pr(e,s){return Y.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?Y.resolve():s(i)))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,s).next(l=>{l||(r++,a.removeEntry(o,ye.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=Du(e.data.value)),s}br(e,s,r){return Y.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const i=this.pi.get(s);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,s,r,i){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=i}static As(e,s){let r=Pe(),i=Pe();for(const a of s.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Lx(e,s.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wA()?8:tD(es())>0?6:4}()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,i){const a={result:null};return this.ys(e,s).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,s,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new C5;return this.Ss(e,s,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,s,o,l.size)})}).next(()=>a.result)}bs(e,s,r,i){return r.documentReadCount<this.fs?(sa()<=Se.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",ra(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(sa()<=Se.DEBUG&&ae("QueryEngine","Query:",ra(s),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(sa()<=Se.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",ra(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(s))):Y.resolve())}ys(e,s){if(zb(s))return Y.resolve(null);let r=yr(s);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(s.limit!==null&&i===1&&(s=_p(s,null,"F"),r=yr(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Pe(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(s,l);return this.Cs(s,d,o,c.readTime)?this.ys(e,_p(s,null,"F")):this.vs(e,d,s,c)}))})))}ws(e,s,r,i){return zb(s)||i.isEqual(ye.min())?Y.resolve(null):this.ps.getDocuments(e,r).next(a=>{const o=this.Ds(s,a);return this.Cs(s,o,r,i)?Y.resolve(null):(sa()<=Se.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ra(s)),this.vs(e,o,s,Y6(i,Dl)).next(l=>l))})}Ds(e,s){let r=new St(H_(e));return s.forEach((i,a)=>{Eh(e,a)&&(r=r.add(a))}),r}Cs(e,s,r,i){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const a=e.limitType==="F"?s.last():s.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,s,r){return sa()<=Se.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",ra(s)),this.ps.getDocumentsMatchingQuery(e,s,Hn.min(),r)}vs(e,s,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(s.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="LocalStore",k5=3e8;class P5{constructor(e,s,r,i){this.persistence=e,this.Fs=s,this.serializer=i,this.Ms=new nt(ke),this.xs=new Gi(a=>kx(a),Px),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.Ms))}}function I5(t,e,s,r){return new P5(t,e,s,r)}async function fT(t,e){const s=ve(t);return await s.persistence.runTransaction("Handle user change","readonly",r=>{let i;return s.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,s.Bs(e),s.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],l=[];let c=Pe();for(const d of i){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return s.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function A5(t,e){const s=ve(t);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=s.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,m=f.keys();let y=Y.resolve();return m.forEach(N=>{y=y.next(()=>h.getEntry(c,N)).next(w=>{const T=d.docVersions.get(N);Oe(T!==null,48541),w.version.compareTo(T)<0&&(f.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(s,r,e,a).next(()=>a.apply(r)).next(()=>s.mutationQueue.performConsistencyCheck(r)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Pe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>s.localDocuments.getDocuments(r,i))})}function pT(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Pi.getLastRemoteSnapshotVersion(s))}function R5(t,e){const s=ve(t),r=e.snapshotVersion;let i=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=s.Ns.newChangeBuffer({trackRemovals:!0});i=s.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;l.push(s.Pi.removeMatchingKeys(a,h.removedDocuments,f).next(()=>s.Pi.addMatchingKeys(a,h.addedDocuments,f)));let y=m.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Bt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(f,y),function(w,T,v){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=k5?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,y,h)&&l.push(s.Pi.updateTargetData(a,y))});let c=tn(),d=Pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(s.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(D5(a,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(ye.min())){const h=s.Pi.getLastRemoteSnapshotVersion(a).next(f=>s.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(h)}return Y.waitFor(l).next(()=>o.apply(a)).next(()=>s.localDocuments.getLocalViewOfDocuments(a,c,d)).next(()=>c)}).then(a=>(s.Ms=i,a))}function D5(t,e,s){let r=Pe(),i=Pe();return s.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=tn();return s.forEach((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ae(Fx,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:i}})}function M5(t,e){const s=ve(t);return s.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ex),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O5(t,e){const s=ve(t);return s.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return s.Pi.getTargetData(r,e).next(a=>a?(i=a,Y.resolve(i)):s.Pi.allocateTargetId(r).next(o=>(i=new Sn(e,o,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=s.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r})}async function kp(t,e,s){const r=ve(t),i=r.Ms.get(e),a=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lo(o))throw o;ae(Fx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function sw(t,e,s){const r=ve(t);let i=ye.min(),a=Pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=ve(c),m=f.xs.get(h);return m!==void 0?Y.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,yr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,s?i:ye.min(),s?a:Pe())).next(l=>(V5(r,ND(e),l),{documents:l,Qs:a})))}function V5(t,e,s){let r=t.Os.get(e)||ye.min();s.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class rw{constructor(){this.activeTargetIds=SD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L5{constructor(){this.Mo=new rw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rw,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="ConnectivityMonitor";class iw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(nw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function Pp(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",U5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Td?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,s,r,i,a){const o=Pp(),l=this.zo(e,s.toUriEncodedString());ae(qm,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:d}=new URL(l),h=Hi(d);return this.Jo(e,l,c,r,h).then(f=>(ae(qm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw za(qm,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,s,r,i,a,o){return this.Go(e,s,r,i,a)}jo(e,s,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,s){const r=U5[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class z5 extends B5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,i,a){const o=Pp();return new Promise((l,c)=>{const d=new y_;d.setWithCredentials(!0),d.listenOnce(v_.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ru.NO_ERROR:const f=d.getResponseJson();ae(Gt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Ru.TIMEOUT:ae(Gt,`RPC '${e}' ${o} timed out`),c(new ne(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:const m=d.getStatus();if(ae(Gt,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const N=y==null?void 0:y.error;if(N&&N.status&&N.message){const w=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(x)>=0?x:K.UNKNOWN}(N.status);c(new ne(w,N.message))}else c(new ne(K.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ne(K.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ae(Gt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);ae(Gt,`RPC '${e}' ${o} sending request:`,i),d.send(s,"POST",h,r,15)})}T_(e,s,r){const i=Pp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=N_(),l=w_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,s,r),c.encodeInitMessageHeaders=!0;const h=a.join("");ae(Gt,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,y=!1;const N=new $5({Yo:T=>{y?ae(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(m||(ae(Gt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),ae(Gt,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},Zo:()=>f.close()}),w=(T,v,x)=>{T.listen(v,g=>{try{x(g)}catch(_){setTimeout(()=>{throw _},0)}})};return w(f,$o.EventType.OPEN,()=>{y||(ae(Gt,`RPC '${e}' stream ${i} transport opened.`),N.o_())}),w(f,$o.EventType.CLOSE,()=>{y||(y=!0,ae(Gt,`RPC '${e}' stream ${i} transport closed`),N.a_(),this.E_(f))}),w(f,$o.EventType.ERROR,T=>{y||(y=!0,za(Gt,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),N.a_(new ne(K.UNAVAILABLE,"The operation could not be completed")))}),w(f,$o.EventType.MESSAGE,T=>{var v;if(!y){const x=T.data[0];Oe(!!x,16349);const g=x,_=(g==null?void 0:g.error)||((v=g[0])==null?void 0:v.error);if(_){ae(Gt,`RPC '${e}' stream ${i} received error:`,_);const A=_.status;let M=function(k){const I=xt[k];if(I!==void 0)return sT(I)}(A),C=_.message;M===void 0&&(M=K.INTERNAL,C="Unknown error status: "+A+" with message "+_.message),y=!0,N.a_(new ne(M,C)),f.close()}else ae(Gt,`RPC '${e}' stream ${i} received:`,x),N.u_(x)}}),w(l,b_.STAT_EVENT,T=>{T.stat===xp.PROXY?ae(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===xp.NOPROXY&&ae(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(s=>s===e)}}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return new GD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,s,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,s-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="PersistentStream";class xT{constructor(e,s,r,i,a,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===K.RESOURCE_EXHAUSTED?(en(s.toString()),en("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===s&&this.G_(r,i)},r=>{e(()=>{const i=new ne(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ae(aw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget(()=>this.D_===e?s():(ae(aw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q5 extends xT{constructor(e,s,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,i,o),this.serializer=a}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=YD(this.serializer,e),r=function(a){if(!("targetChange"in a))return ye.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?vr(o.readTime):ye.min()}(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=Sp(this.serializer),s.addTarget=function(a,o){let l;const c=o.target;if(l=Np(c)?{documents:ZD(a,c)}:{query:e5(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=iT(a,o.resumeToken);const d=Tp(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ye.min())>0){l.readTime=Id(a,o.snapshotVersion.toTimestamp());const d=Tp(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=s5(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=Sp(this.serializer),s.removeTarget=e,this.q_(s)}}class H5 extends xT{constructor(e,s,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=JD(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=Sp(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map(r=>XD(this.serializer,r))};this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{}class G5 extends W5{constructor(e,s,r,i){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ne(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,Ep(s,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ne(K.UNKNOWN,a.toString())})}Ho(e,s,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Ep(s,r),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(K.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class K5{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(en(s),this.aa=!1):ae("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="RemoteStore";class Q5{constructor(e,s,r,i,a){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ki(this)&&(ae(Bi,"Restarting streams for network reachability change."),await async function(c){const d=ve(c);d.Ea.add(4),await dc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ih(d)}(this))})}),this.Ra=new K5(r,i)}}async function Ih(t){if(Ki(t))for(const e of t.da)await e(!0)}async function dc(t){for(const e of t.da)await e(!1)}function yT(t,e){const s=ve(t);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),zx(s)?$x(s):co(s).O_()&&Bx(s,e))}function Ux(t,e){const s=ve(t),r=co(s);s.Ia.delete(e),r.O_()&&vT(s,e),s.Ia.size===0&&(r.O_()?r.L_():Ki(s)&&s.Ra.set("Unknown"))}function Bx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const s=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}co(t).Y_(e)}function vT(t,e){t.Va.Ue(e),co(t).Z_(e)}function $x(t){t.Va=new zD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),co(t).start(),t.Ra.ua()}function zx(t){return Ki(t)&&!co(t).x_()&&t.Ia.size>0}function Ki(t){return ve(t).Ea.size===0}function bT(t){t.Va=void 0}async function Y5(t){t.Ra.set("Online")}async function X5(t){t.Ia.forEach((e,s)=>{Bx(t,e)})}async function J5(t,e){bT(t),zx(t)?(t.Ra.ha(e),$x(t)):t.Ra.set("Unknown")}async function Z5(t,e,s){if(t.Ra.set("Online"),e instanceof nT&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){ae(Bi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rd(t,r)}else if(e instanceof Vu?t.Va.Ze(e):e instanceof rT?t.Va.st(e):t.Va.tt(e),!s.isEqual(ye.min()))try{const r=await pT(t.localStore);s.compareTo(r)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(d);h&&a.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(Bt.EMPTY_BYTE_STRING,h.snapshotVersion)),vT(a,c);const f=new Sn(h.target,c,d,h.sequenceNumber);Bx(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,s)}catch(r){ae(Bi,"Failed to raise snapshot:",r),await Rd(t,r)}}async function Rd(t,e,s){if(!lo(e))throw e;t.Ea.add(1),await dc(t),t.Ra.set("Offline"),s||(s=()=>pT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae(Bi,"Retrying IndexedDB access"),await s(),t.Ea.delete(1),await Ih(t)})}function wT(t,e){return e().catch(s=>Rd(t,s,e))}async function Ah(t){const e=ve(t),s=Qn(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ex;for(;eM(e);)try{const i=await M5(e.localStore,r);if(i===null){e.Ta.length===0&&s.L_();break}r=i.batchId,tM(e,i)}catch(i){await Rd(e,i)}NT(e)&&jT(e)}function eM(t){return Ki(t)&&t.Ta.length<10}function tM(t,e){t.Ta.push(e);const s=Qn(t);s.O_()&&s.X_&&s.ea(e.mutations)}function NT(t){return Ki(t)&&!Qn(t).x_()&&t.Ta.length>0}function jT(t){Qn(t).start()}async function sM(t){Qn(t).ra()}async function rM(t){const e=Qn(t);for(const s of t.Ta)e.ea(s.mutations)}async function nM(t,e,s){const r=t.Ta.shift(),i=Rx.from(r,e,s);await wT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ah(t)}async function iM(t,e){e&&Qn(t).X_&&await async function(r,i){if(function(o){return UD(o)&&o!==K.ABORTED}(i.code)){const a=r.Ta.shift();Qn(r).B_(),await wT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ah(r)}}(t,e),NT(t)&&jT(t)}async function ow(t,e){const s=ve(t);s.asyncQueue.verifyOperationInProgress(),ae(Bi,"RemoteStore received new credentials");const r=Ki(s);s.Ea.add(3),await dc(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Ih(s)}async function aM(t,e){const s=ve(t);e?(s.Ea.delete(2),await Ih(s)):e||(s.Ea.add(2),await dc(s),s.Ra.set("Unknown"))}function co(t){return t.ma||(t.ma=function(s,r,i){const a=ve(s);return a.sa(),new q5(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Y5.bind(null,t),t_:X5.bind(null,t),r_:J5.bind(null,t),H_:Z5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),zx(t)?$x(t):t.Ra.set("Unknown")):(await t.ma.stop(),bT(t))})),t.ma}function Qn(t){return t.fa||(t.fa=function(s,r,i){const a=ve(s);return a.sa(),new H5(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:sM.bind(null,t),r_:iM.bind(null,t),ta:rM.bind(null,t),na:nM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ah(t)):(await t.fa.stop(),t.Ta.length>0&&(ae(Bi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,s,r,i,a){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,i,a){const o=Date.now()+r,l=new qx(e,s,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hx(t,e){if(en("AsyncQueue",`${e}: ${t}`),lo(t))return new ne(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{static emptySet(e){return new Ra(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||he.comparator(s.key,r.key):(s,r)=>he.comparator(s.key,r.key),this.keyedMap=zo(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,r)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.ga=new nt(he.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal((s,r)=>{e.push(r)}),e}}class Ka{constructor(e,s,r,i,a,o,l,c,d){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,s,r,i,a){const o=[];return s.forEach(l=>{o.push({type:0,doc:l})}),new Ka(e,s,Ra.emptySet(s),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==r[i].type||!s[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class lM{constructor(){this.queries=cw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const i=ve(s),a=i.queries;i.queries=cw(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ne(K.ABORTED,"Firestore shutting down"))}}function cw(){return new Gi(t=>q_(t),Th)}async function Wx(t,e){const s=ve(t);let r=3;const i=e.query;let a=s.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new oM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await s.onListen(i,!0);break;case 1:a.wa=await s.onListen(i,!1);break;case 2:await s.onFirstRemoteStoreListen(i)}}catch(o){const l=Hx(o,`Initialization of query '${ra(e.query)}' failed`);return void e.onError(l)}s.queries.set(i,a),a.Sa.push(e),e.va(s.onlineState),a.wa&&e.Fa(a.wa)&&Kx(s)}async function Gx(t,e){const s=ve(t),r=e.query;let i=3;const a=s.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function cM(t,e){const s=ve(t);let r=!1;for(const i of e){const a=i.query,o=s.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&Kx(s)}function uM(t,e,s){const r=ve(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(s);r.queries.delete(e)}function Kx(t){t.Ca.forEach(e=>{e.next()})}var Ip,uw;(uw=Ip||(Ip={})).Ma="default",uw.Cache="cache";class Qx{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class dM{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=H_(e),this.tu=new Ra(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new lw,i=s?s.tu:this.tu;let a=s?s.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),y=Eh(this.query,f)?f:null,N=!!m&&this.mutatedKeys.has(m.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;m&&y?m.data.isEqual(y.data)?N!==w&&(r.track({type:3,doc:y}),T=!0):this.su(m,y)||(r.track({type:2,doc:y}),T=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),T=!0):m&&!y&&(r.track({type:1,doc:m}),T=!0,(c||d)&&(l=!0)),T&&(y?(o=o.add(y),a=w?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:a}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,N){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:T})}};return w(y)-w(N)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const l=s&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Ka(this.query,e.tu,a,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(s=>this.Ya=this.Ya.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Ya=this.Ya.delete(s)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const s=[];return e.forEach(r=>{this.Xa.has(r)||s.push(new TT(r))}),this.Xa.forEach(r=>{e.has(r)||s.push(new _T(r))}),s}cu(e){this.Ya=e.Qs,this.Xa=Pe();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return Ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yx="SyncEngine";class hM{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class mM{constructor(e){this.key=e,this.hu=!1}}class fM{constructor(e,s,r,i,a,o){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Gi(l=>q_(l),Th),this.Iu=new Map,this.Eu=new Set,this.du=new nt(he.comparator),this.Au=new Map,this.Ru=new Ox,this.Vu={},this.mu=new Map,this.fu=Ga.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pM(t,e,s=!0){const r=IT(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await ET(r,e,s,!0),i}async function gM(t,e){const s=IT(t);await ET(s,e,!0,!1)}async function ET(t,e,s,r){const i=await O5(t.localStore,yr(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,s);let l;return r&&(l=await xM(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&s&&yT(t.remoteStore,i),l}async function xM(t,e,s,r,i){t.pu=(f,m,y)=>async function(w,T,v,x){let g=T.view.ru(v);g.Cs&&(g=await sw(w.localStore,T.query,!1).then(({documents:C})=>T.view.ru(C,g)));const _=x&&x.targetChanges.get(T.targetId),A=x&&x.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(g,w.isPrimaryClient,_,A);return hw(w,T.targetId,M.au),M.snapshot}(t,f,m,y);const a=await sw(t.localStore,e,!0),o=new dM(e,a.Qs),l=o.ru(a.documents),c=uc.createSynthesizedTargetChangeForCurrentChange(s,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);hw(t,s,d.au);const h=new hM(e,s,o);return t.Tu.set(e,h),t.Iu.has(s)?t.Iu.get(s).push(e):t.Iu.set(s,[e]),d.snapshot}async function yM(t,e,s){const r=ve(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!Th(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),s&&Ux(r.remoteStore,i.targetId),Ap(r,i.targetId)}).catch(oo)):(Ap(r,i.targetId),await kp(r.localStore,i.targetId,!0))}async function vM(t,e){const s=ve(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);s.isPrimaryClient&&i.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),Ux(s.remoteStore,r.targetId))}async function bM(t,e,s){const r=CM(t);try{const i=await function(o,l){const c=ve(o),d=Ke.now(),h=l.reduce((y,N)=>y.add(N.key),Pe());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let N=tn(),w=Pe();return c.Ns.getEntries(y,h).next(T=>{N=T,N.forEach((v,x)=>{x.isValidDocument()||(w=w.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,N)).next(T=>{f=T;const v=[];for(const x of l){const g=MD(x,f.get(x.key).overlayedDocument);g!=null&&v.push(new ai(x.key,g,O_(g.value.mapValue),Fs.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,v,l)}).next(T=>{m=T;const v=T.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(y,T.batchId,v)})}).then(()=>({batchId:m.batchId,changes:G_(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new nt(ke)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d}(r,i.batchId,s),await hc(r,i.changes),await Ah(r.remoteStore)}catch(i){const a=Hx(i,"Failed to persist write");s.reject(a)}}async function CT(t,e){const s=ve(t);try{const r=await R5(s.localStore,e);e.targetChanges.forEach((i,a)=>{const o=s.Au.get(a);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Oe(o.hu,14607):i.removedDocuments.size>0&&(Oe(o.hu,42227),o.hu=!1))}),await hc(s,r,e)}catch(r){await oo(r)}}function dw(t,e,s){const r=ve(t);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const i=[];r.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=ve(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(l)&&(d=!0)}),d&&Kx(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wM(t,e,s){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",s);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new nt(he.comparator);o=o.insert(a,Xt.newNoDocument(a,ye.min()));const l=Pe().add(a),c=new kh(ye.min(),new Map,new nt(ke),o,l);await CT(r,c),r.du=r.du.remove(a),r.Au.delete(e),Xx(r)}else await kp(r.localStore,e,!1).then(()=>Ap(r,e,s)).catch(oo)}async function NM(t,e){const s=ve(t),r=e.batch.batchId;try{const i=await A5(s.localStore,e);kT(s,r,null),ST(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await hc(s,i)}catch(i){await oo(i)}}async function jM(t,e,s){const r=ve(t);try{const i=await function(o,l){const c=ve(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(Oe(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);kT(r,e,s),ST(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await hc(r,i)}catch(i){await oo(i)}}function ST(t,e){(t.mu.get(e)||[]).forEach(s=>{s.resolve()}),t.mu.delete(e)}function kT(t,e,s){const r=ve(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(s?a.reject(s):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ap(t,e,s=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),s&&t.Pu.yu(r,s);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||PT(t,r)})}function PT(t,e){t.Eu.delete(e.path.canonicalString());const s=t.du.get(e);s!==null&&(Ux(t.remoteStore,s),t.du=t.du.remove(e),t.Au.delete(s),Xx(t))}function hw(t,e,s){for(const r of s)r instanceof _T?(t.Ru.addReference(r.key,e),_M(t,r)):r instanceof TT?(ae(Yx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||PT(t,r.key)):me(19791,{wu:r})}function _M(t,e){const s=e.key,r=s.path.canonicalString();t.du.get(s)||t.Eu.has(r)||(ae(Yx,"New document in limbo: "+s),t.Eu.add(r),Xx(t))}function Xx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const s=new he(ze.fromString(e)),r=t.fu.next();t.Au.set(r,new mM(s)),t.du=t.du.insert(s,r),yT(t.remoteStore,new Sn(yr(_h(s.path)),r,"TargetPurposeLimboResolution",wh.ce))}}async function hc(t,e,s){const r=ve(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,s).then(d=>{var h;if((d||s)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=s==null?void 0:s.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=Lx.As(c.targetId,d);a.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,d){const h=ve(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Y.forEach(d,m=>Y.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>Y.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!lo(f))throw f;ae(Fx,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),N=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(N);h.Ms=h.Ms.insert(m,w)}}}(r.localStore,a))}async function TM(t,e){const s=ve(t);if(!s.currentUser.isEqual(e)){ae(Yx,"User change. New user:",e.toKey());const r=await fT(s.localStore,e);s.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new ne(K.CANCELLED,o))})}),a.mu.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hc(s,r.Ls)}}function EM(t,e){const s=ve(t),r=s.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let i=Pe();const a=s.Iu.get(e);if(!a)return i;for(const o of a){const l=s.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function IT(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wM.bind(null,e),e.Pu.H_=cM.bind(null,e.eventManager),e.Pu.yu=uM.bind(null,e.eventManager),e}function CM(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jM.bind(null,e),e}class Dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return I5(this.persistence,new S5,e.initialUser,this.serializer)}Cu(e){return new mT(Vx.mi,this.serializer)}Du(e){return new L5}async terminate(){var e,s;(e=this.gcScheduler)==null||e.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dd.provider={build:()=>new Dd};class SM extends Dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Oe(this.persistence.referenceDelegate instanceof Ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new m5(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new mT(r=>Ad.mi(r,s),this.serializer)}}class Rp{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TM.bind(null,this.syncEngine),await aM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lM}()}createDatastore(e){const s=Ph(e.databaseInfo.databaseId),r=function(a){return new z5(a)}(e.databaseInfo);return function(a,o,l,c){return new G5(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return function(r,i,a,o,l){return new Q5(r,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,s=>dw(this.syncEngine,s,0),function(){return iw.v()?new iw:new F5}())}createSyncEngine(e,s){return function(i,a,o,l,c,d,h){const f=new fM(i,a,o,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await async function(i){const a=ve(i);ae(Bi,"RemoteStore shutting down."),a.Ea.add(5),await dc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(s=this.eventManager)==null||s.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):en("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout(()=>{this.muted||e(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="FirestoreClient";class kM{constructor(e,s,r,i,a){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=i,this.user=Kt.UNAUTHENTICATED,this.clientId=Tx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{ae(Yn,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ae(Yn,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=Hx(s,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wm(t,e){t.asyncQueue.verifyOperationInProgress(),ae(Yn,"Initializing OfflineComponentProvider");const s=t.configuration;await e.initialize(s);let r=s.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mw(t,e){t.asyncQueue.verifyOperationInProgress();const s=await PM(t);ae(Yn,"Initializing OnlineComponentProvider"),await e.initialize(s,t.configuration),t.setCredentialChangeListener(r=>ow(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ow(e.remoteStore,i)),t._onlineComponents=e}async function PM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae(Yn,"Using user provided OfflineComponentProvider");try{await Wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!function(i){return i.name==="FirebaseError"?i.code===K.FAILED_PRECONDITION||i.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(s))throw s;za("Error using user provided cache. Falling back to memory cache: "+s),await Wm(t,new Dd)}}else ae(Yn,"Using default OfflineComponentProvider"),await Wm(t,new SM(void 0));return t._offlineComponents}async function AT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae(Yn,"Using user provided OnlineComponentProvider"),await mw(t,t._uninitializedComponentsProvider._online)):(ae(Yn,"Using default OnlineComponentProvider"),await mw(t,new Rp))),t._onlineComponents}function IM(t){return AT(t).then(e=>e.syncEngine)}async function Md(t){const e=await AT(t),s=e.eventManager;return s.onListen=pM.bind(null,e.syncEngine),s.onUnlisten=yM.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=gM.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=vM.bind(null,e.syncEngine),s}function AM(t,e,s={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new Jx({next:m=>{h.Nu(),o.enqueueAndForget(()=>Gx(a,f));const y=m.docs.has(l);!y&&m.fromCache?d.reject(new ne(K.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?d.reject(new ne(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Qx(_h(l.path),h,{includeMetadataChanges:!0,qa:!0});return Wx(a,f)}(await Md(t),t.asyncQueue,e,s,r)),r.promise}function RM(t,e,s={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new Jx({next:m=>{h.Nu(),o.enqueueAndForget(()=>Gx(a,f)),m.fromCache&&c.source==="server"?d.reject(new ne(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Qx(l,h,{includeMetadataChanges:!0,qa:!0});return Wx(a,f)}(await Md(t),t.asyncQueue,e,s,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firestore.googleapis.com",pw=!0;class gw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ne(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=pw}else this.host=e.host,this.ssl=e.ssl??pw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d5)throw new ne(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ne(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ne(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ne(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,s,r,i){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new F6;switch(r.type){case"firstParty":return new z6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const r=fw.get(s);r&&(ae("ComponentProvider","Removing Datastore"),fw.delete(s),r.terminate())}(this),Promise.resolve()}}function DM(t,e,s,r={}){var d;t=vs(t,Rh);const i=Hi(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${s}`;i&&(ux(`https://${l}`),dx("Firestore",!0)),a.host!==DT&&a.host!==l&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!Vi(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Kt.MOCK_USER;else{h=R2(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ne(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Kt(m)}t._authCredentials=new U6(new __(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class dt{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(oc(s,dt._jsonSchema))return new dt(e,r||null,new he(ze.fromString(s.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Nt("string",dt._jsonSchemaVersion),referencePath:Nt("string")};class Bn extends Qi{constructor(e,s,r){super(e,s,_h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new he(e))}withConverter(e){return new Bn(this.firestore,e,this._path)}}function lt(t,e,...s){if(t=jt(t),T_("collection","path",e),t instanceof Rh){const r=ze.fromString(e,...s);return kb(r),new Bn(t,null,r)}{if(!(t instanceof dt||t instanceof Bn))throw new ne(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...s));return kb(r),new Bn(t.firestore,null,r)}}function Te(t,e,...s){if(t=jt(t),arguments.length===1&&(e=Tx.newId()),T_("doc","path",e),t instanceof Rh){const r=ze.fromString(e,...s);return Sb(r),new dt(t,null,new he(r))}{if(!(t instanceof dt||t instanceof Bn))throw new ne(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...s));return Sb(r),new dt(t.firestore,t instanceof Bn?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="AsyncQueue";class yw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const r=Hm();r&&ae(xw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=Hm();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=Hm();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const s=new qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lo(e))throw e;ae(xw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const s=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,en("INTERNAL UNHANDLED ERROR: ",vw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const i=qx.createAndSchedule(this,e,s,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&me(47125,{Pc:vw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((s,r)=>s.targetTimeMs-r.targetTimeMs);for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function vw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){return function(s,r){if(typeof s!="object"||s===null)return!1;const i=s;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class sn extends Rh{constructor(e,s,r,i){super(e,s,r,i),this.type="firestore",this._queue=new yw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yw(e),this._firestoreClient=void 0,await e}}}function MM(t,e){const s=typeof t=="object"?t:fx(),r=typeof t=="string"?t:Td,i=xh(s,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=P2("firestore");a&&DM(i,...a)}return i}function Dh(t){if(t._terminated)throw new ne(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||OM(t),t._firestoreClient}function OM(t){var r,i,a;const e=t._freezeSettings(),s=function(l,c,d,h){return new aD(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Os(Bt.fromBase64String(e))}catch(s){throw new ne(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Os(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oc(e,Os._jsonSchema))return Os.fromBase64String(e.bytes)}}Os._jsonSchemaVersion="firestore/bytes/1.0",Os._jsonSchema={type:Nt("string",Os._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new ne(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ne(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ne(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(oc(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:Nt("string",br._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map(s=>s)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oc(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(s=>typeof s=="number"))return new wr(e.vectorValues);throw new ne(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:Nt("string",wr._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=/^__.*__$/;class LM{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,s,this.fieldTransforms):new cc(e,this.data,s,this.fieldTransforms)}}class MT{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new ai(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function OT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:t})}}class e0{constructor(e,s,r,i,a,o){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new e0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Od(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(s=>e.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>e.isPrefixOf(s.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OT(this.Ac)&&VM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FM{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Ph(e)}Cc(e,s,r,i=!1){return new e0({Ac:e,methodName:s,Dc:r,path:Lt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(t){const e=t._freezeSettings(),s=Ph(t._databaseId);return new FM(t._databaseId,!!e.ignoreUndefinedProperties,s)}function VT(t,e,s,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,s,i);t0("Data must be an object, but it was:",o,r);const l=LT(r,o);let c,d;if(a.merge)c=new Es(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const f of a.mergeFields){const m=Dp(e,f,s);if(!o.contains(m))throw new ne(K.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);UT(h,m)||h.push(m)}c=new Es(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new LM(new ds(l),c,d)}class Vh extends Zx{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function UM(t,e,s,r){const i=t.Cc(1,e,s);t0("Data must be an object, but it was:",i,r);const a=[],o=ds.empty();ii(r,(c,d)=>{const h=s0(e,c,s);d=jt(d);const f=i.yc(h);if(d instanceof Vh)a.push(h);else{const m=mc(d,f);m!=null&&(a.push(h),o.set(h,m))}});const l=new Es(a);return new MT(o,l,i.fieldTransforms)}function BM(t,e,s,r,i,a){const o=t.Cc(1,e,s),l=[Dp(e,r,s)],c=[i];if(a.length%2!=0)throw new ne(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)l.push(Dp(e,a[m])),c.push(a[m+1]);const d=[],h=ds.empty();for(let m=l.length-1;m>=0;--m)if(!UT(d,l[m])){const y=l[m];let N=c[m];N=jt(N);const w=o.yc(y);if(N instanceof Vh)d.push(y);else{const T=mc(N,w);T!=null&&(d.push(y),h.set(y,T))}}const f=new Es(d);return new MT(h,f,o.fieldTransforms)}function $M(t,e,s,r=!1){return mc(s,t.Cc(r?4:3,e))}function mc(t,e){if(FT(t=jt(t)))return t0("Unsupported field value:",e,t),LT(t,e);if(t instanceof Zx)return function(r,i){if(!OT(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const l of r){let c=mc(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ke.fromDate(r);return{timestampValue:Id(i.serializer,a)}}if(r instanceof Ke){const a=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(i.serializer,a)}}if(r instanceof br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Os)return{bytesValue:iT(i.serializer,r._byteString)};if(r instanceof dt){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Mx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wr)return function(o,l){return{mapValue:{fields:{[D_]:{stringValue:M_},[Ed]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Ix(l.serializer,d)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${bh(r)}`)}(t,e)}function LT(t,e){const s={};return S_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(t,(r,i)=>{const a=mc(i,e.mc(r));a!=null&&(s[r]=a)}),{mapValue:{fields:s}}}function FT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof br||t instanceof Os||t instanceof dt||t instanceof Zx||t instanceof wr)}function t0(t,e,s){if(!FT(s)||!E_(s)){const r=bh(s);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Dp(t,e,s){if((e=jt(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return s0(t,e);throw Od("Field path arguments must be of type string or ",t,!1,void 0,s)}const zM=new RegExp("[~\\*/\\[\\]]");function s0(t,e,s){if(e.search(zM)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,s);try{return new Mh(...e.split("."))._internalPath}catch{throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,s)}}function Od(t,e,s,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;s&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ne(K.INVALID_ARGUMENT,l+t+c)}function UT(t,e){return t.some(s=>s.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,s,r,i,a){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(r0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class qM extends BT{data(){return super.data()}}function r0(t,e){return typeof e=="string"?s0(t,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n0{}class HM extends n0{}function ou(t,e,...s){let r=[];e instanceof n0&&r.push(e),r=r.concat(s),function(a){const o=a.filter(c=>c instanceof i0).length,l=a.filter(c=>c instanceof Lh).length;if(o>1||o>0&&l>0)throw new ne(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Lh extends HM{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new Lh(e,s,r)}_apply(e){const s=this._parse(e);return zT(e._query,s),new Qi(e.firestore,e.converter,jp(e._query,s))}_parse(e){const s=Oh(e.firestore);return function(a,o,l,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ne(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Nw(f,h);const N=[];for(const w of f)N.push(ww(c,a,w));m={arrayValue:{values:N}}}else m=ww(c,a,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Nw(f,h),m=$M(l,o,f,h==="in"||h==="not-in");return wt.create(d,h,m)}(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function lu(t,e,s){const r=e,i=r0("where",t);return Lh._create(i,r,s)}class i0 extends n0{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new i0(e,s)}_parse(e){const s=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return s.length===1?s[0]:rr.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:(function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)zT(o,c),o=jp(o,c)}(e._query,s),new Qi(e.firestore,e.converter,jp(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ww(t,e,s){if(typeof(s=jt(s))=="string"){if(s==="")throw new ne(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z_(e)&&s.indexOf("/")!==-1)throw new ne(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(ze.fromString(s));if(!he.isDocumentKey(r))throw new ne(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vb(t,new he(r))}if(s instanceof dt)return Vb(t,s._key);throw new ne(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(s)}.`)}function Nw(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zT(t,e){const s=function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(s!==null)throw s===e.op?new ne(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class WM{convertValue(e,s="none"){switch(Kn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Gn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return ii(e,(i,a)=>{r[i]=this.convertValue(a,s)}),r}convertVectorValue(e){var r,i,a;const s=(a=(i=(r=e.fields)==null?void 0:r[Ed].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>mt(o.doubleValue));return new wr(s)}convertGeoPoint(e){return new br(mt(e.latitude),mt(e.longitude))}convertArray(e,s){return(e.values||[]).map(r=>this.convertValue(r,s))}convertServerTimestamp(e,s){switch(s){case"previous":const r=jh(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const s=Wn(e);return new Ke(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=ze.fromString(e);Oe(dT(r),9688,{name:e});const i=new Ol(r.get(1),r.get(3)),a=new he(r.popFirst(5));return i.isEqual(s)||en(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t,e,s){let r;return r=t?t.toFirestore(e):e,r}class Ho{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ci extends BT{constructor(e,s,r,i,a,o){super(e,s,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(r0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Ci._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Ci._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ci._jsonSchema={type:Nt("string",Ci._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Lu extends Ci{data(e={}){return super.data(e)}}class Si{constructor(e,s,r,i){this._firestore=e,this._userDataWriter=s,this._snapshot=i,this.metadata=new Ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(s=>e.push(s)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach(r=>{e.call(s,new Lu(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ne(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Lu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ho(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Lu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ho(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:GM(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Si._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(s.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){t=vs(t,dt);const e=vs(t.firestore,sn);return AM(Dh(e),t._key).then(s=>HT(e,t,s))}Si._jsonSchemaVersion="firestore/querySnapshot/1.0",Si._jsonSchema={type:Nt("string",Si._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class a0 extends WM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Os(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,s)}}function Wo(t){t=vs(t,Qi);const e=vs(t.firestore,sn),s=Dh(e),r=new a0(e);return $T(t._query),RM(s,t._query).then(i=>new Si(e,r,t,i))}function Oo(t,e,s){t=vs(t,dt);const r=vs(t.firestore,sn),i=qT(t.converter,e);return Fh(r,[VT(Oh(r),"setDoc",t._key,i,t.converter!==null,s).toMutation(t._key,Fs.none())])}function _t(t,e,s,...r){t=vs(t,dt);const i=vs(t.firestore,sn),a=Oh(i);let o;return o=typeof(e=jt(e))=="string"||e instanceof Mh?BM(a,"updateDoc",t._key,e,s,r):UM(a,"updateDoc",t._key,e),Fh(i,[o.toMutation(t._key,Fs.exists(!0))])}function Dr(t){return Fh(vs(t.firestore,sn),[new Ax(t._key,Fs.none())])}function Mr(t,e){const s=vs(t.firestore,sn),r=Te(t),i=qT(t.converter,e);return Fh(s,[VT(Oh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Fs.exists(!1))]).then(()=>r)}function pn(t,...e){var c,d,h;t=jt(t);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||bw(e[r])||(s=e[r++]);const i={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(bw(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let a,o,l;if(t instanceof dt)o=vs(t.firestore,sn),l=_h(t._key.path),a={next:f=>{e[r]&&e[r](HT(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=vs(t,Qi);o=vs(f.firestore,sn),l=f._query;const m=new a0(o);a={next:y=>{e[r]&&e[r](new Si(o,m,f,y))},error:e[r+1],complete:e[r+2]},$T(t._query)}return function(m,y,N,w){const T=new Jx(w),v=new Qx(y,T,N);return m.asyncQueue.enqueueAndForget(async()=>Wx(await Md(m),v)),()=>{T.Nu(),m.asyncQueue.enqueueAndForget(async()=>Gx(await Md(m),v))}}(Dh(o),l,i,a)}function Fh(t,e){return function(r,i){const a=new qr;return r.asyncQueue.enqueueAndForget(async()=>bM(await IM(r),i,a)),a.promise}(Dh(t),e)}function HT(t,e,s){const r=s.docs.get(e._key),i=new a0(t);return new Ci(t,i,e._key,r,new Ho(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){(function(i){ao=i})(Wi),Li(new qn("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new sn(new B6(r.getProvider("auth-internal")),new q6(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ne(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(d.options.projectId,h)}(o,i),o);return a={useFetchStreams:s,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),pr(_b,Tb,e),pr(_b,Tb,"esm2020")})();var KM="firebase",QM="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(KM,QM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebasestorage.googleapis.com",YM="storageBucket",XM=2*60*1e3,JM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends kr{constructor(e,s,r=0){super(Gm(e),`Firebase Storage: ${s} (${Gm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Er;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Er||(Er={}));function Gm(t){return"storage/"+t}function ZM(){const t="An unknown error occurred, please check the error payload for server response.";return new Pr(Er.UNKNOWN,t)}function e9(){return new Pr(Er.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t9(){return new Pr(Er.CANCELED,"User canceled the upload/download.")}function s9(t){return new Pr(Er.INVALID_URL,"Invalid URL '"+t+"'.")}function r9(t){return new Pr(Er.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jw(t){return new Pr(Er.INVALID_ARGUMENT,t)}function GT(){return new Pr(Er.APP_DELETED,"The Firebase app was deleted.")}function n9(t){return new Pr(Er.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,s){this.bucket=e,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,s){let r;try{r=Js.makeFromUrl(e,s)}catch{return new Js(e,"")}if(r.path==="")return r;throw r9(e)}static makeFromUrl(e,s){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(_){_.path_=decodeURIComponent(_.path)}const h="v[A-Za-z0-9_]+",f=s.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${i}/o${m}`,"i"),N={bucket:1,path:3},w=s===WT?"(?:storage.googleapis.com|storage.cloud.google.com)":s,T="([^?#]*)",v=new RegExp(`^https?://${w}/${i}/${T}`,"i"),g=[{regex:l,indices:c,postModify:a},{regex:y,indices:N,postModify:d},{regex:v,indices:{bucket:1,path:2},postModify:d}];for(let _=0;_<g.length;_++){const A=g[_],M=A.regex.exec(e);if(M){const C=M[A.indices.bucket];let j=M[A.indices.path];j||(j=""),r=new Js(C,j),A.postModify(r);break}}if(r==null)throw s9(e);return r}}class i9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e,s){let r=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(...T){d||(d=!0,e.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,t(y,c())},T)}function m(){a&&clearTimeout(a)}function y(T,...v){if(d){m();return}if(T){m(),h.call(null,T,...v);return}if(c()||o){m(),h.call(null,T,...v);return}r<64&&(r*=2);let g;l===1?(l=2,g=0):g=(r+Math.random())*1e3,f(g)}let N=!1;function w(T){N||(N=!0,m(),!d&&(i!==null?(T||(l=2),clearTimeout(i),f(0)):T||(l=1)))}return f(0),a=setTimeout(()=>{o=!0,w(!0)},s),w}function o9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){return t!==void 0}function _w(t,e,s,r){if(r<e)throw jw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>s)throw jw(`Invalid value for '${t}'. Expected ${s} or less.`)}function c9(t){const e=encodeURIComponent;let s="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);s=s+i+"&"}return s=s.slice(0,-1),s}var Vd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vd||(Vd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e){const s=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return s||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,s,r,i,a,o,l,c,d,h,f,m=!0,y=!1){this.url_=e,this.method_=s,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,w)=>{this.resolve_=N,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new cu(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===Vd.NO_ERROR,c=a.getStatus();if(!l||u9(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Vd.ABORT;r(!1,new cu(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new cu(d,a))})},s=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());l9(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=ZM();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?GT():t9();o(c)}else{const c=e9();o(c)}};this.canceled_?s(!1,new cu(!1,null,!0)):this.backoffId_=a9(e,s,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&o9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cu{constructor(e,s,r){this.wasSuccessCode=e,this.connection=s,this.canceled=!!r}}function h9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function m9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function f9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function p9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function g9(t,e,s,r,i,a,o=!0,l=!1){const c=c9(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return f9(h,e),h9(h,s),m9(h,a),p9(h,r),new d9(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function y9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,s){this._service=e,s instanceof Js?this._location=s:this._location=Js.makeFromUrl(s,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,s){return new Ld(e,s)}get root(){const e=new Js(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return y9(this._location.path)}get storage(){return this._service}get parent(){const e=x9(this._location.path);if(e===null)return null;const s=new Js(this._location.bucket,e);return new Ld(this._service,s)}_throwIfRoot(e){if(this._location.path==="")throw n9(e)}}function Tw(t,e){const s=e==null?void 0:e[YM];return s==null?null:Js.makeFromBucketSpec(s,t)}function v9(t,e,s,r={}){t.host=`${e}:${s}`;const i=Hi(e);i&&(ux(`https://${t.host}/b`),dx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:R2(a,t.app.options.projectId))}class b9{constructor(e,s,r,i,a,o=!1){this.app=e,this._authProvider=s,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=WT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XM,this._maxUploadRetryTime=JM,this._requests=new Set,i!=null?this._bucket=Js.makeFromBucketSpec(i,this._host):this._bucket=Tw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Js.makeFromBucketSpec(this._url,e):this._bucket=Tw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_w("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_w("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const s=await e.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(Ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ld(this,e)}_makeRequest(e,s,r,i,a=!0){if(this._deleted)return new i9(GT());{const o=g9(e,this._appId,r,i,s,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,s){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,s,r,i).getPromise()}}const Ew="@firebase/storage",Cw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="storage";function w9(t=fx(),e){t=jt(t);const r=xh(t,KT).getImmediate({identifier:e}),i=P2("storage");return i&&N9(r,...i),r}function N9(t,e,s,r={}){v9(t,e,s,r)}function j9(t,{instanceIdentifier:e}){const s=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new b9(s,r,i,e,Wi)}function _9(){Li(new qn(KT,j9,"PUBLIC").setMultipleInstances(!0)),pr(Ew,Cw,""),pr(Ew,Cw,"esm2020")}_9();const T9={apiKey:"AIzaSyDSsPQ3Rzr3e7beF5CTZlM1BDEbG5Bef7o",authDomain:"tabloo-17e7f.firebaseapp.com",projectId:"tabloo-17e7f",storageBucket:"tabloo-17e7f.firebasestorage.app",messagingSenderId:"662845885349",appId:"1:662845885349:web:7b9595f55cd3bd0841b64c",measurementId:"G-DXSSMD7DS9"},o0=O2(T9),ur=V6(o0),de=MM(o0);w9(o0);jR(ur,l_).catch(t=>{console.error("Error setting auth persistence:",t)});const QT=E.createContext(void 0),$t=()=>{const t=E.useContext(QT);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},E9=({children:t})=>{const[e,s]=E.useState(null),[r,i]=E.useState(!0);E.useEffect(()=>{(async()=>{try{console.log("Initializing authentication...");const T=ER(ur,async v=>{if(v){console.log("Firebase user found:",v.uid);const x=await fn(Te(de,"users",v.uid));if(x.exists()){const g=x.data(),_={id:v.uid,name:g.name||v.displayName||"User",email:g.email||v.email||void 0,phone:g.phone,role:g.role||"public_user",restaurantId:g.restaurantId,walletBalance:g.walletBalance||0};s(_),localStorage.setItem("currentUser",JSON.stringify(_)),console.log("User set from Firebase Auth:",_)}}else{console.log("No Firebase user, checking localStorage...");const x=localStorage.getItem("currentUser");if(x)try{const g=JSON.parse(x);console.log("Found stored user:",g);const _=await fn(Te(de,"users",g.id));if(_.exists()){const A=_.data();if(g.role==="public_user"){A.walletBalance!==0&&(await _t(Te(de,"users",g.id),{walletBalance:0}),console.log("Updated wallet balance to 0 in Firestore for existing user"));const M={...g,walletBalance:0};localStorage.setItem("currentUser",JSON.stringify(M)),s(M),console.log("User restored from localStorage with 0 wallet balance:",M)}else s(g),console.log("User restored from localStorage:",g)}else console.log("User no longer exists in Firestore, clearing storage"),localStorage.removeItem("currentUser"),s(null)}catch(g){console.error("Error parsing stored user:",g),localStorage.removeItem("currentUser"),s(null)}else console.log("No stored user found"),s(null)}i(!1)});return()=>T()}catch(T){console.error("Auth initialization error:",T),i(!1)}})()},[]);const N={user:e,login:async(w,T)=>{i(!0);try{if(T==="admin")if(["9985121257","tablooofficial1@gmail.com"].includes(w.username)&&w.password==="admin123"){(await fn(Te(de,"users","admin_001"))).exists()||await Oo(Te(de,"users","admin_001"),{name:"Admin",email:"tablooofficial1@gmail.com",phone:"9985121257",role:"admin",createdAt:new Date});const _={id:"admin_001",name:"Admin",email:"tablooofficial1@gmail.com",phone:"9985121257",role:"admin"};return s(_),localStorage.setItem("currentUser",JSON.stringify(_)),console.log("Admin user logged in:",_),i(!1),!0}else return D.error("Invalid admin credentials. Only authorized users can access admin panel."),i(!1),!1;if(T==="restaurant_owner")try{if(!w.username||!w.password)return D.error("Username and password are required"),i(!1),!1;const v=await Wo(lt(de,"restaurants"));let x=null;if(v.forEach(g=>{const _=g.data();_.ownerCredentials&&_.ownerCredentials.username===w.username&&_.ownerCredentials.password===w.password&&(x={id:g.id,..._})}),x){const g=`owner_${x.id}`,_={name:`${x.name} Owner`,email:x.ownerCredentials.username,role:"restaurant_owner",restaurantId:x.id,canChangePassword:!0,createdAt:new Date};try{await Oo(Te(de,"users",g),_)}catch(M){console.log("User creation error (continuing anyway):",M)}const A={id:g,name:_.name,email:_.email,role:"restaurant_owner",restaurantId:x.id,canChangePassword:!0};return s(A),localStorage.setItem("currentUser",JSON.stringify(A)),console.log("Restaurant owner logged in:",A),i(!1),!0}else return D.error("Invalid restaurant owner credentials"),i(!1),!1}catch(v){return console.error("Restaurant owner login error:",v),D.error("Login failed. Please try again."),i(!1),!1}if(T==="public_user")try{if(!w.phone||!w.otp)return D.error("Phone number and OTP are required"),i(!1),!1;const v=`user_${w.phone.replace(/\D/g,"")}`;try{const x=await fn(Te(de,"users",v));if(x.exists()){const g=x.data();await _t(Te(de,"users",v),{walletBalance:0});const _={id:v,name:g.name,phone:g.phone,role:"public_user",walletBalance:0};s(_),localStorage.setItem("currentUser",JSON.stringify(_)),console.log("Public user logged in:",_)}else{const g={name:`User_${w.phone.slice(-4)}`,phone:w.phone,role:"public_user",walletBalance:0,createdAt:new Date};await Oo(Te(de,"users",v),g);const _={id:v,name:g.name,phone:g.phone,role:"public_user",walletBalance:g.walletBalance};s(_),localStorage.setItem("currentUser",JSON.stringify(_)),console.log("New public user created and logged in:",_)}return i(!1),!0}catch(x){return console.error("Error accessing user document:",x),D.error("Login failed. Please try again."),i(!1),!1}}catch(v){return console.error("Public user login error:",v),D.error("Login failed. Please try again."),i(!1),!1}if(T==="delivery_boy")try{if(!w.phone)return D.error("Phone number is required"),i(!1),!1;if(w.password&&!w.otp){if(!w.password)return D.error("Password is required"),i(!1),!1;const v=`delivery_${w.phone.replace(/\D/g,"")}`;try{const x=await fn(Te(de,"users",v));if(x.exists()){const g=x.data();if(g.password!==w.password)return D.error("Invalid password"),i(!1),!1;const _={id:v,name:g.name,phone:g.phone,role:"delivery_boy",isOnline:g.isOnline||!1,currentLocation:g.currentLocation,vehicleDetails:g.vehicleDetails,earnings:g.earnings||{total:0,thisMonth:0,thisWeek:0}};return s(_),localStorage.setItem("currentUser",JSON.stringify(_)),console.log("Delivery boy logged in with password:",_),i(!1),!0}else return D.error("Delivery partner not found. Please register first."),i(!1),!1}catch(x){return console.error("Error accessing delivery boy document:",x),D.error("Login failed. Please try again."),i(!1),!1}}else if(w.otp&&!w.password){if(!w.otp)return D.error("OTP is required"),i(!1),!1;if(localStorage.getItem(`delivery_login_otp_${w.phone}`)!==w.otp)return D.error("Invalid OTP. Please try again."),i(!1),!1;const x=`delivery_${w.phone.replace(/\D/g,"")}`;try{const g=await fn(Te(de,"users",x));if(g.exists()){const _=g.data(),A={id:x,name:_.name,phone:_.phone,role:"delivery_boy",isOnline:_.isOnline||!1,currentLocation:_.currentLocation,vehicleDetails:_.vehicleDetails,earnings:_.earnings||{total:0,thisMonth:0,thisWeek:0}};return s(A),localStorage.setItem("currentUser",JSON.stringify(A)),localStorage.removeItem(`delivery_login_otp_${w.phone}`),console.log("Delivery boy logged in with OTP:",A),i(!1),!0}else return D.error("Delivery partner not found. Please register first."),i(!1),!1}catch(g){return console.error("Error accessing delivery boy document:",g),D.error("Login failed. Please try again."),i(!1),!1}}else return D.error("Please provide either password or OTP for login"),i(!1),!1}catch(v){return console.error("Delivery boy login error:",v),D.error("Login failed. Please try again."),i(!1),!1}return i(!1),!1}catch(v){return console.error("Login error:",v),D.error("Login failed. Please try again."),i(!1),!1}},register:async w=>{i(!0);try{if(w.role==="delivery_boy"){if(!w.phone||!w.name||!w.password)return D.error("Name, phone number, and password are required"),i(!1),!1;const _=`delivery_${w.phone.replace(/\D/g,"")}`;if((await fn(Te(de,"users",_))).exists())return D.error("Delivery partner with this phone number already exists"),i(!1),!1;const M={id:_,name:w.name,email:w.email,phone:w.phone,password:w.password,role:"delivery_boy",vehicleDetails:w.vehicleDetails,address:w.address,idProof:w.idProof,emergencyContact:w.emergencyContact,profilePhoto:w.profilePhoto,panCardPhoto:w.panCardPhoto,aadhaarCardPhoto:w.aadhaarCardPhoto,bankDetails:w.bankDetails,isOnline:!1,earnings:w.earnings||{total:0,thisMonth:0,thisWeek:0},createdAt:new Date};try{return await Oo(Te(de,"users",_),M),D.success("Delivery partner registration successful! You can now login."),i(!1),!0}catch(C){return console.error("Error creating delivery boy:",C),D.error("Registration failed. Please try again."),i(!1),!1}}if(!w.phone||!w.name||!w.otp)return D.error("Name, phone number, and OTP are required"),i(!1),!1;const T=`user_${w.phone.replace(/\D/g,"")}`;if((await fn(Te(de,"users",T))).exists())return D.error("User with this phone number already exists"),i(!1),!1;const x={name:w.name,phone:w.phone,role:"public_user",walletBalance:0,createdAt:new Date};await Oo(Te(de,"users",T),x);const g={id:T,name:x.name,phone:x.phone,role:"public_user",walletBalance:x.walletBalance};return s(g),localStorage.setItem("currentUser",JSON.stringify(g)),console.log("New user registered:",g),i(!1),!0}catch(T){return console.error("Registration error:",T),D.error("Registration failed. Please try again."),i(!1),!1}},logout:async()=>{try{console.log("Logging out user:",e),ur.currentUser&&await CR(ur),localStorage.removeItem("currentUser"),localStorage.removeItem("restaurantOwnerSession"),s(null),console.log("User logged out successfully")}catch(w){console.error("Logout error:",w)}},loading:r,updateUser:async w=>{if(!e)return D.error("No user logged in"),!1;try{await _t(Te(de,"users",e.id),w);const T={...e,...w};return s(T),localStorage.setItem("currentUser",JSON.stringify(T)),D.success("Profile updated successfully!"),!0}catch(T){return console.error("Error updating user profile:",T),D.error("Failed to update profile. Please try again."),!1}},updateWalletBalance:async w=>{if(e)try{await _t(Te(de,"users",e.id),{walletBalance:w});const T={...e,walletBalance:w};s(T),localStorage.setItem("currentUser",JSON.stringify(T))}catch(T){console.error("Error updating wallet balance:",T),D.error("Failed to update wallet balance")}},resetWalletBalanceToZero:async()=>{if(e&&e.role==="public_user")try{await _t(Te(de,"users",e.id),{walletBalance:0});const w={...e,walletBalance:0};return s(w),localStorage.setItem("currentUser",JSON.stringify(w)),console.log("Wallet balance reset to 0 for user:",e.id),!0}catch(w){return console.error("Error resetting wallet balance:",w),D.error("Failed to reset wallet balance"),!1}return!1},changeRestaurantOwnerPassword:async w=>{if(!e||e.role!=="restaurant_owner"||!e.restaurantId)return D.error("Only restaurant owners can change passwords"),!1;try{const T=Te(de,"restaurants",e.restaurantId);return await _t(T,{"ownerCredentials.password":w}),D.success("Password changed successfully!"),!0}catch(T){return console.error("Error changing password:",T),D.error("Failed to change password. Please try again."),!1}},sendDeliveryLoginOTP:async w=>{try{return console.log(`Sending login OTP to phone: ${w}`),localStorage.setItem(`delivery_login_otp_${w}`,"123456"),D.success("OTP sent to your registered mobile number"),!0}catch(T){return console.error("Error sending delivery login OTP:",T),D.error("Failed to send OTP. Please try again."),!1}},isDefaultUsername:w=>/^User_\d{4}$/.test(w)};return n.jsx(QT.Provider,{value:N,children:t})},YT=E.createContext(void 0),ir=()=>{const t=E.useContext(YT);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t},C9=({children:t})=>{const[e,s]=E.useState([]),[r,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState([]),[d,h]=E.useState([]),[f,m]=E.useState([]),[y,N]=E.useState([]),[w,T]=E.useState([]),[v,x]=E.useState(!0);E.useEffect(()=>{const re=pn(lt(de,"restaurants"),_e=>{const it=_e.docs.map(be=>({id:be.id,...be.data()}));s(it)},_e=>{console.error("Error fetching restaurants:",_e),D.error("Failed to load restaurants")}),Q=pn(lt(de,"menuItems"),_e=>{const it=_e.docs.map(be=>({id:be.id,...be.data()}));i(it)},_e=>{console.error("Error fetching menu items:",_e),D.error("Failed to load menu items")}),B=pn(lt(de,"orders"),_e=>{const it=_e.docs.map(be=>{var He;return{id:be.id,...be.data(),createdAt:((He=be.data().createdAt)==null?void 0:He.toDate())||new Date}});o(it)},_e=>{console.error("Error fetching orders:",_e),D.error("Failed to load orders")}),J=pn(lt(de,"bookings"),_e=>{const it=_e.docs.map(be=>{var He;return{id:be.id,...be.data(),createdAt:((He=be.data().createdAt)==null?void 0:He.toDate())||new Date}});c(it)},_e=>{console.error("Error fetching bookings:",_e),D.error("Failed to load bookings")}),ge=pn(lt(de,"eventRequirements"),_e=>{const it=_e.docs.map(be=>{var He,P;return{id:be.id,...be.data(),createdAt:((He=be.data().createdAt)==null?void 0:He.toDate())||new Date,updatedAt:((P=be.data().updatedAt)==null?void 0:P.toDate())||new Date}});h(it)},_e=>{console.error("Error fetching event requirements:",_e),D.error("Failed to load event requirements")}),we=pn(lt(de,"eventManagers"),_e=>{const it=_e.docs.map(be=>{var He,P;return{id:be.id,...be.data(),createdAt:((He=be.data().createdAt)==null?void 0:He.toDate())||new Date,updatedAt:((P=be.data().updatedAt)==null?void 0:P.toDate())||new Date}});m(it)},_e=>{console.error("Error fetching event managers:",_e),D.error("Failed to load event managers")}),gt=pn(lt(de,"eventBookings"),_e=>{const it=_e.docs.map(be=>{var He,P;return{id:be.id,...be.data(),createdAt:((He=be.data().createdAt)==null?void 0:He.toDate())||new Date,updatedAt:((P=be.data().updatedAt)==null?void 0:P.toDate())||new Date}});N(it)},_e=>{console.error("Error fetching event bookings:",_e),D.error("Failed to load event bookings")}),ln=pn(lt(de,"eventChats"),_e=>{const it=_e.docs.map(be=>{var He,P;return{id:be.id,...be.data(),createdAt:((He=be.data().createdAt)==null?void 0:He.toDate())||new Date,updatedAt:((P=be.data().updatedAt)==null?void 0:P.toDate())||new Date}});T(it)},_e=>{console.error("Error fetching event chats:",_e),D.error("Failed to load event chats")});return x(!1),()=>{re(),Q(),B(),J(),ge(),we(),gt(),ln()}},[]);const ar={restaurants:e,menuItems:r,orders:a,bookings:l,eventRequirements:d,eventManagers:f,eventBookings:y,eventChats:w,loading:v,addRestaurant:async re=>{try{const Q=await Mr(lt(de,"restaurants"),{...re,createdAt:new Date});console.log("Restaurant added with ID:",Q.id),D.success("Restaurant added successfully!")}catch(Q){throw console.error("Error adding restaurant:",Q),D.error("Failed to add restaurant"),Q}},addMenuItem:async re=>{try{const Q=await Mr(lt(de,"menuItems"),{...re,createdAt:new Date});console.log("Menu item added with ID:",Q.id),D.success("Menu item added successfully!")}catch(Q){throw console.error("Error adding menu item:",Q),D.error("Failed to add menu item"),Q}},addOrder:async re=>{try{const Q=await Mr(lt(de,"orders"),re);console.log("Order added with ID:",Q.id),D.success("Order placed successfully!")}catch(Q){throw console.error("Error adding order:",Q),D.error("Failed to place order"),Q}},addBooking:async re=>{try{const Q=await Mr(lt(de,"bookings"),re);console.log("Booking added with ID:",Q.id),D.success("Booking created successfully!")}catch(Q){throw console.error("Error adding booking:",Q),D.error("Failed to create booking"),Q}},updateOrderStatus:async(re,Q)=>{var B;try{console.log("Updating order status:",{orderId:re,status:Q,userId:(B=ur.currentUser)==null?void 0:B.uid}),await _t(Te(de,"orders",re),{status:Q,statusUpdatedAt:new Date}),D.success("Order status updated successfully!")}catch(J){throw console.error("Error updating order status:",J),D.error("Failed to update order status"),J}},updateBookingStatus:async(re,Q)=>{var B;try{console.log("Updating booking status:",{bookingId:re,status:Q,userId:(B=ur.currentUser)==null?void 0:B.uid}),await _t(Te(de,"bookings",re),{status:Q,statusUpdatedAt:new Date}),D.success("Booking status updated successfully!")}catch(J){throw console.error("Error updating booking status:",J),D.error("Failed to update booking status"),J}},updateRestaurant:async re=>{var Q;try{console.log("Updating restaurant:",{restaurantId:re.id,userId:(Q=ur.currentUser)==null?void 0:Q.uid});const{id:B,...J}=re;await _t(Te(de,"restaurants",B),J),D.success("Restaurant updated successfully!")}catch(B){throw console.error("Error updating restaurant:",B),D.error("Failed to update restaurant"),B}},updateMenuItem:async re=>{var Q;try{console.log("Updating menu item:",{menuItemId:re.id,userId:(Q=ur.currentUser)==null?void 0:Q.uid});const{id:B,...J}=re;await _t(Te(de,"menuItems",B),J),D.success("Menu item updated successfully!")}catch(B){throw console.error("Error updating menu item:",B),D.error("Failed to update menu item"),B}},updateRestaurantStatus:async(re,Q)=>{var B;try{console.log("Updating restaurant status:",{restaurantId:re,isOpen:Q,userId:(B=ur.currentUser)==null?void 0:B.uid}),await _t(Te(de,"restaurants",re),{isOpen:Q}),D.success(`Restaurant ${Q?"opened":"closed"}!`)}catch(J){throw console.error("Error updating restaurant status:",J),D.error(`Failed to update restaurant status: ${J instanceof Error?J.message:"Unknown error"}`),J}},updateMenuItemAvailability:async(re,Q)=>{var B;try{console.log("Updating menu item availability:",{itemId:re,available:Q,userId:(B=ur.currentUser)==null?void 0:B.uid}),await _t(Te(de,"menuItems",re),{available:Q}),D.success(`Menu item ${Q?"made available":"made unavailable"}!`)}catch(J){throw console.error("Error updating menu item availability:",J),D.error(`Failed to update menu item availability: ${J instanceof Error?J.message:"Unknown error"}`),J}},deleteRestaurant:async re=>{try{await Dr(Te(de,"restaurants",re));const Q=ou(lt(de,"menuItems"),lu("restaurantId","==",re)),J=(await Wo(Q)).docs.map(be=>Dr(be.ref));await Promise.all(J);const ge=ou(lt(de,"orders"),lu("restaurantId","==",re)),gt=(await Wo(ge)).docs.map(be=>Dr(be.ref));await Promise.all(gt);const ln=ou(lt(de,"bookings"),lu("restaurantId","==",re)),it=(await Wo(ln)).docs.map(be=>Dr(be.ref));await Promise.all(it),D.success("Restaurant and all associated data deleted successfully!")}catch(Q){throw console.error("Error deleting restaurant:",Q),D.error("Failed to delete restaurant"),Q}},deleteMenuItem:async re=>{try{await Dr(Te(de,"menuItems",re)),D.success("Menu item deleted successfully!")}catch(Q){throw console.error("Error deleting menu item:",Q),D.error("Failed to delete menu item"),Q}},submitRestaurantRegistration:async re=>{try{const Q={...re,status:"pending",createdAt:new Date};await Mr(lt(de,"restaurantRegistrationRequests"),Q),D.success("Restaurant registration request submitted successfully! Please check your email for admin response within 24-48 hours.")}catch(Q){throw console.error("Error submitting restaurant registration:",Q),D.error("Failed to submit registration request"),Q}},addEventRequirement:async re=>{try{const Q=new Date,B=await Mr(lt(de,"eventRequirements"),{...re,createdAt:Q,updatedAt:Q});console.log("Event requirement added with ID:",B.id),D.success("Event requirement posted successfully!")}catch(Q){throw console.error("Error adding event requirement:",Q),D.error("Failed to post event requirement"),Q}},addEventManager:async re=>{try{const Q=new Date,B=await Mr(lt(de,"eventManagers"),{...re,createdAt:Q,updatedAt:Q});console.log("Event manager added with ID:",B.id),D.success("Event manager profile created successfully!")}catch(Q){throw console.error("Error adding event manager:",Q),D.error("Failed to create event manager profile"),Q}},addEventBooking:async re=>{try{const Q=new Date,B=await Mr(lt(de,"eventBookings"),{...re,createdAt:Q,updatedAt:Q});console.log("Event booking added with ID:",B.id),D.success("Event booking created successfully!")}catch(Q){throw console.error("Error adding event booking:",Q),D.error("Failed to create event booking"),Q}},addEventChat:async re=>{try{const Q=new Date,B=await Mr(lt(de,"eventChats"),{...re,createdAt:Q,updatedAt:Q});console.log("Event chat added with ID:",B.id)}catch(Q){throw console.error("Error adding event chat:",Q),D.error("Failed to create chat"),Q}},updateEventRequirement:async(re,Q)=>{try{await _t(Te(de,"eventRequirements",re),{...Q,updatedAt:new Date}),D.success("Event requirement updated successfully!")}catch(B){throw console.error("Error updating event requirement:",B),D.error("Failed to update event requirement"),B}},updateEventManager:async(re,Q)=>{try{await _t(Te(de,"eventManagers",re),{...Q,updatedAt:new Date}),D.success("Event manager profile updated successfully!")}catch(B){throw console.error("Error updating event manager:",B),D.error("Failed to update event manager profile"),B}},updateEventBooking:async(re,Q)=>{try{await _t(Te(de,"eventBookings",re),{...Q,updatedAt:new Date}),D.success("Event booking updated successfully!")}catch(B){throw console.error("Error updating event booking:",B),D.error("Failed to update event booking"),B}},updateEventChat:async(re,Q)=>{try{await _t(Te(de,"eventChats",re),{...Q,updatedAt:new Date})}catch(B){throw console.error("Error updating event chat:",B),D.error("Failed to update chat"),B}},deleteEventRequirement:async re=>{try{await Dr(Te(de,"eventRequirements",re)),D.success("Event requirement deleted successfully!")}catch(Q){throw console.error("Error deleting event requirement:",Q),D.error("Failed to delete event requirement"),Q}},deleteEventManager:async re=>{try{await Dr(Te(de,"eventManagers",re)),D.success("Event manager profile deleted successfully!")}catch(Q){throw console.error("Error deleting event manager:",Q),D.error("Failed to delete event manager profile"),Q}},deleteEventBooking:async re=>{try{await Dr(Te(de,"eventBookings",re)),D.success("Event booking deleted successfully!")}catch(Q){throw console.error("Error deleting event booking:",Q),D.error("Failed to delete event booking"),Q}},deleteEventChat:async re=>{try{await Dr(Te(de,"eventChats",re))}catch(Q){throw console.error("Error deleting event chat:",Q),D.error("Failed to delete chat"),Q}},approveEventManager:async re=>{try{await _t(Te(de,"eventManagers",re),{status:"approved",updatedAt:new Date}),D.success("Event manager approved successfully!")}catch(Q){throw console.error("Error approving event manager:",Q),D.error("Failed to approve event manager"),Q}},rejectEventManager:async(re,Q)=>{try{await _t(Te(de,"eventManagers",re),{status:"rejected",adminResponse:Q,updatedAt:new Date}),D.success("Event manager rejected successfully!")}catch(B){throw console.error("Error rejecting event manager:",B),D.error("Failed to reject event manager"),B}},sendMessage:async(re,Q)=>{try{const B={...Q,id:Math.random().toString(36).substr(2,9),timestamp:new Date,read:!1},J=Te(de,"eventChats",re),ge=await Wo(ou(lt(de,"eventChats"),lu("id","==",re)));if(!ge.empty){const gt=[...ge.docs[0].data().messages,B];await _t(J,{messages:gt,lastMessage:{message:B.message,timestamp:B.timestamp,senderId:B.senderId},updatedAt:new Date})}}catch(B){throw console.error("Error sending message:",B),D.error("Failed to send message"),B}}};return n.jsx(YT.Provider,{value:ar,children:t})},XT=E.createContext(void 0),S9=({children:t})=>{const{user:e}=$t(),[s,r]=E.useState([]);E.useEffect(()=>{if(e){const m=localStorage.getItem(`cart_${e.id}`);if(m)try{r(JSON.parse(m))}catch(y){console.error("Error loading cart from localStorage:",y),localStorage.removeItem(`cart_${e.id}`)}}},[e]),E.useEffect(()=>{e&&localStorage.setItem(`cart_${e.id}`,JSON.stringify(s))},[s,e]);const i=m=>{r(y=>y.find(w=>w.id===m.id)?y.map(w=>w.id===m.id?{...w,quantity:w.quantity+1}:w):[...y,{...m,quantity:1}])},a=m=>{r(y=>y.filter(N=>N.id!==m))},f={items:s,addToCart:i,removeFromCart:a,updateQuantity:(m,y)=>{if(y<=0){a(m);return}r(N=>N.map(w=>w.id===m?{...w,quantity:y}:w))},clearCart:()=>{r([])},getTotalItems:()=>s.reduce((m,y)=>m+y.quantity,0),getTotalPrice:()=>s.reduce((m,y)=>m+y.price*y.quantity,0),getItemsByRestaurant:()=>{const m={};return s.forEach(y=>{m[y.restaurantId]||(m[y.restaurantId]=[]),m[y.restaurantId].push(y)}),m}};return n.jsx(XT.Provider,{value:f,children:t})},fc=()=>{const t=E.useContext(XT);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const s=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>E.createElement("svg",{ref:h,...k9,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${P9(t)}`,l].join(" "),...d},[...e.map(([f,m])=>E.createElement(f,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=ce("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ce("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=ce("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=ce("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=ce("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=ce("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=ce("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=ce("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=ce("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=ce("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=ce("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ce("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=ce("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ce("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=ce("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=ce("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vt=t=>{const e=t.replace(/\D/g,"");return e.length===10&&/^[6-9]/.test(e)},Ya=t=>t.replace(/\D/g,"").slice(0,10),$d=t=>t.replace(/\D/g,"").length===16,cE=t=>t.replace(/\D/g,"").slice(0,16).replace(/(.{4})/g,"$1 ").trim(),zd=t=>t.replace(/\D/g,"").length===3,uE=t=>t.replace(/\D/g,"").slice(0,3),qd=t=>{if(!/^(0[1-9]|1[0-2])\/\d{2}$/.test(t))return!1;const[s,r]=t.split("/"),i=new Date,a=i.getFullYear()%100,o=i.getMonth()+1,l=parseInt(r),c=parseInt(s);return!(l<a||l===a&&c<o)},dE=t=>{const e=t.replace(/\D/g,"");if(e.length>=2){const s=e.slice(0,2),r=e.slice(2,4);return r?`${s}/${r}`:s}return e},hE=({role:t,onSwitchToRegister:e,onLoginSuccess:s})=>{const{login:r}=$t(),[i,a]=E.useState({username:"",phone:"",otp:"",password:""}),[o,l]=E.useState(!1),[c,d]=E.useState(0),[h,f]=E.useState(!1);eN.useEffect(()=>{let T;return c>0&&(T=setInterval(()=>{d(v=>v-1)},1e3)),()=>clearInterval(T)},[c]);const m=()=>Math.floor(1e5+Math.random()*9e5).toString(),y=async()=>{if(!i.phone.trim()){D.error("Please enter your phone number first");return}if(!vt(i.phone)){D.error("Please enter a valid 10-digit Indian phone number");return}f(!0);try{const T=m();localStorage.setItem(`otp_${i.phone}`,T),d(60),l(!0),D.success(`OTP sent to ${i.phone}: ${T}`),console.log(`OTP for ${i.phone}: ${T}`)}catch{D.error("Failed to send OTP. Please try again.")}finally{f(!1)}},N=async T=>{if(T.preventDefault(),t==="public_user"){if(!i.phone.trim()||!i.otp.trim()){D.error("Phone number and OTP are required");return}if(!vt(i.phone)){D.error("Please enter a valid 10-digit Indian phone number");return}if(i.otp.length!==6){D.error("Please enter a valid 6-digit OTP");return}const x=localStorage.getItem(`otp_${i.phone}`);if(!x||x!==i.otp){D.error("Invalid OTP. Please try again.");return}localStorage.removeItem(`otp_${i.phone}`)}else if(t==="restaurant_owner"){if(!i.username.trim()||!i.password.trim()){D.error("Username and password are required");return}}else if(t==="admin"&&(!i.username.trim()||!i.password.trim())){D.error("Username and password are required");return}await r(i,t)?(D.success("Login successful!"),s&&s()):D.error("Invalid credentials. Please try again.")},w=()=>{switch(t){case"admin":return"Admin Login";case"restaurant_owner":return"Restaurant Owner Login";case"public_user":return"User Login";default:return"Login"}};return n.jsxs("div",{className:"bg-white p-8 rounded-2xl w-full",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:w()}),n.jsx("p",{className:"text-gray-600 mt-2",children:t==="restaurant_owner"?"Enter your username and password to continue":"Enter your phone number and OTP to continue"})]}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[t==="public_user"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",required:!0,value:i.phone,onChange:T=>{const v=Ya(T.target.value);a(x=>({...x,phone:v}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,disabled:o}),i.phone&&!vt(i.phone)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}),o?n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OTP"}),n.jsx("input",{type:"text",required:!0,value:i.otp,onChange:T=>a(v=>({...v,otp:T.target.value.replace(/\D/g,"").slice(0,6)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-center text-lg tracking-widest",placeholder:"Enter 6-digit OTP",maxLength:6}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-sm text-gray-500",children:c>0?n.jsxs("span",{className:"flex items-center text-orange-600",children:[n.jsx(Qt,{className:"h-4 w-4 mr-1"}),"Resend in ",c,"s"]}):n.jsx("button",{type:"button",onClick:y,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Resend OTP"})}),n.jsx("button",{type:"button",onClick:()=>{l(!1),a(T=>({...T,otp:""})),d(0)},className:"text-gray-500 hover:text-gray-700 text-sm",children:"Change Number"})]})]}):n.jsxs("button",{type:"button",onClick:y,disabled:h||!i.phone.trim()||!vt(i.phone),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2 px-4 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Cr,{className:"h-4 w-4"}),n.jsx("span",{children:h?"Sending...":"Send OTP"})]})]}):t==="restaurant_owner"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),n.jsx("input",{type:"text",required:!0,value:i.username,onChange:T=>a(v=>({...v,username:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter username"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsx("input",{type:"password",required:!0,value:i.password,onChange:T=>a(v=>({...v,password:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter password"}),n.jsx("div",{className:"text-right mt-1",children:n.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700",onClick:()=>{const T=encodeURIComponent("Password reset request - Restaurant Owner"),v=encodeURIComponent(`Hello Admin,

I forgot my restaurant owner password. Please reset my credentials and share them to this email.

Username: ${i.username||"(not provided)"}
Role: restaurant_owner

Thank you.`),x=`https://mail.google.com/mail/?view=cm&to=tablooofficial1@gmail.com&su=${T}&body=${v}`;window.open(x,"_blank")},children:"Forgot password?"})})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Username/Email/Phone"}),n.jsx("input",{type:"text",required:!0,value:i.username,onChange:T=>a(v=>({...v,username:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter admin credentials"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Password"}),n.jsx("input",{type:"password",required:!0,value:i.password,onChange:T=>a(v=>({...v,password:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter admin password"})]})]}),(o||t==="restaurant_owner"||t==="admin")&&n.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all flex items-center justify-center space-x-2",children:[n.jsx(L9,{className:"h-4 w-4"}),n.jsx("span",{children:"Login"})]}),t==="restaurant_owner"&&n.jsx("div",{className:"text-center pt-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx("button",{type:"button",onClick:()=>window.location.href="/restaurant-owner",className:"text-orange-600 hover:text-orange-700 font-medium",children:"Register here"})]})}),t==="public_user"&&e&&n.jsx("div",{className:"text-center pt-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx("button",{type:"button",onClick:e,className:"text-orange-600 hover:text-orange-700 font-medium",children:"Register here"})]})})]})]})},mE=({onSwitchToLogin:t,onRegisterSuccess:e})=>{const{register:s}=$t(),[r,i]=E.useState("details"),[a,o]=E.useState(""),[l,c]=E.useState(!1),[d,h]=E.useState(0),[f,m]=E.useState(!1),[y,N]=E.useState({name:"",phone:""});eN.useEffect(()=>{let g;return d>0&&(g=setInterval(()=>{h(_=>_-1)},1e3)),()=>clearInterval(g)},[d]);const w=()=>Math.floor(1e5+Math.random()*9e5).toString(),T=async()=>{if(!y.name.trim()||!y.phone.trim()){D.error("Please fill in all required fields");return}if(!vt(y.phone)){D.error("Please enter a valid phone number");return}m(!0);try{const g=w();localStorage.setItem(`otp_${y.phone}`,g),h(60),c(!0),i("otp"),D.success(`OTP sent to ${y.phone}: ${g}`),console.log(`OTP for ${y.phone}: ${g}`)}catch{D.error("Failed to send OTP. Please try again.")}finally{m(!1)}},v=async()=>{if(a.length!==6){D.error("Please enter a valid 6-digit OTP");return}const g=localStorage.getItem(`otp_${y.phone}`);if(!g||g!==a){D.error("Invalid OTP. Please try again.");return}localStorage.removeItem(`otp_${y.phone}`),await s({...y,otp:a})?(D.success("Registration successful!"),e&&e()):D.error("Registration failed. Please try again.")},x=async()=>{d>0||await T()};return n.jsxs("div",{className:"bg-white p-8 rounded-2xl w-full",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Account"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Join Tabuloo today with OTP verification"})]}),r==="details"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),n.jsx("input",{type:"text",required:!0,value:y.name,onChange:g=>N(_=>({..._,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",required:!0,value:y.phone,onChange:g=>{const _=Ya(g.target.value);N(A=>({...A,phone:_}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10}),y.phone&&!vt(y.phone)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}),n.jsxs("button",{type:"button",onClick:T,disabled:f||!y.name.trim()||!y.phone.trim()||!vt(y.phone),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2 px-4 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Cr,{className:"h-4 w-4"}),n.jsx("span",{children:f?"Sending...":"Send OTP"})]})]}),r==="otp"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a 6-digit OTP to ",n.jsx("span",{className:"font-semibold",children:y.phone})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter OTP"}),n.jsx("input",{type:"text",required:!0,value:a,onChange:g=>o(g.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-center text-lg tracking-widest",placeholder:"Enter 6-digit OTP",maxLength:6})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:d>0?n.jsxs("span",{className:"flex items-center text-orange-600",children:[n.jsx(Qt,{className:"h-4 w-4 mr-1"}),"Resend in ",d,"s"]}):n.jsx("button",{type:"button",onClick:x,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Resend OTP"})}),n.jsx("button",{type:"button",onClick:()=>{i("details"),c(!1),o(""),h(0)},className:"text-gray-500 hover:text-gray-700 text-sm",children:"Change Number"})]}),n.jsxs("button",{type:"button",onClick:v,disabled:a.length!==6,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(G9,{className:"h-4 w-4"}),n.jsx("span",{children:"Verify OTP & Register"})]})]}),n.jsx("div",{className:"text-center pt-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",n.jsx("button",{type:"button",onClick:t,className:"text-orange-600 hover:text-orange-700 font-medium",children:"Login here"})]})})]})},Y9=({isOpen:t,onClose:e,authType:s})=>{const[r,i]=E.useState(!1);return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:n.jsxs("div",{className:"bg-white rounded-lg sm:rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto relative",children:[n.jsx("button",{onClick:e,className:"absolute top-2 right-2 sm:top-4 sm:right-4 text-gray-400 hover:text-gray-600 z-10 p-2",children:n.jsx(Rt,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),n.jsx("div",{className:"p-4 sm:p-8",children:r&&s==="public_user"?n.jsx(mE,{onSwitchToLogin:()=>i(!1),onRegisterSuccess:e}):n.jsx(hE,{role:s,onSwitchToRegister:s==="public_user"?()=>i(!0):void 0,onLoginSuccess:e})})]})}):null},X9=({isOpen:t,onClose:e})=>{const{login:s,register:r,sendDeliveryLoginOTP:i}=$t(),[a,o]=E.useState(!0),[l,c]=E.useState(!1),[d,h]=E.useState(!1),[f,m]=E.useState(!1),[y,N]=E.useState(!1),[w,T]=E.useState(""),[v,x]=E.useState("password"),[g,_]=E.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",vehicleType:"bike",vehicleNumber:"",vehicleModel:"",address:"",city:"",pincode:"",idProofType:"aadhar",idProofNumber:"",emergencyContact:"",emergencyContactRelation:"",profilePhoto:null,panCardPhoto:null,aadhaarCardPhoto:null,bankAccountNumber:"",ifscCode:"",upiId:"",paymentMethod:"bank"}),[A,M]=E.useState({phone:"",password:""});if(!t)return null;const C=(F,O)=>{_(L=>({...L,[F]:O}))},j=(F,O)=>{_(L=>({...L,[F]:O}))},k=(F,O)=>{M(L=>({...L,[F]:O}))},I=()=>{if(!g.name.trim())return D.error("Name is required"),!1;if(!g.email.trim())return D.error("Email is required"),!1;if(!g.phone.trim())return D.error("Phone number is required"),!1;if(g.phone.length!==10)return D.error("Phone number must be exactly 10 digits"),!1;if(!g.emergencyContact.trim())return D.error("Emergency contact is required"),!1;if(g.emergencyContact.length!==10)return D.error("Emergency contact must be exactly 10 digits"),!1;if(g.phone===g.emergencyContact)return D.error("Emergency contact cannot be the same as your phone number"),!1;if(!g.password)return D.error("Password is required"),!1;if(g.password.length<6)return D.error("Password must be at least 6 characters"),!1;if(g.password!==g.confirmPassword)return D.error("Passwords do not match"),!1;if(!g.vehicleNumber.trim())return D.error("Vehicle number is required"),!1;if(!g.address.trim())return D.error("Address is required"),!1;if(!g.city.trim())return D.error("City is required"),!1;if(!g.pincode.trim())return D.error("Pincode is required"),!1;if(g.pincode.length!==6)return D.error("Pincode must be exactly 6 digits"),!1;if(!g.idProofNumber.trim())return D.error("ID proof number is required"),!1;if(g.idProofType==="aadhar"&&g.idProofNumber.length!==12)return D.error("Aadhaar number must be exactly 12 digits"),!1;if(g.idProofType==="pan"&&g.idProofNumber.length!==10)return D.error("PAN number must be exactly 10 characters"),!1;if(!g.profilePhoto)return D.error("Profile photo is required"),!1;if(!g.panCardPhoto)return D.error("PAN card photo is required"),!1;if(!g.aadhaarCardPhoto)return D.error("Aadhaar card photo is required"),!1;if(g.paymentMethod==="bank"){if(!g.bankAccountNumber.trim())return D.error("Bank account number is required"),!1;if(!g.ifscCode.trim())return D.error("IFSC code is required"),!1;if(g.ifscCode.length!==11)return D.error("IFSC code must be exactly 11 characters"),!1}else if(!g.upiId.trim())return D.error("UPI ID is required"),!1;return!0},V=()=>A.phone.trim()?A.phone.length!==10?(D.error("Phone number must be exactly 10 digits"),!1):v==="password"&&!A.password.trim()?(D.error("Password is required"),!1):v==="otp"&&!w.trim()?(D.error("OTP is required"),!1):!0:(D.error("Phone number is required"),!1),U=async()=>{if(!A.phone.trim())return D.error("Please enter phone number first"),!1;if(A.phone.length!==10)return D.error("Phone number must be exactly 10 digits"),!1;m(!0);try{await i(A.phone)&&N(!0)}catch(F){console.error("Error sending login OTP:",F)}finally{m(!1)}},R=async F=>{if(F.preventDefault(),!!I()){m(!0);try{const O={name:g.name,email:g.email,phone:g.phone,password:g.password,role:"delivery_boy",vehicleDetails:{type:g.vehicleType,number:g.vehicleNumber,model:g.vehicleModel},address:`${g.address}, ${g.city} - ${g.pincode}`,idProof:{type:g.idProofType,number:g.idProofNumber},emergencyContact:{phone:g.emergencyContact,relation:g.emergencyContactRelation},profilePhoto:g.profilePhoto,panCardPhoto:g.panCardPhoto,aadhaarCardPhoto:g.aadhaarCardPhoto,bankDetails:{method:g.paymentMethod,accountNumber:g.bankAccountNumber,ifscCode:g.ifscCode,upiId:g.upiId},isOnline:!1,earnings:{total:0,thisMonth:0,thisWeek:0}};await r(O)&&(D.success("Registration successful! You can now login."),o(!0),_({name:"",email:"",phone:"",password:"",confirmPassword:"",vehicleType:"bike",vehicleNumber:"",vehicleModel:"",address:"",city:"",pincode:"",idProofType:"aadhar",idProofNumber:"",emergencyContact:"",emergencyContactRelation:"",profilePhoto:null,panCardPhoto:null,aadhaarCardPhoto:null,bankAccountNumber:"",ifscCode:"",upiId:"",paymentMethod:"bank"}))}catch(O){console.error("Registration error:",O),D.error("Registration failed. Please try again.")}finally{m(!1)}}},q=async F=>{if(F.preventDefault(),!!V()){m(!0);try{let O;v==="password"?O={phone:A.phone,password:A.password}:O={phone:A.phone,otp:w},await s(O,"delivery_boy")&&(D.success("Login successful!"),e(),M({phone:"",password:""}),T(""),N(!1),x("password"))}catch(O){console.error("Login error:",O),D.error("Login failed. Please check your credentials.")}finally{m(!1)}}},X=(F,O,L)=>{var H;return n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(kw,{className:"h-4 w-4 inline mr-2"}),O," *"]}),n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-red-400 transition-colors",children:g[F]?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[n.jsx(Qa,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm font-medium",children:"File uploaded successfully"})]}),n.jsx("p",{className:"text-xs text-gray-600",children:(H=g[F])==null?void 0:H.name}),n.jsx("button",{type:"button",onClick:()=>j(F,null),className:"text-red-600 hover:text-red-700 text-xs font-medium",children:"Remove file"})]}):n.jsxs("div",{children:[n.jsx(oE,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:L}),n.jsx("input",{type:"file",accept:"image/*",onChange:z=>{var oe;const se=((oe=z.target.files)==null?void 0:oe[0])||null;j(F,se)},className:"hidden",id:`${F}-upload`}),n.jsx("label",{htmlFor:`${F}-upload`,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors cursor-pointer",children:"Choose File"})]})})]})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(js,{className:"h-8 w-8 text-red-600"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Delivery Partner Login":"Delivery Partner Registration"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2",children:n.jsx(Rt,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:[n.jsx("button",{onClick:()=>o(!0),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${a?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Login"}),n.jsx("button",{onClick:()=>o(!1),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${a?"text-gray-600 hover:text-gray-900":"bg-white text-red-600 shadow-sm"}`,children:"Register"})]}),a?n.jsxs("form",{onSubmit:q,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Cr,{className:"h-4 w-4 inline mr-2"}),"Phone Number"]}),n.jsx("input",{type:"tel",required:!0,value:A.phone,onChange:F=>k("phone",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your phone number",maxLength:10})]}),n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[n.jsx("button",{type:"button",onClick:()=>x("password"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${v==="password"?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Password"}),n.jsx("button",{type:"button",onClick:()=>x("otp"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${v==="otp"?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"OTP"})]}),v==="password"?n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:l?"text":"password",required:!0,value:A.password,onChange:F=>k("password",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent pr-12",placeholder:"Enter your password"}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?n.jsx(wi,{className:"h-5 w-5"}):n.jsx(kn,{className:"h-5 w-5"})})]})]}):n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",required:!0,value:w,onChange:F=>T(F.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter 6-digit OTP",maxLength:6}),n.jsx("button",{type:"button",onClick:U,disabled:f||y,className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:y?"OTP Sent":"Send OTP"})]}),y&&n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"OTP sent to your registered mobile number"})]}),n.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white py-3 px-4 rounded-lg hover:from-red-700 hover:to-red-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Logging in...":"Login"})]}):n.jsxs("form",{onSubmit:R,className:"space-y-6",children:[n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(hs,{className:"h-5 w-5 mr-2 text-red-600"}),"Basic Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(hs,{className:"h-4 w-4 inline mr-2"}),"Full Name *"]}),n.jsx("input",{type:"text",required:!0,value:g.name,onChange:F=>C("name",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pc,{className:"h-4 w-4 inline mr-2"}),"Email *"]}),n.jsx("input",{type:"email",required:!0,value:g.email,onChange:F=>C("email",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Cr,{className:"h-4 w-4 inline mr-2"}),"Phone Number *"]}),n.jsx("input",{type:"tel",required:!0,value:g.phone,onChange:F=>C("phone",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact *"}),n.jsx("input",{type:"tel",required:!0,value:g.emergencyContact,onChange:F=>C("emergencyContact",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Emergency contact number",maxLength:10})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Relation"}),n.jsx("input",{type:"text",value:g.emergencyContactRelation,onChange:F=>C("emergencyContactRelation",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., Father, Mother, Spouse"})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(kw,{className:"h-5 w-5 mr-2 text-red-600"}),"Document Verification"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[X("profilePhoto","Profile Photo","Upload a clear photo of yourself"),X("panCardPhoto","PAN Card Photo","Upload a clear photo of your PAN card"),X("aadhaarCardPhoto","Aadhaar Card Photo","Upload a clear photo of your Aadhaar card")]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx($i,{className:"h-5 w-5 mr-2 text-red-600"}),"Vehicle Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type *"}),n.jsxs("select",{required:!0,value:g.vehicleType,onChange:F=>C("vehicleType",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"bike",children:"Bike"}),n.jsx("option",{value:"scooter",children:"Scooter"}),n.jsx("option",{value:"car",children:"Car"}),n.jsx("option",{value:"bicycle",children:"Bicycle"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number *"}),n.jsx("input",{type:"text",required:!0,value:g.vehicleNumber,onChange:F=>C("vehicleNumber",F.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., KA01AB1234"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Model"}),n.jsx("input",{type:"text",value:g.vehicleModel,onChange:F=>C("vehicleModel",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., Honda Activa 6G"})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Fe,{className:"h-5 w-5 mr-2 text-red-600"}),"Address Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Address *"}),n.jsx("textarea",{required:!0,value:g.address,onChange:F=>C("address",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Enter your complete address"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",required:!0,value:g.city,onChange:F=>C("city",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your city"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),n.jsx("input",{type:"text",required:!0,value:g.pincode,onChange:F=>C("pincode",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter 6-digit pincode",maxLength:6})]})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Identity Verification"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Proof Type *"}),n.jsxs("select",{required:!0,value:g.idProofType,onChange:F=>C("idProofType",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"aadhar",children:"Aadhaar Card"}),n.jsx("option",{value:"pan",children:"PAN Card"}),n.jsx("option",{value:"driving_license",children:"Driving License"}),n.jsx("option",{value:"voter_id",children:"Voter ID"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Proof Number *"}),n.jsx("input",{type:"text",required:!0,value:g.idProofNumber,onChange:F=>C("idProofNumber",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:g.idProofType==="aadhar"?"Enter 12-digit Aadhaar number":g.idProofType==="pan"?"Enter 10-character PAN number":"Enter ID proof number",maxLength:g.idProofType==="aadhar"?12:g.idProofType==="pan"?10:void 0})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Mp,{className:"h-5 w-5 mr-2 text-red-600"}),"Payment Details"]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[n.jsx("button",{type:"button",onClick:()=>C("paymentMethod","bank"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${g.paymentMethod==="bank"?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Bank Account"}),n.jsx("button",{type:"button",onClick:()=>C("paymentMethod","upi"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${g.paymentMethod==="upi"?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"UPI ID"})]})]}),g.paymentMethod==="bank"?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account Number *"}),n.jsx("input",{type:"text",required:!0,value:g.bankAccountNumber,onChange:F=>C("bankAccountNumber",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your bank account number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IFSC Code *"}),n.jsx("input",{type:"text",required:!0,value:g.ifscCode,onChange:F=>C("ifscCode",F.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., SBIN0001234",maxLength:11})]})]}):n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"UPI ID *"}),n.jsx("input",{type:"text",required:!0,value:g.upiId,onChange:F=>C("upiId",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., username@upi"})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Security"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:l?"text":"password",required:!0,value:g.password,onChange:F=>C("password",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent pr-12",placeholder:"Create a password"}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?n.jsx(wi,{className:"h-5 w-5"}):n.jsx(kn,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:d?"text":"password",required:!0,value:g.confirmPassword,onChange:F=>C("confirmPassword",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent pr-12",placeholder:"Confirm your password"}),n.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?n.jsx(wi,{className:"h-5 w-5"}):n.jsx(kn,{className:"h-5 w-5"})})]})]})]})]}),n.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white py-3 px-4 rounded-lg hover:from-red-700 hover:to-red-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating Account...":"Create Account"})]}),n.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Qa,{className:"h-5 w-5 text-blue-600 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium",children:"Why become a delivery partner?"}),n.jsxs("ul",{className:"mt-2 space-y-1",children:[n.jsx("li",{children:" Flexible working hours"}),n.jsx("li",{children:" Earn 20-50 per delivery"}),n.jsx("li",{children:" Weekly payments"}),n.jsx("li",{children:" Performance bonuses"})]})]})]})})]})]})})},J9=({className:t="",showCount:e=!0,onClick:s})=>{const{getTotalItems:r}=fc();return n.jsxs("div",{className:`relative ${t}`,onClick:s,children:[n.jsx(_s,{className:"h-5 w-5"}),e&&r()>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-800 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:r()>99?"99+":r()})]})};class Z9{constructor(){Ry(this,"razorpayKey","rzp_live_pM9jaMaFl7RvBv")}checkRazorpayLoaded(){return typeof window.Razorpay<"u"}async createDirectOrder(e){try{return console.log("Creating direct order with Razorpay"),{key:this.razorpayKey,amount:e.total*100,currency:"INR",name:"Tabuloo",description:"Food Order Payment",receipt:`order_${Date.now()}`,prefill:{name:e.customerName,email:e.customerEmail||"customer@tabuloo.com",contact:e.customerPhone},notes:{customer_name:e.customerName,customer_phone:e.customerPhone,delivery_address:e.address},theme:{color:"#DC2626"}}}catch(s){throw console.error("Direct order creation error:",s),s}}async verifyPayment(e,s){try{return console.log("Verifying payment:",{paymentId:e,orderId:s}),{success:!0,message:"Payment verification completed",payment_id:e,order_id:s}}catch(r){return console.error("Payment verification error:",r),{success:!0,message:"Payment verification completed",payment_id:e,order_id:s}}}async initializePayment(e,s,r,i){try{if(console.log("Initializing payment for order:",e),!this.checkRazorpayLoaded())throw new Error("Razorpay is not loaded. Please refresh the page and try again.");const a=await this.createDirectOrder({total:e.total,customerName:s.name,customerEmail:s.email,customerPhone:e.customerPhone,address:e.address}),o={key:this.razorpayKey,amount:e.total*100,currency:"INR",name:"Tabuloo",description:"Food Order Payment",receipt:`order_${Date.now()}`,handler:r,prefill:{name:s.name,email:s.email,contact:e.customerPhone},notes:{customer_name:s.name,customer_email:s.email,customer_phone:e.customerPhone,delivery_address:e.address},theme:{color:"#DC2626"},modal:{ondismiss:()=>{console.log("Payment modal dismissed")}}},l=new window.Razorpay(o);l.on("payment.failed",c=>{console.error("Payment failed:",c),i(new Error(`Payment failed: ${c.error.description||"Unknown error"}`))}),l.on("payment.cancelled",()=>{console.log("Payment cancelled by user"),i(new Error("Payment cancelled by user"))}),l.open()}catch(a){console.error("Payment initialization error:",a),i(a)}}}const Up=new Z9,fE=({isOpen:t,onClose:e,selectedRestaurantId:s})=>{const{user:r,updateWalletBalance:i}=$t(),{restaurants:a,menuItems:o,addBooking:l}=ir(),[c,d]=E.useState("details"),[h,f]=E.useState("card"),[m,y]=E.useState({number:"",expiry:"",cvv:"",name:""}),[N,w]=E.useState({restaurantId:s||"",date:"",time:"",customers:"1",customerNames:[""],customerPhones:[(r==null?void 0:r.phone)||""],phone:(r==null?void 0:r.phone)||"",specialRequests:"",foodOptions:""}),[T,v]=E.useState({}),x=[{id:"wallet",name:"Tabuloo Wallet",icon:ki,description:`Balance: ${((r==null?void 0:r.walletBalance)||0).toFixed(2)}`},{id:"netbanking",name:"Net Banking",icon:Uh,description:"All major banks supported"},{id:"card",name:"Credit/Debit Card",icon:Ul,description:"Visa, Mastercard, Amex"},{id:"upi",name:"UPI",icon:nE,description:"Pay using UPI apps"}],g=a.find(O=>O.id===N.restaurantId),_=o.filter(O=>O.restaurantId===N.restaurantId&&O.available),A=()=>Object.entries(T).reduce((O,[L,H])=>{const z=_.find(se=>se.id===L);return O+(z?z.price*H:0)},0),M=()=>A()*.2,C=O=>{const L=parseInt(O)||1;let H,z;L<=3?(H=Array(L).fill("").map((se,oe)=>N.customerNames[oe]||""),z=Array(L).fill("").map((se,oe)=>N.customerPhones[oe]||"")):(H=Array(3).fill("").map((se,oe)=>N.customerNames[oe]||""),z=Array(3).fill("").map((se,oe)=>N.customerPhones[oe]||"")),w(se=>({...se,customers:O,customerNames:H,customerPhones:z}))},j=(O,L)=>{const H=[...N.customerNames];H[O]=L,w(z=>({...z,customerNames:H}))},k=(O,L)=>{const H=[...N.customerPhones];H[O]=L,w(z=>({...z,customerPhones:H}))},I=()=>{w(O=>({...O,customerNames:[...O.customerNames,""],customerPhones:[...O.customerPhones,""]}))},V=O=>{if(N.customerNames.length>1){const L=N.customerNames.filter((z,se)=>se!==O),H=N.customerPhones.filter((z,se)=>se!==O);w(z=>({...z,customerNames:L,customerPhones:H,customers:L.length.toString()}))}},U=(O,L)=>{if(L<=0){const H={...T};delete H[O],v(H)}else v(H=>({...H,[O]:L}))},R=()=>{var L,H,z,se,oe,pe,ue,Ee,Ve,Ye;if(!g)return D.error("Please select a restaurant"),!1;if(!N.date||!N.time)return D.error("Please select date and time"),!1;if(!N.phone)return D.error("Phone number is required"),!1;if(!vt(N.phone))return D.error("Please enter a valid 10-digit Indian phone number"),!1;const O=parseInt(N.customers);if(O===1){if(!((L=N.customerNames[0])!=null&&L.trim()))return D.error("Please provide the customer name"),!1;if(!((H=N.customerPhones[0])!=null&&H.trim()))return D.error("Please provide the customer phone number"),!1;if(!vt(N.customerPhones[0]))return D.error("Please enter a valid 10-digit Indian phone number for the customer"),!1}else if(O===2){if(!((z=N.customerNames[0])!=null&&z.trim())||!((se=N.customerNames[1])!=null&&se.trim()))return D.error("Please provide names for both customers"),!1;if(!((oe=N.customerPhones[0])!=null&&oe.trim())||!((pe=N.customerPhones[1])!=null&&pe.trim()))return D.error("Please provide phone numbers for both customers"),!1;if(!vt(N.customerPhones[0])||!vt(N.customerPhones[1]))return D.error("Please enter valid 10-digit Indian phone numbers for both customers"),!1}else if(O===3){const Me=N.customerNames.filter(kt=>kt.trim()!==""),Be=N.customerPhones.filter(kt=>kt.trim()!=="");if(Me.length!==O)return D.error("Please provide names for all customers"),!1;if(Be.length!==O)return D.error("Please provide phone numbers for all customers"),!1;for(let kt=0;kt<O;kt++)if(!vt(N.customerPhones[kt]))return D.error(`Please enter a valid 10-digit Indian phone number for customer ${kt+1}`),!1}else if(O>3){if(!((ue=N.customerNames[0])!=null&&ue.trim())||!((Ee=N.customerNames[1])!=null&&Ee.trim()))return D.error("Please provide names for at least the first two customers"),!1;if(!((Ve=N.customerPhones[0])!=null&&Ve.trim())||!((Ye=N.customerPhones[1])!=null&&Ye.trim()))return D.error("Please provide phone numbers for at least the first two customers"),!1;if(!vt(N.customerPhones[0])||!vt(N.customerPhones[1]))return D.error("Please enter valid 10-digit Indian phone numbers for the first two customers"),!1}return Object.keys(T).length===0?(D.error("Please select at least one menu item"),!1):!0},q=O=>{O.preventDefault(),R()&&d("payment")},X=async()=>{if(!g||!r)return;if(h==="card"){if(!$d(m.number)){D.error("Please enter a valid 16-digit card number");return}if(!zd(m.cvv)){D.error("Please enter a valid 3-digit CVV");return}if(!qd(m.expiry)){D.error("Please enter a valid expiry date (MM/YY)");return}if(!m.name.trim()){D.error("Please enter cardholder name");return}}A();const O=M(),L={userId:r.id,restaurantId:N.restaurantId,type:"table",date:N.date,time:N.time,customers:parseInt(N.customers),customerNames:N.customerNames.filter(H=>H.trim()!==""),customerPhones:N.customerPhones.filter(H=>H.trim()!==""),phone:N.phone,amount:O,createdAt:new Date,specialRequests:N.specialRequests,foodOptions:N.foodOptions,selectedMenuItems:T};if(h==="wallet"){if((r.walletBalance||0)<O)return D.error("Insufficient wallet balance"),!1;i((r.walletBalance||0)-O);const H={...L,status:"confirmed",paymentStatus:"paid",paymentMethod:"wallet"};try{await l(H),await F(H,g,r),d("confirmation")}catch(z){console.error("Booking error:",z),D.error("Failed to confirm booking")}return}try{await Up.initializePayment({total:O,address:g.address,customerPhone:N.phone},{name:r.name,email:r.email},async H=>{const z={...L,status:"confirmed",paymentStatus:"paid",paymentMethod:"razorpay",razorpayPaymentId:H.razorpay_payment_id||null};try{await l(z),await F(z,g,r),d("confirmation")}catch(se){console.error("Booking error after payment:",se),D.error("Payment succeeded, but booking failed. Contact support.")}},H=>{console.error("Payment failed:",H),D.error("Payment failed or was cancelled")})}catch(H){console.error("Payment initialization error:",H),D.error("Unable to start payment")}},F=async(O,L,H)=>(console.log("Sending booking confirmation emails:",{userEmail:H.email||H.phone,restaurantEmail:L.ownerCredentials.username,bookingDetails:O}),new Promise(z=>setTimeout(z,1e3)));return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:n.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Book Table"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2",children:n.jsx(Rt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),c==="details"&&n.jsxs("form",{onSubmit:q,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name of the Restaurant *"}),n.jsxs("select",{value:N.restaurantId,onChange:O=>{w(L=>({...L,restaurantId:O.target.value})),v({})},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:!0,children:[n.jsx("option",{value:"",children:"Select a restaurant"}),a.filter(O=>O.isOpen).map(O=>n.jsx("option",{value:O.id,children:O.name},O.id))]})]}),g&&_.length>0&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(lE,{className:"h-4 w-4 inline mr-1"}),"Select Menu Items *"]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Choose the food items you'd like to eat when you arrive. The booking price will be 20% of your total selection."}),n.jsx("div",{className:"space-y-3",children:_.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`w-3 h-3 rounded-full ${O.category==="veg"?"bg-green-500":"bg-red-500"}`}),n.jsx("h4",{className:"font-medium text-gray-900",children:O.name})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.itemCategory,"  ",O.quantity]}),n.jsxs("p",{className:"text-sm font-medium text-red-800",children:["",O.price]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>U(O.id,(T[O.id]||0)-1),className:"w-8 h-8 rounded-full bg-red-100 text-red-600 hover:bg-red-200 flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-bold",children:"-"})}),n.jsx("span",{className:"w-8 text-center font-medium",children:T[O.id]||0}),n.jsx("button",{type:"button",onClick:()=>U(O.id,(T[O.id]||0)+1),className:"w-8 h-8 rounded-full bg-red-100 text-red-600 hover:bg-red-200 flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-bold",children:"+"})})]})]},O.id))})]}),Object.keys(T).length>0&&n.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[n.jsxs("p",{children:["Selected items: ",Object.values(T).reduce((O,L)=>O+L,0)]}),n.jsxs("p",{className:"font-medium text-red-800",children:["Total menu cost: ",A().toFixed(2)]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pt,{className:"h-4 w-4 inline mr-1"}),"Date *"]}),n.jsx("input",{type:"date",required:!0,value:N.date,onChange:O=>w(L=>({...L,date:O.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",min:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Qt,{className:"h-4 w-4 inline mr-1"}),"Time *"]}),n.jsx("input",{type:"time",required:!0,value:N.time,onChange:O=>w(L=>({...L,time:O.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base"})]}),parseInt(N.customers)>3&&n.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium",children:"Note:"}),n.jsx("p",{children:"For bookings with more than 3 customers, we only need the names and phone numbers of the first 3 people (first 2 required, 3rd optional). This helps us prepare the table and manage the booking efficiently."})]})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Jn,{className:"h-4 w-4 inline mr-1"}),"Number of Customers *"]}),n.jsx("input",{type:"number",min:"1",max:"20",required:!0,value:N.customers,onChange:O=>C(O.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Name of the Customers",parseInt(N.customers)===1&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(Required)"}),parseInt(N.customers)===2&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(Both required)"}),parseInt(N.customers)===3&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(All three required)"}),parseInt(N.customers)>3&&n.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:"(First 2 required, 3rd optional)"})]}),parseInt(N.customers)<=3&&n.jsxs("button",{type:"button",onClick:I,className:"flex items-center space-x-1 text-red-800 hover:text-red-900 text-sm",children:[n.jsx(fs,{className:"h-4 w-4"}),n.jsx("span",{children:"Add Customer"})]})]}),n.jsx("div",{className:"space-y-3 max-h-48 sm:max-h-60 overflow-y-auto",children:N.customerNames.map((O,L)=>{const H=parseInt(N.customers);let z=!1,se="";return H===1?(z=L===0,se="Customer name (required)"):H===2||H===3?(z=!0,se=`Customer ${L+1} name (required)`):H>3&&(L===0||L===1?(z=!0,se=`Customer ${L+1} name (required)`):L===2?(z=!1,se=`Customer ${L+1} name (optional)`):(z=!1,se=`Customer ${L+1} name`)),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",placeholder:se,value:O,onChange:oe=>j(L,oe.target.value),className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:z}),N.customerNames.length>1&&n.jsx("button",{type:"button",onClick:()=>V(L),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",children:n.jsx(gc,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"tel",placeholder:`Customer ${L+1} phone number ${z?"(required)":"(optional)"}`,value:N.customerPhones[L]||"",onChange:oe=>{const pe=Ya(oe.target.value);k(L,pe)},className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:z,maxLength:10}),N.customerPhones[L]&&!vt(N.customerPhones[L])&&n.jsx("p",{className:"text-red-500 text-sm",children:"Invalid phone number"})]})]},L)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",required:!0,value:N.phone,onChange:O=>{const L=Ya(O.target.value);w(H=>({...H,phone:L}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",placeholder:"Enter 10-digit phone number",maxLength:10}),N.phone&&!vt(N.phone)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Food Options & Preferences"}),n.jsx("textarea",{value:N.foodOptions,onChange:O=>w(L=>({...L,foodOptions:O.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:3,placeholder:"Any specific food preferences, dietary restrictions, or additional menu requests..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests"}),n.jsx("textarea",{value:N.specialRequests,onChange:O=>w(L=>({...L,specialRequests:O.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:3,placeholder:"Any special arrangements, celebrations, or additional requests..."})]}),g&&Object.keys(T).length>0&&n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Booking Summary"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Restaurant: ",g.name]}),n.jsxs("p",{children:["Date: ",N.date," at ",N.time]}),n.jsxs("p",{children:["Customers: ",N.customers]}),n.jsxs("p",{children:["Selected Items: ",Object.values(T).reduce((O,L)=>O+L,0)]}),n.jsxs("p",{children:["Total Menu Cost: ",A().toFixed(2)]}),n.jsxs("p",{className:"font-medium text-red-600",children:["Advance Payment (20%): ",M().toFixed(2)]})]})]}),n.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors flex items-center justify-center space-x-2 font-medium text-base",children:n.jsx("span",{children:"Book Table"})})]}),c==="payment"&&g&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx(Ul,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-800 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Payment Details"}),n.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Advance payment of ",M().toFixed(2)," required"]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Select Payment Method"}),n.jsx("div",{className:"space-y-3",children:x.map(O=>{const L=O.icon,H=O.id==="wallet"&&((r==null?void 0:r.walletBalance)||0)<M();return n.jsx("button",{onClick:()=>f(O.id),disabled:H,className:`w-full p-3 sm:p-4 border-2 rounded-lg text-left transition-all ${h===O.id?"border-red-500 bg-red-50":H?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(L,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900 text-sm sm:text-base",children:O.name}),n.jsx("p",{className:`text-xs sm:text-sm ${H?"text-red-500":"text-gray-600"}`,children:H?"Insufficient balance":O.description})]}),h===O.id&&n.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-red-500 rounded-full"})]})},O.id)})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Summary"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Restaurant: ",g.name]}),n.jsxs("p",{children:["Date & Time: ",N.date," at ",N.time]}),n.jsxs("p",{children:["Customers: ",N.customers]}),n.jsxs("p",{children:["Phone: ",N.phone]}),n.jsxs("p",{children:["Selected Items: ",Object.values(T).reduce((O,L)=>O+L,0)]}),n.jsxs("p",{children:["Total Menu Cost: ",A().toFixed(2)]}),n.jsxs("p",{className:"font-medium text-red-600",children:["Advance (20%): ",M().toFixed(2)]})]})]}),h==="card"&&n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsx("input",{type:"text",placeholder:"Card Number",value:m.number,onChange:O=>{const L=cE(O.target.value);y(H=>({...H,number:L}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:19}),m.number&&!$d(m.number)&&n.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 16-digit card number"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[n.jsx("input",{type:"text",placeholder:"MM/YY",value:m.expiry,onChange:O=>{const L=dE(O.target.value);y(H=>({...H,expiry:L}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:5}),n.jsx("input",{type:"text",placeholder:"CVV",value:m.cvv,onChange:O=>{const L=uE(O.target.value);y(H=>({...H,cvv:L}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:3})]}),m.expiry&&!qd(m.expiry)&&n.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid expiry date (MM/YY)"}),m.cvv&&!zd(m.cvv)&&n.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 3-digit CVV"}),n.jsx("input",{type:"text",placeholder:"Cardholder Name",value:m.name,onChange:O=>y(L=>({...L,name:O.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"})]}),h==="netbanking"&&n.jsx("div",{className:"space-y-4 mb-6",children:n.jsxs("select",{className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",children:[n.jsx("option",{value:"",children:"Select your bank"}),n.jsx("option",{value:"sbi",children:"State Bank of India"}),n.jsx("option",{value:"hdfc",children:"HDFC Bank"}),n.jsx("option",{value:"icici",children:"ICICI Bank"}),n.jsx("option",{value:"axis",children:"Axis Bank"}),n.jsx("option",{value:"kotak",children:"Kotak Mahindra Bank"})]})}),h==="upi"&&n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsx("input",{type:"text",placeholder:"Enter UPI ID (example@upi)",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Or scan QR code"}),n.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gray-200 rounded-lg mx-auto flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-xs sm:text-sm",children:"QR Code"})})]})]}),h==="wallet"&&n.jsx("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ki,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-900 text-sm sm:text-base",children:"Payment via Tabuloo Wallet"}),n.jsxs("p",{className:"text-xs sm:text-sm text-green-700",children:["",M().toFixed(2)," will be deducted from your wallet"]})]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{onClick:()=>d("details"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),n.jsxs("button",{onClick:X,className:"flex-1 bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:["Pay ",M().toFixed(2)]})]})]}),c==="confirmation"&&g&&n.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(pt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Booking Confirmed!"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Your table has been successfully booked. Confirmation details have been sent to your email and the restaurant."}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6 text-left",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Restaurant: ",g.name]}),n.jsxs("p",{children:["Date & Time: ",N.date," at ",N.time]}),n.jsxs("p",{children:["Customers: ",N.customers]}),n.jsxs("p",{children:["Phone: ",N.phone]}),n.jsxs("p",{children:["Selected Items: ",Object.values(T).reduce((O,L)=>O+L,0)]}),n.jsxs("p",{children:["Total Menu Cost: ",A().toFixed(2)]}),n.jsxs("p",{children:["Advance Paid: ",M().toFixed(2)]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-green-200",children:[n.jsx("p",{className:"font-medium text-green-800",children:"Customer Details:"}),N.customerNames.map((O,L)=>O.trim()?n.jsxs("p",{className:"text-xs",children:[O," - ",N.customerPhones[L]||"No phone"]},L):null)]})]})]}),n.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Done"})]})]})}):null},l0=({onLocationSelect:t,initialLocation:e,placeholder:s="Search for an address..."})=>{const r=E.useRef(null),i=E.useRef(null),[a,o]=E.useState(null),[l,c]=E.useState(null),[d,h]=E.useState(null),[f,m]=E.useState(e||null),[y,N]=E.useState(!1);E.useEffect(()=>{if(!r.current)return;const v=()=>{if(!window.google||!window.google.maps){setTimeout(v,100);return}const x=new window.google.maps.Map(r.current,{center:e?{lat:e.lat,lng:e.lng}:{lat:20.5937,lng:78.9629},zoom:12,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});if(o(x),i.current){const g=new window.google.maps.places.Autocomplete(i.current,{types:["address"],componentRestrictions:{country:"IN"}});g.addListener("place_changed",()=>{const _=g.getPlace();if(_.geometry&&_.geometry.location){const A={lat:_.geometry.location.lat(),lng:_.geometry.location.lng(),address:_.formatted_address||"",formattedAddress:_.formatted_address||""};m(A),t(A),x.setCenter(_.geometry.location),x.setZoom(16),d&&d.setMap(null);const M=new window.google.maps.Marker({position:_.geometry.location,map:x,title:_.formatted_address||""});h(M)}}),c(g)}if(x.addListener("click",g=>{if(g.latLng){const _={lat:g.latLng.lat(),lng:g.latLng.lng(),address:"",formattedAddress:""};new window.google.maps.Geocoder().geocode({location:{lat:_.lat,lng:_.lng}},(M,C)=>{C==="OK"&&M&&M[0]&&(_.address=M[0].formatted_address,_.formattedAddress=M[0].formatted_address),m(_),t(_),d&&d.setMap(null);const j=new window.google.maps.Marker({position:{lat:_.lat,lng:_.lng},map:x,title:_.formattedAddress});h(j)})}}),e){const g=new window.google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:x,title:e.formattedAddress});h(g)}};v()},[e,t]);const w=()=>{m(null),d&&(d.setMap(null),h(null)),i.current&&(i.current.value=""),t({lat:0,lng:0,address:"",formattedAddress:""})},T=()=>{navigator.geolocation&&(N(!0),navigator.geolocation.getCurrentPosition(v=>{const x={lat:v.coords.latitude,lng:v.coords.longitude,address:"",formattedAddress:""};window.google&&window.google.maps&&new window.google.maps.Geocoder().geocode({location:{lat:x.lat,lng:x.lng}},(_,A)=>{if(N(!1),A==="OK"&&_&&_[0]&&(x.address=_[0].formatted_address,x.formattedAddress=_[0].formatted_address),m(x),t(x),a){a.setCenter({lat:x.lat,lng:x.lng}),a.setZoom(16),d&&d.setMap(null);const M=new window.google.maps.Marker({position:{lat:x.lat,lng:x.lng},map:a,title:x.formattedAddress});h(M)}})},v=>{N(!1),console.error("Error getting current location:",v)}))};return!window.google||!window.google.maps?n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-md",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Loading Google Maps..."})]})})}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ud,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{ref:i,type:"text",placeholder:s,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),f&&n.jsx("button",{onClick:w,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx(Rt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:T,disabled:y,className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:y?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Getting Location..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"h-4 w-4"}),n.jsx("span",{children:"Use Current Location"})]})})}),n.jsx("div",{ref:r,className:"w-full h-64 border border-gray-300 rounded-md"}),f&&n.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Fe,{className:"h-4 w-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:" Location Selected:"}),n.jsx("p",{className:"text-sm text-green-800",children:f.formattedAddress}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Coordinates: ",f.lat.toFixed(6),", ",f.lng.toFixed(6)]})]})]})})]})},pE=({isOpen:t,onClose:e,selectedRestaurantId:s})=>{var Q;const r=bs(),{user:i,updateWalletBalance:a}=$t(),{restaurants:o,menuItems:l,addOrder:c}=ir(),{addToCart:d}=fc(),[h,f]=E.useState(s||""),[m,y]=E.useState([]),[N,w]=E.useState("restaurants"),[T,v]=E.useState("pickup"),[x,g]=E.useState("card"),[_,A]=E.useState({number:"",expiry:"",cvv:"",name:""}),[M,C]=E.useState(""),[j,k]=E.useState({name:(i==null?void 0:i.name)||"",phone:(i==null?void 0:i.phone)||""}),[I,V]=E.useState(null),[U,R]=E.useState(!1),[q,X]=E.useState(null),F=[{id:"wallet",name:"Tabuloo Wallet",icon:ki,description:`Balance: ${((i==null?void 0:i.walletBalance)||0).toFixed(2)}`},{id:"netbanking",name:"Net Banking",icon:Uh,description:"All major banks supported"},{id:"card",name:"Credit/Debit Card",icon:Ul,description:"Visa, Mastercard, Amex"},{id:"upi",name:"UPI",icon:nE,description:"Pay using UPI apps"},{id:"cod",name:"Cash on Delivery",icon:Mp,description:"Pay on delivery/pickup"}],O=o.filter(B=>B.isOpen),L=l.filter(B=>B.restaurantId===h&&B.available),H=B=>{y(J=>J.find(we=>we.id===B)?J.map(we=>we.id===B?{...we,quantity:we.quantity+1}:we):[...J,{id:B,quantity:1}]),D.success("Added to cart!")},z=B=>{var ge;const J=l.find(we=>we.id===B);J&&(d({id:J.id,name:J.name,price:J.price,image:J.image,restaurantId:J.restaurantId,restaurantName:((ge=o.find(we=>we.id===h))==null?void 0:ge.name)||"",category:J.category,itemCategory:J.itemCategory}),D.success("Item added to cart! Redirecting to checkout..."),e(),setTimeout(()=>{r("/cart")},1e3))},se=(B,J)=>{y(ge=>ge.map(we=>{if(we.id===B){const gt=we.quantity+J;return gt>0?{...we,quantity:gt}:we}return we}).filter(we=>we.quantity>0))},oe=()=>m.reduce((B,J)=>{const ge=l.find(we=>we.id===J.id);return B+(ge?ge.price*J.quantity:0)},0),pe=()=>m.map(B=>{const J=l.find(ge=>ge.id===B.id);return J?{...J,quantity:B.quantity}:null}).filter(Boolean),ue=B=>{f(B),y([]),w("menu")},Ee=()=>{if(m.length===0){D.error("Your cart is empty");return}pe().forEach(J=>{var ge;J&&d({id:J.id,name:J.name,price:J.price,image:J.image,restaurantId:J.restaurantId,restaurantName:((ge=o.find(we=>we.id===h))==null?void 0:ge.name)||"",category:J.category,itemCategory:J.itemCategory})}),D.success("Items added to cart! Redirecting to checkout..."),e(),setTimeout(()=>{r("/cart")},1e3)},Ve=B=>{v(B),w(B==="delivery"?"address":"payment")},Ye=()=>{if(!M.trim()){D.error("Please enter delivery address");return}if(M.trim().length<10){D.error("Please enter a complete delivery address (minimum 10 characters)");return}if(!j.name.trim()||!j.phone.trim()){D.error("Please enter your name and phone number");return}if(!vt(j.phone)){D.error("Please enter a valid 10-digit Indian phone number");return}w("payment")},Me=async()=>{if(!i||!h){D.error("Please ensure you are logged in and have selected a restaurant");return}if(x==="card"){if(!$d(_.number)){D.error("Please enter a valid 16-digit card number");return}if(!zd(_.cvv)){D.error("Please enter a valid 3-digit CVV");return}if(!qd(_.expiry)){D.error("Please enter a valid expiry date (MM/YY)");return}if(!_.name.trim()){D.error("Please enter cardholder name");return}}const B=pe(),J=oe();if(x==="wallet"){if((i.walletBalance||0)<J){D.error("Insufficient wallet balance");return}a((i.walletBalance||0)-J)}const ge=o.find(gt=>gt.id===h),we={userId:i.id,restaurantId:h,items:B,status:"pending",type:T,total:J,customerName:j.name,customerPhone:j.phone,createdAt:new Date,paymentMethod:x};T==="delivery"&&(we.address=M,I&&(we.location={lat:I.lat,lng:I.lng}));try{await c(we),await re(we,ge,i),w("confirmation")}catch(gt){console.error("Order error:",gt)}},Be=()=>{if(!navigator.geolocation){D.error("Geolocation is not supported by this browser");return}D.loading("Getting your current location..."),navigator.geolocation.getCurrentPosition(B=>{const{latitude:J,longitude:ge}=B.coords;V({lat:J,lng:ge});const we=`Current Location (${J.toFixed(6)}, ${ge.toFixed(6)})`;C(we),D.dismiss(),D.success("Location captured successfully!")},B=>{switch(D.dismiss(),B.code){case B.PERMISSION_DENIED:D.error("Location access denied. Please enable location permissions.");break;case B.POSITION_UNAVAILABLE:D.error("Location information unavailable.");break;case B.TIMEOUT:D.error("Location request timed out.");break;default:D.error("Error getting location. Please enter address manually.")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},kt=B=>{X(B),C(B.formattedAddress),R(!1),D.success("Location selected successfully!")},ar=()=>{R(!U)},re=async(B,J,ge)=>(console.log("Sending order notifications:",{userEmail:ge.email||ge.phone,restaurantEmail:J==null?void 0:J.ownerCredentials.username,orderDetails:B}),new Promise(we=>setTimeout(we,1e3)));return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:n.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl w-full max-w-6xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Order Food"}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[m.length>0&&n.jsxs("div",{className:"flex items-center bg-red-100 text-red-800 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm",children:[n.jsx(_s,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),n.jsxs("span",{children:[m.reduce((B,J)=>B+J.quantity,0)," items - ",oe().toFixed(2)]})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-2",children:n.jsx(Rt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})]}),N==="restaurants"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Available Restaurants, Hotels & Food Places"}),O.length===0?n.jsxs("div",{className:"text-center py-8 sm:py-12",children:[n.jsx(_s,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"No restaurants available at the moment"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:O.map(B=>n.jsxs("div",{onClick:()=>ue(B.id),className:"border rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-lg transition-shadow cursor-pointer group",children:[B.images[0]&&n.jsx("img",{src:B.images[0],alt:B.name,className:"w-full h-32 sm:h-40 object-cover rounded-lg mb-3 sm:mb-4 group-hover:scale-105 transition-transform"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:B.name}),n.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Open"})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 capitalize",children:B.type}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:B.address}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:B.timings}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsxs("span",{className:"text-base sm:text-lg font-semibold text-red-800",children:["",B.price,"/person"]}),n.jsx("button",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors text-xs sm:text-sm",children:"View Menu"})]})]})]},B.id))})]}),N==="menu"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6",children:[n.jsxs("div",{children:[n.jsx("button",{onClick:()=>w("restaurants"),className:"text-red-800 hover:text-red-900 mb-2 text-sm sm:text-base",children:" Back to Restaurants"}),n.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:[(Q=o.find(B=>B.id===h))==null?void 0:Q.name," Menu"]})]}),m.length>0&&n.jsxs("button",{onClick:Ee,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg hover:from-green-700 hover:to-green-800 flex items-center space-x-2 text-sm sm:text-base mt-2 sm:mt-0",children:[n.jsx(_s,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsxs("span",{children:["Proceed to Checkout (",oe().toFixed(2),")"]})]})]}),L.length===0?n.jsxs("div",{className:"text-center py-8 sm:py-12",children:[n.jsx(_s,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"No menu items available"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:L.map(B=>{const J=m.find(ge=>ge.id===B.id);return n.jsxs("div",{className:"border rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-shadow",children:[n.jsx("img",{src:B.image,alt:B.name,className:"w-full h-32 sm:h-40 object-cover rounded-lg mb-3 sm:mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:B.name}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[B.itemCategory,"  ",B.quantity]})]}),n.jsx("span",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${B.category==="veg"?"bg-green-500":"bg-red-500"}`})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2",children:[n.jsxs("span",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["",B.price]}),J?n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("button",{onClick:()=>se(B.id,-1),className:"p-1 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:n.jsx(Vp,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),n.jsx("span",{className:"px-2 sm:px-3 py-1 bg-gray-100 rounded-lg font-medium text-xs sm:text-sm",children:J.quantity}),n.jsx("button",{onClick:()=>se(B.id,1),className:"p-1 bg-green-100 text-green-600 rounded-full hover:bg-green-200",children:n.jsx(fs,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}):n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx("button",{onClick:()=>H(B.id),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-red-900 hover:to-red-950 transition-colors text-xs sm:text-sm",children:"Add to Cart"}),n.jsx("button",{onClick:()=>z(B.id),className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-green-700 hover:to-green-800 transition-colors text-xs sm:text-sm",children:"Add & Checkout"})]})]})]})]},B.id)})}),m.length>0&&n.jsxs("div",{className:"fixed bottom-4 right-4 bg-white border shadow-lg rounded-lg p-3 sm:p-4 max-w-xs sm:max-w-sm",children:[n.jsxs("div",{className:"mb-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-800",children:[" ",n.jsx("strong",{children:"Tip:"}),' Use "Add & Checkout" for individual items or "Proceed to Checkout" for all items']}),n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Cart Summary"}),n.jsx("div",{className:"space-y-1 mb-3 max-h-24 sm:max-h-32 overflow-y-auto",children:pe().map(B=>n.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[n.jsxs("span",{children:[B.name," x ",B.quantity]}),n.jsxs("span",{children:["",(B.price*B.quantity).toFixed(2)]})]},B.id))}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:["Total: ",oe().toFixed(2)]}),n.jsx("button",{onClick:Ee,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-green-700 hover:to-green-800 text-xs sm:text-sm",children:"Checkout"})]})]})]}),N==="checkout"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Choose Order Type"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[n.jsx("button",{onClick:()=>Ve("pickup"),className:"p-6 sm:p-8 border-2 border-gray-200 rounded-lg sm:rounded-xl hover:border-red-500 hover:bg-red-50 transition-all group",children:n.jsxs("div",{className:"text-center",children:[n.jsx(_s,{className:"h-8 w-8 sm:h-12 sm:w-12 text-red-800 mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform"}),n.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Self Pickup"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Pick up your order from the restaurant"}),n.jsx("p",{className:"text-xs sm:text-sm text-green-600 mt-2",children:"No delivery charges"})]})}),n.jsx("button",{onClick:()=>Ve("delivery"),className:"p-6 sm:p-8 border-2 border-gray-200 rounded-lg sm:rounded-xl hover:border-green-500 hover:bg-green-50 transition-all group",children:n.jsxs("div",{className:"text-center",children:[n.jsx($i,{className:"h-8 w-8 sm:h-12 sm:w-12 text-green-600 mx-auto mb-3 sm:mb-4 group-hover:scale-110 transition-transform"}),n.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Home Delivery"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Get it delivered to your doorstep"}),n.jsx("p",{className:"text-xs sm:text-sm text-orange-600 mt-2",children:"Delivery charges may apply"})]})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Order Summary"}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Items: ",m.reduce((B,J)=>B+J.quantity,0)]}),n.jsxs("p",{children:["Subtotal: ",oe().toFixed(2)]})]})]}),n.jsx("button",{onClick:()=>w("menu"),className:"mt-4 text-red-800 hover:text-red-900 text-sm sm:text-base",children:" Back to Menu"})]}),N==="address"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Delivery Address"}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Fe,{className:"h-4 w-4 inline mr-1"}),"Full Delivery Address *"]}),n.jsx("textarea",{value:M,onChange:B=>C(B.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",rows:4,placeholder:"Enter your complete delivery address with landmarks...",required:!0}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-3",children:[n.jsxs("button",{type:"button",onClick:Be,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-sm",children:[n.jsx(Fd,{className:"h-4 w-4 mr-2"}),"Use Current Location"]}),n.jsxs("button",{type:"button",onClick:ar,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center text-sm",children:[n.jsx(Fe,{className:"h-4 w-4 mr-2"}),U?"Hide Map":"Show Map & Pick Location"]})]}),U&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select Location on Map"}),n.jsx(l0,{onLocationSelect:kt,placeholder:"Search for your delivery address..."})]}),q&&n.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Fe,{className:"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:" Location Selected:"}),n.jsx("p",{className:"text-sm text-green-800 mt-1",children:q.formattedAddress}),n.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Coordinates: ",q.lat.toFixed(6),", ",q.lng.toFixed(6)]})]})]})}),I&&n.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Fd,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:" Current Location Captured:"}),n.jsxs("p",{className:"text-sm text-blue-800 mt-1",children:["Latitude: ",I.lat.toFixed(6),", Longitude: ",I.lng.toFixed(6)]}),n.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"You can edit the address above if needed"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),n.jsx("input",{type:"text",value:j.name,onChange:B=>k(J=>({...J,name:B.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:j.phone,onChange:B=>{const J=Ya(B.target.value);k(ge=>({...ge,phone:J}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-base",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0}),j.phone&&!vt(j.phone)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 mt-6 sm:mt-8",children:[n.jsx("button",{onClick:()=>w("checkout"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),n.jsx("button",{onClick:Ye,className:"flex-1 bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Continue to Payment"})]})]}),N==="payment"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[n.jsx(Ul,{className:"h-10 w-10 sm:h-12 sm:w-12 text-red-800 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Payment"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Complete your order payment"})]}),n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4 text-sm sm:text-base",children:"Select Payment Method"}),n.jsx("div",{className:"space-y-3",children:F.map(B=>{const J=B.icon,ge=B.id==="wallet"&&((i==null?void 0:i.walletBalance)||0)<oe(),we=B.id==="cod"&&T==="pickup",gt=ge||we;return n.jsx("button",{onClick:()=>g(B.id),disabled:gt,className:`w-full p-3 sm:p-4 border-2 rounded-lg text-left transition-all ${x===B.id?"border-red-500 bg-red-50":gt?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(J,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900 text-sm sm:text-base",children:B.name}),n.jsx("p",{className:`text-xs sm:text-sm ${gt?"text-red-500":"text-gray-600"}`,children:ge?"Insufficient balance":we?"Not available for pickup":B.description})]}),x===B.id&&n.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-red-500 rounded-full"})]})},B.id)})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 sm:mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Order Summary"}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Order Type: ",T==="delivery"?"Home Delivery":"Self Pickup"]}),T==="delivery"&&n.jsxs("p",{children:["Address: ",M]}),n.jsxs("p",{children:["Items: ",m.reduce((B,J)=>B+J.quantity,0)]}),n.jsxs("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Total: ",oe().toFixed(2)]})]})]}),x==="card"&&n.jsxs("div",{className:"space-y-4 mb-4 sm:mb-6",children:[n.jsx("input",{type:"text",placeholder:"Card Number",value:_.number,onChange:B=>{const J=cE(B.target.value);A(ge=>({...ge,number:J}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:19}),_.number&&!$d(_.number)&&n.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 16-digit card number"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[n.jsx("input",{type:"text",placeholder:"MM/YY",value:_.expiry,onChange:B=>{const J=dE(B.target.value);A(ge=>({...ge,expiry:J}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:5}),n.jsx("input",{type:"text",placeholder:"CVV",value:_.cvv,onChange:B=>{const J=uE(B.target.value);A(ge=>({...ge,cvv:J}))},className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",maxLength:3})]}),_.expiry&&!qd(_.expiry)&&n.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid expiry date (MM/YY)"}),_.cvv&&!zd(_.cvv)&&n.jsx("p",{className:"text-red-500 text-sm",children:"Please enter a valid 3-digit CVV"}),n.jsx("input",{type:"text",placeholder:"Cardholder Name",value:_.name,onChange:B=>A(J=>({...J,name:B.target.value})),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"})]}),x==="netbanking"&&n.jsx("div",{className:"space-y-4 mb-4 sm:mb-6",children:n.jsxs("select",{className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base",children:[n.jsx("option",{value:"",children:"Select your bank"}),n.jsx("option",{value:"sbi",children:"State Bank of India"}),n.jsx("option",{value:"hdfc",children:"HDFC Bank"}),n.jsx("option",{value:"icici",children:"ICICI Bank"}),n.jsx("option",{value:"axis",children:"Axis Bank"}),n.jsx("option",{value:"kotak",children:"Kotak Mahindra Bank"})]})}),x==="upi"&&n.jsxs("div",{className:"space-y-4 mb-4 sm:mb-6",children:[n.jsx("input",{type:"text",placeholder:"Enter UPI ID (example@upi)",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 text-base"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Or scan QR code"}),n.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gray-200 rounded-lg mx-auto flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-xs sm:text-sm",children:"QR Code"})})]})]}),x==="wallet"&&n.jsx("div",{className:"bg-green-50 p-4 rounded-lg mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ki,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-900 text-sm sm:text-base",children:"Payment via Tabuloo Wallet"}),n.jsxs("p",{className:"text-xs sm:text-sm text-green-700",children:["",oe().toFixed(2)," will be deducted from your wallet"]})]})]})}),x==="cod"&&n.jsx("div",{className:"bg-orange-50 p-4 rounded-lg mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Mp,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-orange-900 text-sm sm:text-base",children:"Cash on Delivery"}),n.jsxs("p",{className:"text-xs sm:text-sm text-orange-700",children:["Pay ",oe().toFixed(2)," when your order is delivered"]})]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{onClick:()=>w(T==="delivery"?"address":"checkout"),className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Back"}),n.jsxs("button",{onClick:Me,className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white py-3 px-4 rounded-lg hover:from-green-700 hover:to-green-800 font-medium text-base",children:["Place Order - ",oe().toFixed(2)]})]})]}),N==="confirmation"&&n.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Qa,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),n.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Order Placed Successfully!"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Your order has been confirmed. You'll receive notifications about the order status and delivery updates."}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6 text-left",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Order Details"}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Order Type: ",T==="delivery"?"Home Delivery":"Self Pickup"]}),n.jsxs("p",{children:["Items: ",m.reduce((B,J)=>B+J.quantity,0)]}),n.jsxs("p",{children:["Total Paid: ",oe().toFixed(2)]}),n.jsx("p",{children:"Status: Order Confirmed"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>{y([]),w("restaurants")},className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-4 rounded-lg hover:from-red-900 hover:to-red-950 font-medium text-base",children:"Order More Food"}),n.jsx("button",{onClick:e,className:"w-full text-gray-600 py-3 px-4 rounded-lg hover:bg-gray-50 font-medium text-base",children:"Close"})]})]})]})}):null},gE=({isOpen:t,onClose:e})=>{const[s,r]=E.useState([{id:"1",text:"Hi!  I'm your Tabuloo Support Assistant. I can help you with anything related to our platform - from booking tables and ordering food to event planning and general inquiries. What can I help you with today?",sender:"bot",timestamp:new Date}]),[i,a]=E.useState(""),[o,l]=E.useState(!1),c=E.useRef(null),d=E.useRef(null),h=()=>{var N;(N=c.current)==null||N.scrollIntoView({behavior:"smooth"})};E.useEffect(()=>{h()},[s]),E.useEffect(()=>{t&&d.current&&d.current.focus()},[t]);const f=async()=>{if(!i.trim())return;const N={id:Date.now().toString(),text:i.trim(),sender:"user",timestamp:new Date};r(w=>[...w,N]),a(""),l(!0),setTimeout(()=>{const w=m(i.trim()),T={id:(Date.now()+1).toString(),text:w,sender:"bot",timestamp:new Date};r(v=>[...v,T]),l(!1)},1e3)},m=N=>{const w=N.toLowerCase();return w.includes("what is tabuloo")||w.includes("about tabuloo")||w.includes("platform")?`Tabuloo is your comprehensive dining and event planning platform! 

We offer:
 Table reservations at top restaurants
 Food delivery and pickup
 Event planning and venue booking
 Premium dining experiences
 Multiple payment options

We connect food lovers with the best dining experiences!`:w.includes("table")||w.includes("reservation")||w.includes("book table")?`Table booking is super easy! 

Here's how:
1. Click 'Book Table' on any restaurant
2. Choose your date and time
3. Select number of guests
4. Enter contact details
5. Make advance payment (20%)
6. Get instant confirmation

Need help with a specific booking?`:w.includes("food")||w.includes("order")||w.includes("delivery")||w.includes("pickup")?`Food ordering made simple! 

Options available:
 Home delivery
 Restaurant pickup
 Express delivery
 Scheduled orders

Process:
1. Browse restaurant menus
2. Add items to cart
3. Choose delivery/pickup
4. Enter address & payment
5. Track your order

What type of food are you looking for?`:w.includes("event")||w.includes("party")||w.includes("celebration")?`Event planning is our specialty! 

We help with:
 Birthday parties
 Corporate events
 Weddings & receptions
 Anniversaries
 Business meetings

Features:
 Venue selection
 Capacity planning
 Catering options
 Decoration services
 Payment plans

What type of event are you planning?`:w.includes("payment")||w.includes("pay")||w.includes("money")||w.includes("")||w.includes("wallet")?`We offer multiple payment options! 

Payment methods:
 Tabuloo Wallet
 Credit/Debit cards
 UPI
 Net banking
 Cash on delivery/arrival

For bookings:
 20% advance payment required
 Remaining on service day

For food orders:
 Full payment upfront
 Multiple payment options

Need help with a specific payment?`:w.includes("restaurant")||w.includes("venue")||w.includes("place")||w.includes("food place")?`We have amazing restaurants! 

Restaurant types:
 Fine dining
 Casual restaurants
 Hotels & resorts
 Cafes & bistros

Features:
 Real-time availability
 Customer reviews
 Photos & menus
 Location & directions
 Opening hours

Looking for a specific cuisine or area?`:w.includes("account")||w.includes("profile")||w.includes("login")||w.includes("sign up")?`Account management is simple! 

Features:
 Quick OTP-based login
 Profile management
 Order history
 Booking history
 Wallet management
 Address book

Login options:
 Public users (food ordering)
 Restaurant owners
 Admin users
 Delivery partners

Need help with your account?`:w.includes("contact")||w.includes("support")||w.includes("help")||w.includes("phone")||w.includes("email")?`We're here to help! 

Contact options:
 Phone: +91 9100933477
 Email: support@tabuloo.com
 Live chat (right here!)
 In-app support

Support hours:
 24/7 online support
 Phone: 9 AM - 9 PM
 Emergency: Always available

What specific help do you need?`:w.includes("problem")||w.includes("issue")||w.includes("error")||w.includes("not working")||w.includes("bug")?`Sorry to hear you're having issues! 

Let's troubleshoot:
 What exactly isn't working?
 Which page/feature?
 What error message?
 Browser/device details?

Quick fixes:
 Refresh the page
 Clear browser cache
 Check internet connection
 Try different browser

Can you describe the issue in detail?`:w.includes("price")||w.includes("cost")||w.includes("fee")||w.includes("charges")?`Our pricing is transparent! 

Table booking:
 Restaurant base price per person
 20% advance payment
 No hidden charges

Food delivery:
 Menu prices + delivery fee
 Free delivery on orders above 200
 No service charges

Event planning:
 Venue cost + 50% surcharge
 20% advance payment
 Transparent pricing

Need specific pricing details?`:w.includes("cancel")||w.includes("refund")||w.includes("change")||w.includes("modify")?`Cancellation policies are fair! 

Table bookings:
 24+ hours: Full refund
 12-24 hours: 50% refund
 Less than 12 hours: No refund

Food orders:
 Before preparation: Full refund
 During preparation: 50% refund
 After dispatch: No refund

Event bookings:
 48+ hours: Full refund
 24-48 hours: 50% refund
 Less than 24 hours: No refund

Need to modify a booking?`:`I'm here to help with anything Tabuloo-related! 

You can ask me about:
 Platform features and services
 How to use different features
 Payment and pricing
 Restaurant information
 Event planning
 Account management
 Technical support
 Contact information

What would you like to know more about?`},y=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),f())};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md h-[600px] flex flex-col shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-red-800 to-red-900 text-white rounded-t-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tE,{className:"h-5 w-5"}),n.jsx("h3",{className:"font-semibold",children:"Tabuloo Support"})]}),n.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 p-1",children:n.jsx(Rt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s.map(N=>n.jsx("div",{className:`flex ${N.sender==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${N.sender==="user"?"bg-red-600 text-white":"bg-gray-100 text-gray-800"}`,children:n.jsxs("div",{className:"flex items-start space-x-2",children:[N.sender==="bot"&&n.jsx(Sw,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm whitespace-pre-line",children:N.text}),n.jsx("p",{className:`text-xs mt-1 ${N.sender==="user"?"text-red-100":"text-gray-500"}`,children:N.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),N.sender==="user"&&n.jsx(hs,{className:"h-4 w-4 text-red-100 mt-0.5 flex-shrink-0"})]})})},N.id)),o&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Sw,{className:"h-4 w-4 text-red-600"}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),n.jsx("div",{ref:c})]}),n.jsx("div",{className:"p-4 border-t",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{ref:d,type:"text",value:i,onChange:N=>a(N.target.value),onKeyPress:y,placeholder:"Ask me anything about Tabuloo...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),n.jsx("button",{onClick:f,disabled:!i.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:n.jsx(z9,{className:"h-4 w-4"})})]})})]})}):null},eO=()=>{var A;const{user:t,logout:e}=$t(),{getTotalItems:s}=fc(),r=bs(),[i,a]=E.useState(!1),[o,l]=E.useState(!1),[c,d]=E.useState(!1),[h,f]=E.useState(!1),[m,y]=E.useState("public_user"),[N,w]=E.useState(!1),[T,v]=E.useState(!1),x=M=>{y(M),d(!0),w(!1)},g=()=>{e(),D.success("Logout successful!"),w(!1)},_=[{id:"book-table",title:"Book Table",icon:pt,color:"text-red-800 hover:text-red-900",action:()=>{a(!0),w(!1)}},{id:"order-food",title:"Order Food",icon:_s,color:"text-red-800 hover:text-red-900",action:()=>{l(!0),w(!1)}},{id:"event-planning",title:"Event Planning",icon:Bh,color:"text-red-800 hover:text-red-900",action:()=>{r("/event-planning"),w(!1)}},{id:"support",title:"Get Help",icon:tE,color:"text-red-800 hover:text-red-900",action:()=>{v(!0),w(!1)}}];return n.jsx(n.Fragment,{children:n.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex justify-between items-center h-16 gap-4",children:[n.jsx("div",{className:"flex items-center flex-shrink-0",children:n.jsxs("div",{className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>r("/"),children:[n.jsx("img",{src:"/tabuloo-logo.png",alt:"Tabuloo",className:"h-10 w-auto mr-2 sm:h-12 sm:mr-3"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-800 mr-1 sm:mr-2"}),n.jsx("span",{className:"text-lg sm:text-xl font-black bg-gradient-to-r from-red-800 to-red-900 bg-clip-text text-transparent tracking-wide",children:"TABULOO"})]})]})}),n.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[t&&t.role==="public_user"&&n.jsx("div",{className:"flex items-center space-x-3",children:_.map(M=>{const C=M.icon;return n.jsxs("button",{onClick:M.action,className:`flex items-center space-x-2 px-2 py-2 rounded-lg transition-all hover:bg-red-50 ${M.color} text-xs lg:text-sm`,children:[n.jsx(C,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium hidden lg:inline",children:M.title})]},M.id)})}),t?n.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[t.role==="public_user"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>r("/cart"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(J9,{}),n.jsx("span",{className:"text-sm font-medium",children:"Cart"})]}),n.jsxs("button",{onClick:()=>r("/profile"),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(hs,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Profile"})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:"text-sm text-gray-700 font-medium",children:t.name})}),n.jsxs("button",{onClick:g,className:"flex items-center space-x-1 text-gray-600 hover:text-red-800 transition-colors p-2 rounded-lg hover:bg-red-50",children:[n.jsx(Op,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Logout"})]})]}):n.jsx("div",{className:"hidden md:flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>f(!0),className:"p-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"Delivery Boy Login",children:n.jsx($i,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>x("admin"),className:"p-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"Admin Login",children:n.jsx(Bl,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>x("restaurant_owner"),className:"p-2 text-gray-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"Restaurant Owner Login",children:n.jsx(Bd,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>x("public_user"),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-6 py-2 rounded-full hover:from-red-900 hover:to-red-950 transition-all font-medium",children:"Sign In"})]})})]}),n.jsx("button",{onClick:()=>w(!N),className:"md:hidden p-2 text-gray-700 hover:text-red-800",children:N?n.jsx(Rt,{className:"h-6 w-6"}):n.jsx(F9,{className:"h-6 w-6"})})]}),N&&n.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white border-t border-gray-200 shadow-lg",children:n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Quick Actions"}),_.map(M=>n.jsxs("button",{onClick:()=>{M.action(),w(!1)},className:"w-full flex items-center space-x-3 p-3 text-left rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(M.icon,{className:`h-5 w-5 ${M.color}`}),n.jsx("span",{className:"text-gray-700",children:M.title})]},M.title))]}),t?n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),n.jsxs("div",{className:"flex items-center space-x-3 p-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-red-800 font-semibold",children:((A=t.name)==null?void 0:A.charAt(0).toUpperCase())||"U"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-gray-900 font-medium",children:t.name||"User"}),n.jsx("p",{className:"text-sm text-gray-500",children:t.role})]})]}),t.role==="public_user"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{r("/cart"),w(!1)},className:"w-full text-left p-3 text-gray-700 hover:bg-gray-50 rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(_s,{className:"h-5 w-5 mr-3"}),n.jsx("span",{children:"Cart"})]}),s()>0&&n.jsx("span",{className:"bg-red-800 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s()})]}),n.jsx("button",{onClick:()=>{r("/profile"),w(!1)},className:"w-full text-left p-3 text-gray-700 hover:bg-gray-50 rounded-lg",children:"Profile"})]}),n.jsx("button",{onClick:()=>{g(),w(!1)},className:"w-full text-left p-3 text-gray-700 hover:bg-gray-50 rounded-lg",children:"Logout"})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{onClick:()=>{f(!0),w(!1)},className:"p-3 text-center rounded-lg border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-colors",children:[n.jsx($i,{className:"h-6 w-6 mx-auto mb-1 text-gray-600"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Delivery"})]}),n.jsxs("button",{onClick:()=>{x("admin"),w(!1)},className:"p-3 text-center rounded-lg border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-colors",children:[n.jsx(Bl,{className:"h-6 w-6 mx-auto mb-1 text-gray-600"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Admin"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{onClick:()=>{x("restaurant_owner"),w(!1)},className:"p-3 text-center rounded-lg border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-colors",children:[n.jsx(Bd,{className:"h-6 w-6 mx-auto mb-1 text-gray-600"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Restaurant"})]}),n.jsxs("button",{onClick:()=>{x("public_user"),w(!1)},className:"p-3 text-center rounded-lg bg-gradient-to-r from-red-800 to-red-900 text-white hover:from-red-900 hover:to-red-950 transition-colors",children:[n.jsx(hs,{className:"h-6 w-6 mx-auto mb-1"}),n.jsx("span",{className:"text-xs",children:"Sign In"})]})]})]})]})}),t&&i&&n.jsx(fE,{isOpen:i,onClose:()=>a(!1)}),t&&o&&n.jsx(pE,{isOpen:o,onClose:()=>l(!1)}),c&&n.jsx(Y9,{isOpen:c,onClose:()=>d(!1),authType:m}),h&&n.jsx(X9,{isOpen:h,onClose:()=>f(!1)}),n.jsx(gE,{isOpen:T,onClose:()=>v(!1)})]})})})},tO=()=>{const t=new Date().getFullYear(),e=bs(),s=r=>{e(r),window.scrollTo({top:0,behavior:"smooth"})};return n.jsx("footer",{className:"bg-gray-900 text-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("img",{src:"/tabuloo-logo.png",alt:"Tabuloo",className:"h-8 w-auto mr-3"}),n.jsx("span",{className:"text-xl font-bold",children:"TABULOO"})]}),n.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"Revolutionizing the dining experience by connecting food lovers with exceptional restaurants. Book tables, order food, and coordinate events seamlessly."}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("a",{href:"https://www.linkedin.com/in/tabuloo-ind-128991378?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"LinkedIn",children:[n.jsx("span",{className:"sr-only",children:"LinkedIn"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})]}),n.jsxs("a",{href:"https://www.facebook.com/share/14HXqDbsibT/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Facebook",children:[n.jsx("span",{className:"sr-only",children:"Facebook"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]}),n.jsxs("a",{href:"https://www.instagram.com/__tabuloo__official__?igsh=MTBoY3oxN3pvdDIxZg==",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Instagram",children:[n.jsx("span",{className:"sr-only",children:"Instagram"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})]}),n.jsxs("a",{href:"https://chat.whatsapp.com/GqT2sx2oC7gLCgOLR6kipX?mode=ac_t",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"WhatsApp",children:[n.jsx("span",{className:"sr-only",children:"WhatsApp"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.87 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/about-us"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"About Us"})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/contact-us"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"Contact Us"})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/refund-policy"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"Refund Policy"})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/shipping-policy"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"Shipping Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Partner with Us"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Legal"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/privacy-policy"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>s("/terms-conditions"),className:"text-gray-300 hover:text-white transition-colors text-left w-full",children:"Terms & Conditions"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Cookie Policy"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Data Protection"})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fe,{className:"h-5 w-5 text-red-400 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Address"}),n.jsx("p",{className:"text-gray-300",children:"6-237-98-79, Devalam Extation, Madanapalle, Madanapalle, Chittoor- 517325, Andhra Pradesh"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(pc,{className:"h-5 w-5 text-red-400 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),n.jsx("p",{className:"text-gray-300",children:"support@tabuloo.com"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Cr,{className:"h-5 w-5 text-red-400 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),n.jsx("p",{className:"text-gray-300",children:"+91 9100933477"})]})]})]})}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:n.jsxs("p",{className:"text-gray-400",children:[" ",t," Tabuloo Technologies Pvt. Ltd. All rights reserved."]})})]})})},sO=()=>{const t=on(),e=bs(),{user:s}=$t(),r=[{key:"home",label:"Home",path:"/",icon:n.jsx(sE,{className:"h-5 w-5"})},{key:"explore",label:"Explore",path:"/event-planning",icon:n.jsx(Ud,{className:"h-5 w-5"})},{key:"cart",label:"Cart",path:"/cart",icon:n.jsx(_s,{className:"h-5 w-5"})},{key:"profile",label:"Profile",path:"/profile",icon:n.jsx(hs,{className:"h-5 w-5"})}];return n.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40",children:n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"bg-red-800 pb-safe",children:n.jsx("ul",{className:"grid grid-cols-4 py-2",children:r.map(i=>{const a=t.pathname===i.path;return n.jsx("li",{children:n.jsxs("button",{"aria-label":i.label,className:`flex flex-col items-center justify-center w-full py-1.5 text-xs transition-colors ${a?"text-white":"text-white/90"}`,onClick:()=>{const o=i.key==="cart"||i.key==="profile";e(o&&!s?"/auth":i.path)},children:[n.jsx("span",{className:"mb-0.5 ",children:i.icon}),n.jsx("span",{className:"font-semibold",children:i.label})]})},i.key)})})})})})},rO=()=>n.jsx("div",{className:"min-h-screen bg-red-800 flex items-center justify-center",children:n.jsx("div",{className:"w-24 h-24 rounded-full bg-white shadow-xl ring-2 ring-white/60 flex items-center justify-center animate-pulse-slow",children:n.jsx("img",{src:"/tabuloo-logo.png",alt:"Tabuloo",className:"h-16 w-16 object-contain rounded-full"})})}),nO=()=>{const[t,e]=E.useState("public_user"),[s,r]=E.useState(!1),i=[{id:"admin",title:"Admin",description:"Manage restaurants and platform",icon:Bl,color:"bg-red-500"},{id:"restaurant_owner",title:"Restaurant Owner",description:"Manage your restaurant",icon:Bd,color:"bg-green-500"},{id:"public_user",title:"Customer",description:"Book tables and order food",icon:Jn,color:"bg-blue-500"}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:n.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen",children:[n.jsx("div",{className:"lg:w-1/2 bg-gradient-to-br from-blue-600 to-indigo-700 p-8 flex flex-col justify-center",children:n.jsxs("div",{className:"max-w-md mx-auto text-white",children:[n.jsxs("div",{className:"flex items-center mb-8",children:[n.jsx(Fe,{className:"h-12 w-12 text-white"}),n.jsx("span",{className:"ml-3 text-4xl font-bold",children:"Tabuloo"})]}),n.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your Gateway to Amazing Dining Experiences"}),n.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Connect restaurants, owners, and customers in one seamless platform."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),n.jsx("span",{children:"Book tables instantly"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),n.jsx("span",{children:"Order food for delivery or pickup"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),n.jsx("span",{children:"Organize events seamlessly"})]})]})]})}),n.jsx("div",{className:"lg:w-1/2 p-8 flex flex-col justify-center",children:n.jsxs("div",{className:"max-w-md mx-auto w-full",children:[!s&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Select Role"}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.map(a=>{const o=a.icon;return n.jsx("button",{onClick:()=>e(a.id),className:`p-4 rounded-lg border-2 transition-all ${t===a.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`p-2 rounded-lg ${a.color} mr-3`,children:n.jsx(o,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:a.title}),n.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]})},a.id)})})]}),s&&t==="public_user"?n.jsx(mE,{onSwitchToLogin:()=>r(!1),onRegisterSuccess:()=>{}}):n.jsx(hE,{role:t,onSwitchToRegister:t==="public_user"?()=>r(!0):void 0,onLoginSuccess:()=>{}})]})})]})})},xE=E.createContext({});function iO(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const c0=typeof window<"u",aO=c0?E.useLayoutEffect:E.useEffect,u0=E.createContext(null);function d0(t,e){t.indexOf(e)===-1&&t.push(e)}function h0(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const rn=(t,e,s)=>s>e?e:s<t?t:s;let m0=()=>{};const nn={},yE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function vE(t){return typeof t=="object"&&t!==null}const bE=t=>/^0[^.\s]+$/u.test(t);function f0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Us=t=>t,oO=(t,e)=>s=>e(t(s)),xc=(...t)=>t.reduce(oO),$l=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r};class p0{constructor(){this.subscriptions=[]}add(e){return d0(this.subscriptions,e),()=>h0(this.subscriptions,e)}notify(e,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nr=t=>t*1e3,jr=t=>t/1e3;function wE(t,e){return e?t*(1e3/e):0}const NE=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,lO=1e-7,cO=12;function uO(t,e,s,r,i){let a,o,l=0;do o=e+(s-e)/2,a=NE(o,r,i)-t,a>0?s=o:e=o;while(Math.abs(a)>lO&&++l<cO);return o}function yc(t,e,s,r){if(t===e&&s===r)return Us;const i=a=>uO(a,0,1,t,s);return a=>a===0||a===1?a:NE(i(a),e,r)}const jE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_E=t=>e=>1-t(1-e),TE=yc(.33,1.53,.69,.99),g0=_E(TE),EE=jE(g0),CE=t=>(t*=2)<1?.5*g0(t):.5*(2-Math.pow(2,-10*(t-1))),x0=t=>1-Math.sin(Math.acos(t)),SE=_E(x0),kE=jE(x0),dO=yc(.42,0,1,1),hO=yc(0,0,.58,1),PE=yc(.42,0,.58,1),mO=t=>Array.isArray(t)&&typeof t[0]!="number",IE=t=>Array.isArray(t)&&typeof t[0]=="number",fO={linear:Us,easeIn:dO,easeInOut:PE,easeOut:hO,circIn:x0,circInOut:kE,circOut:SE,backIn:g0,backInOut:EE,backOut:TE,anticipate:CE},pO=t=>typeof t=="string",Iw=t=>{if(IE(t)){m0(t.length===4);const[e,s,r,i]=t;return yc(e,s,r,i)}else if(pO(t))return fO[t];return t},uu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gO(t,e){let s=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(d.schedule(h),t()),h(l)}const d={schedule:(h,f=!1,m=!1)=>{const N=m&&i?s:r;return f&&o.add(h),N.has(h)||N.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,i){a=!0;return}i=!0,[s,r]=[r,s],s.forEach(c),s.clear(),i=!1,a&&(a=!1,d.process(h))}};return d}const xO=40;function AE(t,e){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=uu.reduce((g,_)=>(g[_]=gO(a),g),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:f,preRender:m,render:y,postRender:N}=o,w=()=>{const g=nn.useManualTiming?i.timestamp:performance.now();s=!1,nn.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,xO),1)),i.timestamp=g,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),m.process(i),y.process(i),N.process(i),i.isProcessing=!1,s&&e&&(r=!1,t(w))},T=()=>{s=!0,r=!0,i.isProcessing||t(w)};return{schedule:uu.reduce((g,_)=>{const A=o[_];return g[_]=(M,C=!1,j=!1)=>(s||T(),A.schedule(M,C,j)),g},{}),cancel:g=>{for(let _=0;_<uu.length;_++)o[uu[_]].cancel(g)},state:i,steps:o}}const{schedule:Je,cancel:Zn,state:Ot,steps:Qm}=AE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Us,!0);let Uu;function yO(){Uu=void 0}const ps={now:()=>(Uu===void 0&&ps.set(Ot.isProcessing||nn.useManualTiming?Ot.timestamp:performance.now()),Uu),set:t=>{Uu=t,queueMicrotask(yO)}},RE=t=>e=>typeof e=="string"&&e.startsWith(t),y0=RE("--"),vO=RE("var(--"),v0=t=>vO(t)?bO.test(t.split("/*")[0].trim()):!1,bO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zl={...uo,transform:t=>rn(0,1,t)},du={...uo,default:1},cl=t=>Math.round(t*1e5)/1e5,b0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wO(t){return t==null}const NO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,w0=(t,e)=>s=>!!(typeof s=="string"&&NO.test(s)&&s.startsWith(t)||e&&!wO(s)&&Object.prototype.hasOwnProperty.call(s,e)),DE=(t,e,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(b0);return{[t]:parseFloat(i),[e]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},jO=t=>rn(0,255,t),Ym={...uo,transform:t=>Math.round(jO(t))},Ni={test:w0("rgb","red"),parse:DE("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+Ym.transform(t)+", "+Ym.transform(e)+", "+Ym.transform(s)+", "+cl(zl.transform(r))+")"};function _O(t){let e="",s="",r="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Bp={test:w0("#"),parse:_O,transform:Ni.transform},vc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gn=vc("deg"),_r=vc("%"),fe=vc("px"),TO=vc("vh"),EO=vc("vw"),Aw={..._r,parse:t=>_r.parse(t)/100,transform:t=>_r.transform(t*100)},va={test:w0("hsl","hue"),parse:DE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+_r.transform(cl(e))+", "+_r.transform(cl(s))+", "+cl(zl.transform(r))+")"},yt={test:t=>Ni.test(t)||Bp.test(t)||va.test(t),parse:t=>Ni.test(t)?Ni.parse(t):va.test(t)?va.parse(t):Bp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ni.transform(t):va.transform(t),getAnimatableNone:t=>{const e=yt.parse(t);return e.alpha=0,yt.transform(e)}},CO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SO(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(b0))==null?void 0:e.length)||0)+(((s=t.match(CO))==null?void 0:s.length)||0)>0}const ME="number",OE="color",kO="var",PO="var(",Rw="${}",IO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ql(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(IO,c=>(yt.test(c)?(r.color.push(a),i.push(OE),s.push(yt.parse(c))):c.startsWith(PO)?(r.var.push(a),i.push(kO),s.push(c)):(r.number.push(a),i.push(ME),s.push(parseFloat(c))),++a,Rw)).split(Rw);return{values:s,split:l,indexes:r,types:i}}function VE(t){return ql(t).values}function LE(t){const{split:e,types:s}=ql(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const l=s[o];l===ME?a+=cl(i[o]):l===OE?a+=yt.transform(i[o]):a+=i[o]}return a}}const AO=t=>typeof t=="number"?0:yt.test(t)?yt.getAnimatableNone(t):t;function RO(t){const e=VE(t);return LE(t)(e.map(AO))}const ei={test:SO,parse:VE,createTransformer:LE,getAnimatableNone:RO};function Xm(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function DO({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let i=0,a=0,o=0;if(!e)i=a=o=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;i=Xm(c,l,t+1/3),a=Xm(c,l,t),o=Xm(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Hd(t,e){return s=>s>0?e:t}const tt=(t,e,s)=>t+(e-t)*s,Jm=(t,e,s)=>{const r=t*t,i=s*(e*e-r)+r;return i<0?0:Math.sqrt(i)},MO=[Bp,Ni,va],OO=t=>MO.find(e=>e.test(t));function Dw(t){const e=OO(t);if(!e)return!1;let s=e.parse(t);return e===va&&(s=DO(s)),s}const Mw=(t,e)=>{const s=Dw(t),r=Dw(e);if(!s||!r)return Hd(t,e);const i={...s};return a=>(i.red=Jm(s.red,r.red,a),i.green=Jm(s.green,r.green,a),i.blue=Jm(s.blue,r.blue,a),i.alpha=tt(s.alpha,r.alpha,a),Ni.transform(i))},$p=new Set(["none","hidden"]);function VO(t,e){return $p.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function LO(t,e){return s=>tt(t,e,s)}function N0(t){return typeof t=="number"?LO:typeof t=="string"?v0(t)?Hd:yt.test(t)?Mw:BO:Array.isArray(t)?FE:typeof t=="object"?yt.test(t)?Mw:FO:Hd}function FE(t,e){const s=[...t],r=s.length,i=t.map((a,o)=>N0(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function FO(t,e){const s={...t,...e},r={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(r[i]=N0(t[i])(t[i],e[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function UO(t,e){const s=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],l=t.values[o]??0;s[i]=l,r[a]++}return s}const BO=(t,e)=>{const s=ei.createTransformer(e),r=ql(t),i=ql(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$p.has(t)&&!i.values.length||$p.has(e)&&!r.values.length?VO(t,e):xc(FE(UO(r,i),i.values),s):Hd(t,e)};function UE(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?tt(t,e,s):N0(t)(t,e)}const $O=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>Je.update(e,s),stop:()=>Zn(e),now:()=>Ot.isProcessing?Ot.timestamp:ps.now()}},BE=(t,e,s=10)=>{let r="";const i=Math.max(Math.round(e/s),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Wd=2e4;function j0(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<Wd;)e+=s,r=t.next(e);return e>=Wd?1/0:e}function zO(t,e=100,s){const r=s({...t,keyframes:[0,e]}),i=Math.min(j0(r),Wd);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:jr(i)}}const qO=5;function $E(t,e,s){const r=Math.max(e-qO,0);return wE(s-t(r),e-r)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zm=.001;function HO({duration:t=ct.duration,bounce:e=ct.bounce,velocity:s=ct.velocity,mass:r=ct.mass}){let i,a,o=1-e;o=rn(ct.minDamping,ct.maxDamping,o),t=rn(ct.minDuration,ct.maxDuration,jr(t)),o<1?(i=d=>{const h=d*o,f=h*t,m=h-s,y=zp(d,o),N=Math.exp(-f);return Zm-m/y*N},a=d=>{const f=d*o*t,m=f*s+s,y=Math.pow(o,2)*Math.pow(d,2)*t,N=Math.exp(-f),w=zp(Math.pow(d,2),o);return(-i(d)+Zm>0?-1:1)*((m-y)*N)/w}):(i=d=>{const h=Math.exp(-d*t),f=(d-s)*t+1;return-Zm+h*f},a=d=>{const h=Math.exp(-d*t),f=(s-d)*(t*t);return h*f});const l=5/t,c=GO(i,a,l);if(t=Nr(t),isNaN(c))return{stiffness:ct.stiffness,damping:ct.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const WO=12;function GO(t,e,s){let r=s;for(let i=1;i<WO;i++)r=r-t(r)/e(r);return r}function zp(t,e){return t*Math.sqrt(1-e*e)}const KO=["duration","bounce"],QO=["stiffness","damping","mass"];function Ow(t,e){return e.some(s=>t[s]!==void 0)}function YO(t){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...t};if(!Ow(t,QO)&&Ow(t,KO))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*rn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ct.mass,stiffness:i,damping:a}}else{const s=HO(t);e={...e,...s,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function Gd(t=ct.visualDuration,e=ct.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:h,duration:f,velocity:m,isResolvedFromDuration:y}=YO({...s,velocity:-jr(s.velocity||0)}),N=m||0,w=d/(2*Math.sqrt(c*h)),T=o-a,v=jr(Math.sqrt(c/h)),x=Math.abs(T)<5;r||(r=x?ct.restSpeed.granular:ct.restSpeed.default),i||(i=x?ct.restDelta.granular:ct.restDelta.default);let g;if(w<1){const A=zp(v,w);g=M=>{const C=Math.exp(-w*v*M);return o-C*((N+w*v*T)/A*Math.sin(A*M)+T*Math.cos(A*M))}}else if(w===1)g=A=>o-Math.exp(-v*A)*(T+(N+v*T)*A);else{const A=v*Math.sqrt(w*w-1);g=M=>{const C=Math.exp(-w*v*M),j=Math.min(A*M,300);return o-C*((N+w*v*T)*Math.sinh(j)+A*T*Math.cosh(j))/A}}const _={calculatedDuration:y&&f||null,next:A=>{const M=g(A);if(y)l.done=A>=f;else{let C=A===0?N:0;w<1&&(C=A===0?Nr(N):$E(g,A,M));const j=Math.abs(C)<=r,k=Math.abs(o-M)<=i;l.done=j&&k}return l.value=l.done?o:M,l},toString:()=>{const A=Math.min(j0(_),Wd),M=BE(C=>_.next(A*C).value,A,30);return A+"ms "+M},toTransition:()=>{}};return _}Gd.applyToOptions=t=>{const e=zO(t,100,Gd);return t.ease=e.ease,t.duration=Nr(e.duration),t.type="keyframes",t};function qp({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},y=j=>l!==void 0&&j<l||c!==void 0&&j>c,N=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let w=s*e;const T=f+w,v=o===void 0?T:o(T);v!==T&&(w=v-f);const x=j=>-w*Math.exp(-j/r),g=j=>v+x(j),_=j=>{const k=x(j),I=g(j);m.done=Math.abs(k)<=d,m.value=m.done?v:I};let A,M;const C=j=>{y(m.value)&&(A=j,M=Gd({keyframes:[m.value,N(m.value)],velocity:$E(g,j,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:h}))};return C(0),{calculatedDuration:null,next:j=>{let k=!1;return!M&&A===void 0&&(k=!0,_(j),C(j)),A!==void 0&&j>=A?M.next(j-A):(!k&&_(j),m)}}}function XO(t,e,s){const r=[],i=s||nn.mix||UE,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Us:e;l=xc(c,l)}r.push(l)}return r}function JO(t,e,{clamp:s=!0,ease:r,mixer:i}={}){const a=t.length;if(m0(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=XO(e,r,i),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const m=$l(t[f],t[f+1],h);return l[f](m)};return s?h=>d(rn(t[0],t[a-1],h)):d}function ZO(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const i=$l(0,e,r);t.push(tt(s,1,i))}}function eV(t){const e=[0];return ZO(e,t.length-1),e}function tV(t,e){return t.map(s=>s*e)}function sV(t,e){return t.map(()=>e||PE).splice(0,t.length-1)}function ul({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const i=mO(r)?r.map(Iw):Iw(r),a={done:!1,value:e[0]},o=tV(s&&s.length===e.length?s:eV(e),t),l=JO(o,e,{ease:Array.isArray(i)?i:sV(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const rV=t=>t!==null;function _0(t,{repeat:e,repeatType:s="loop"},r,i=1){const a=t.filter(rV),l=i<0||e&&s!=="loop"&&e%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const nV={decay:qp,inertia:qp,tween:ul,keyframes:ul,spring:Gd};function zE(t){typeof t.type=="string"&&(t.type=nV[t.type])}class T0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const iV=t=>t/100;class E0 extends T0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:s}=this.options;s&&s.updatedAt!==ps.now()&&this.tick(ps.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zE(e);const{type:s=ul,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=s||ul;c!==ul&&typeof l[0]!="number"&&(this.mixKeyframes=xc(iV,UE(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=j0(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:f,repeatType:m,repeatDelay:y,type:N,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let g=this.currentTime,_=r;if(f){const j=Math.min(this.currentTime,i)/l;let k=Math.floor(j),I=j%1;!I&&j>=1&&(I=1),I===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(m==="reverse"?(I=1-I,y&&(I-=y/l)):m==="mirror"&&(_=o)),g=rn(0,1,I)*l}const A=x?{done:!1,value:h[0]}:_.next(g);a&&(A.value=a(A.value));let{done:M}=A;!x&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&N!==qp&&(A.value=_0(h,this.options,T,this.speed)),w&&w(A.value),C&&this.finish(),A}then(e,s){return this.finished.then(e,s)}get duration(){return jr(this.calculatedDuration)}get time(){return jr(this.currentTime)}set time(e){var s;e=Nr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ps.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=jr(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=$O,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ps.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function aV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ji=t=>t*180/Math.PI,Hp=t=>{const e=ji(Math.atan2(t[1],t[0]));return Wp(e)},oV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Hp,rotateZ:Hp,skewX:t=>ji(Math.atan(t[1])),skewY:t=>ji(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Wp=t=>(t=t%360,t<0&&(t+=360),t),Vw=Hp,Lw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Fw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),lV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Lw,scaleY:Fw,scale:t=>(Lw(t)+Fw(t))/2,rotateX:t=>Wp(ji(Math.atan2(t[6],t[5]))),rotateY:t=>Wp(ji(Math.atan2(-t[2],t[0]))),rotateZ:Vw,rotate:Vw,skewX:t=>ji(Math.atan(t[4])),skewY:t=>ji(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Gp(t){return t.includes("scale")?1:0}function Kp(t,e){if(!t||t==="none")return Gp(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=lV,i=s;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=oV,i=l}if(!i)return Gp(e);const a=r[e],o=i[1].split(",").map(uV);return typeof a=="function"?a(o):o[a]}const cV=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return Kp(s,e)};function uV(t){return parseFloat(t.trim())}const ho=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mo=new Set(ho),Uw=t=>t===uo||t===fe,dV=new Set(["x","y","z"]),hV=ho.filter(t=>!dV.has(t));function mV(t){const e=[];return hV.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const Pi={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Kp(e,"x"),y:(t,{transform:e})=>Kp(e,"y")};Pi.translateX=Pi.x;Pi.translateY=Pi.y;const Ii=new Set;let Qp=!1,Yp=!1,Xp=!1;function qE(){if(Yp){const t=Array.from(Ii).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const i=mV(r);i.length&&(s.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yp=!1,Qp=!1,Ii.forEach(t=>t.complete(Xp)),Ii.clear()}function HE(){Ii.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yp=!0)})}function fV(){Xp=!0,HE(),qE(),Xp=!1}class C0{constructor(e,s,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ii.add(this),Qp||(Qp=!0,Je.read(HE),Je.resolveKeyframes(qE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&s){const l=r.readValue(s,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}aV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ii.delete(this)}cancel(){this.state==="scheduled"&&(Ii.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const pV=t=>t.startsWith("--");function gV(t,e,s){pV(e)?t.style.setProperty(e,s):t.style[e]=s}const xV=f0(()=>window.ScrollTimeline!==void 0),yV={};function vV(t,e){const s=f0(t);return()=>yV[e]??s()}const WE=vV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Go=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,Bw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Go([0,.65,.55,1]),circOut:Go([.55,0,1,.45]),backIn:Go([.31,.01,.66,-.59]),backOut:Go([.33,1.53,.69,.99])};function GE(t,e){if(t)return typeof t=="function"?WE()?BE(t,e):"ease-out":IE(t)?Go(t):Array.isArray(t)?t.map(s=>GE(s,e)||Bw.easeOut):Bw[t]}function bV(t,e,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:s};c&&(h.offset=c);const f=GE(l,i);Array.isArray(f)&&(h.easing=f);const m={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),t.animate(h,m)}function KE(t){return typeof t=="function"&&"applyToOptions"in t}function wV({type:t,...e}){return KE(t)&&WE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class NV extends T0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,m0(typeof e.type!="string");const d=wV(e);this.animation=bV(s,r,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=_0(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):gV(s,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,r;const e=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return jr(Number(e))}get time(){return jr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Nr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&xV()?(this.animation.timeline=e,Us):s(this)}}const QE={anticipate:CE,backInOut:EE,circInOut:kE};function jV(t){return t in QE}function _V(t){typeof t.ease=="string"&&jV(t.ease)&&(t.ease=QE[t.ease])}const $w=10;class TV extends NV{constructor(e){_V(e),zE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const l=new E0({...o,autoplay:!1}),c=Nr(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-$w).value,l.sample(c).value,$w),l.stop()}}const zw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ei.test(t)||t==="0")&&!t.startsWith("url("));function EV(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function CV(t,e,s,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=zw(i,e),l=zw(a,e);return!o||!l?!1:EV(t)||(s==="spring"||KE(s))&&r}function Jp(t){t.duration=0,t.type}const SV=new Set(["opacity","clipPath","filter","transform"]),kV=f0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PV(t){var h;const{motionValue:e,name:s,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return kV()&&s&&SV.has(s)&&(s!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const IV=40;class AV extends T0{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...f}){var N;super(),this.stop=()=>{var w,T;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=ps.now();const m={autoplay:e,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:h,...f},y=(h==null?void 0:h.KeyframeResolver)||C0;this.keyframeResolver=new y(l,(w,T,v)=>this.onKeyframesResolved(w,T,m,!v),c,d,h),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,s,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=r;this.resolvedAt=ps.now(),CV(e,a,o,l)||((nn.instantAnimations||!c)&&(h==null||h(_0(e,r,s))),e[0]=e[e.length-1],Jp(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>IV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},y=!d&&PV(m)?new TV({...m,element:m.motionValue.owner.current}):new E0(m);y.finished.then(()=>this.notifyFinished()).catch(Us),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),fV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const RV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DV(t){const e=RV.exec(t);if(!e)return[,];const[,s,r,i]=e;return[`--${s??r}`,i]}function YE(t,e,s=1){const[r,i]=DV(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return yE(o)?parseFloat(o):o}return v0(i)?YE(i,e,s+1):i}function S0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const XE=new Set(["width","height","top","left","right","bottom",...ho]),MV={test:t=>t==="auto",parse:t=>t},JE=t=>e=>e.test(t),ZE=[uo,fe,_r,gn,EO,TO,MV],qw=t=>ZE.find(JE(t));function OV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bE(t):!0}const VV=new Set(["brightness","contrast","saturate","opacity"]);function LV(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(b0)||[];if(!r)return t;const i=s.replace(r,"");let a=VV.has(e)?1:0;return r!==s&&(a*=100),e+"("+a+i+")"}const FV=/\b([a-z-]*)\(.*?\)/gu,Zp={...ei,getAnimatableNone:t=>{const e=t.match(FV);return e?e.map(LV).join(" "):t}},Hw={...uo,transform:Math.round},UV={rotate:gn,rotateX:gn,rotateY:gn,rotateZ:gn,scale:du,scaleX:du,scaleY:du,scaleZ:du,skew:gn,skewX:gn,skewY:gn,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:zl,originX:Aw,originY:Aw,originZ:fe},k0={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe,...UV,zIndex:Hw,fillOpacity:zl,strokeOpacity:zl,numOctaves:Hw},BV={...k0,color:yt,backgroundColor:yt,outlineColor:yt,fill:yt,stroke:yt,borderColor:yt,borderTopColor:yt,borderRightColor:yt,borderBottomColor:yt,borderLeftColor:yt,filter:Zp,WebkitFilter:Zp},eC=t=>BV[t];function tC(t,e){let s=eC(t);return s!==Zp&&(s=ei),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const $V=new Set(["auto","none","0"]);function zV(t,e,s){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!$V.has(a)&&ql(a).values.length&&(i=t[r]),r++}if(i&&s)for(const a of e)t[a]=tC(s,i)}class qV extends C0{constructor(e,s,r,i,a){super(e,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),v0(d))){const h=YE(d,s.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!XE.has(r)||e.length!==2)return;const[i,a]=e,o=qw(i),l=qw(a);if(o!==l)if(Uw(o)&&Uw(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Pi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||OV(e[i]))&&r.push(i);r.length&&zV(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Pi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function HV(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(s==null?void 0:s[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const sC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function WV(t){return vE(t)&&"offsetHeight"in t}const Ww=30,GV=t=>!isNaN(parseFloat(t));class KV{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=ps.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=ps.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=GV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new p0);const r=this.events[e].add(s);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ps.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ww)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Ww);return wE(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xa(t,e){return new KV(t,e)}const{schedule:P0}=AE(queueMicrotask,!1),Ws={x:!1,y:!1};function rC(){return Ws.x||Ws.y}function QV(t){return t==="x"||t==="y"?Ws[t]?null:(Ws[t]=!0,()=>{Ws[t]=!1}):Ws.x||Ws.y?null:(Ws.x=Ws.y=!0,()=>{Ws.x=Ws.y=!1})}function nC(t,e){const s=HV(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[s,i,()=>r.abort()]}function Gw(t){return!(t.pointerType==="touch"||rC())}function YV(t,e,s={}){const[r,i,a]=nC(t,s),o=l=>{if(!Gw(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=f=>{Gw(f)&&(d(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const iC=(t,e)=>e?t===e?!0:iC(t,e.parentElement):!1,I0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JV(t){return XV.has(t.tagName)||t.tabIndex!==-1}const Bu=new WeakSet;function Kw(t){return e=>{e.key==="Enter"&&t(e)}}function ef(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ZV=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=Kw(()=>{if(Bu.has(s))return;ef(s,"down");const i=Kw(()=>{ef(s,"up")}),a=()=>ef(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",a,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Qw(t){return I0(t)&&!rC()}function eL(t,e,s={}){const[r,i,a]=nC(t,s),o=l=>{const c=l.currentTarget;if(!Qw(l))return;Bu.add(c);const d=e(c,l),h=(y,N)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Bu.has(c)&&Bu.delete(c),Qw(y)&&typeof d=="function"&&d(y,{success:N})},f=y=>{h(y,c===window||c===document||s.useGlobalTarget||iC(c,y.target))},m=y=>{h(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),WV(l)&&(l.addEventListener("focus",d=>ZV(d,i)),!JV(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function aC(t){return vE(t)&&"ownerSVGElement"in t}function tL(t){return aC(t)&&t.tagName==="svg"}const Jt=t=>!!(t&&t.getVelocity),sL=[...ZE,yt,ei],rL=t=>sL.find(JE(t)),oC=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nL(t=!0){const e=E.useContext(u0);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=e,a=E.useId();E.useEffect(()=>{if(t)return i(a)},[t]);const o=E.useCallback(()=>t&&r&&r(a),[a,r,t]);return!s&&r?[!1,o]:[!0]}const lC=E.createContext({strict:!1}),Yw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ja={};for(const t in Yw)Ja[t]={isEnabled:e=>Yw[t].some(s=>!!e[s])};function iL(t){for(const e in t)Ja[e]={...Ja[e],...t[e]}}const aL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aL.has(t)}let cC=t=>!Kd(t);function oL(t){typeof t=="function"&&(cC=e=>e.startsWith("on")?!Kd(e):t(e))}try{oL(require("@emotion/is-prop-valid").default)}catch{}function lL(t,e,s){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(cC(i)||s===!0&&Kd(i)||!e&&!Kd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const $h=E.createContext({});function zh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Hl(t){return typeof t=="string"||Array.isArray(t)}const A0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R0=["initial",...A0];function qh(t){return zh(t.animate)||R0.some(e=>Hl(t[e]))}function uC(t){return!!(qh(t)||t.variants)}function cL(t,e){if(qh(t)){const{initial:s,animate:r}=t;return{initial:s===!1||Hl(s)?s:void 0,animate:Hl(r)?r:void 0}}return t.inherit!==!1?e:{}}function uL(t){const{initial:e,animate:s}=cL(t,E.useContext($h));return E.useMemo(()=>({initial:e,animate:s}),[Xw(e),Xw(s)])}function Xw(t){return Array.isArray(t)?t.join(" "):t}const Wl={};function dL(t){for(const e in t)Wl[e]=t[e],y0(e)&&(Wl[e].isCSSVariable=!0)}function dC(t,{layout:e,layoutId:s}){return mo.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Wl[t]||t==="opacity")}const hL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mL=ho.length;function fL(t,e,s){let r="",i=!0;for(let a=0;a<mL;a++){const o=ho[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=sC(l,k0[o]);if(!c){i=!1;const h=hL[o]||o;r+=`${h}(${d}) `}s&&(e[o]=d)}}return r=r.trim(),s?r=s(e,i?"":r):i&&(r="none"),r}function D0(t,e,s){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(mo.has(c)){o=!0;continue}else if(y0(c)){i[c]=d;continue}else{const h=sC(d,k0[c]);c.startsWith("origin")?(l=!0,a[c]=h):r[c]=h}}if(e.transform||(o||s?r.transform=fL(e,t.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=a;r.transformOrigin=`${c} ${d} ${h}`}}const M0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hC(t,e,s){for(const r in e)!Jt(e[r])&&!dC(r,s)&&(t[r]=e[r])}function pL({transformTemplate:t},e){return E.useMemo(()=>{const s=M0();return D0(s,e,t),Object.assign({},s.vars,s.style)},[e])}function gL(t,e){const s=t.style||{},r={};return hC(r,s,t),Object.assign(r,pL(t,e)),r}function xL(t,e){const s={},r=gL(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const yL={offset:"stroke-dashoffset",array:"stroke-dasharray"},vL={offset:"strokeDashoffset",array:"strokeDasharray"};function bL(t,e,s=1,r=0,i=!0){t.pathLength=1;const a=i?yL:vL;t[a.offset]=fe.transform(-r);const o=fe.transform(e),l=fe.transform(s);t[a.array]=`${o} ${l}`}function mC(t,{attrX:e,attrY:s,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,h){if(D0(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m}=t;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),s!==void 0&&(f.y=s),r!==void 0&&(f.scale=r),i!==void 0&&bL(f,i,a,o,!1)}const fC=()=>({...M0(),attrs:{}}),pC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wL(t,e,s,r){const i=E.useMemo(()=>{const a=fC();return mC(a,e,pC(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};hC(a,t.style,t),i.style={...a,...i.style}}return i}const NL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function O0(t){return typeof t!="string"||t.includes("-")?!1:!!(NL.indexOf(t)>-1||/[A-Z]/u.test(t))}function jL(t,e,s,{latestValues:r},i,a=!1){const l=(O0(t)?wL:xL)(e,r,i,t),c=lL(e,typeof t=="string",a),d=t!==E.Fragment?{...c,...l,ref:s}:{},{children:h}=e,f=E.useMemo(()=>Jt(h)?h.get():h,[h]);return E.createElement(t,{...d,children:f})}function Jw(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function V0(t,e,s,r){if(typeof e=="function"){const[i,a]=Jw(r);e=e(s!==void 0?s:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Jw(r);e=e(s!==void 0?s:t.custom,i,a)}return e}function $u(t){return Jt(t)?t.get():t}function _L({scrapeMotionValuesFromProps:t,createRenderState:e},s,r,i){return{latestValues:TL(s,r,i,t),renderState:e()}}function TL(t,e,s,r){const i={},a=r(t,{});for(const m in a)i[m]=$u(a[m]);let{initial:o,animate:l}=t;const c=qh(t),d=uC(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=s?s.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!zh(f)){const m=Array.isArray(f)?f:[f];for(let y=0;y<m.length;y++){const N=V0(t,m[y]);if(N){const{transitionEnd:w,transition:T,...v}=N;for(const x in v){let g=v[x];if(Array.isArray(g)){const _=h?g.length-1:0;g=g[_]}g!==null&&(i[x]=g)}for(const x in w)i[x]=w[x]}}}return i}const gC=t=>(e,s)=>{const r=E.useContext($h),i=E.useContext(u0),a=()=>_L(t,e,r,i);return s?a():iO(a)};function L0(t,e,s){var a;const{style:r}=t,i={};for(const o in r)(Jt(r[o])||e.style&&Jt(e.style[o])||dC(o,t)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const EL=gC({scrapeMotionValuesFromProps:L0,createRenderState:M0});function xC(t,e,s){const r=L0(t,e,s);for(const i in t)if(Jt(t[i])||Jt(e[i])){const a=ho.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const CL=gC({scrapeMotionValuesFromProps:xC,createRenderState:fC}),SL=Symbol.for("motionComponentSymbol");function ba(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kL(t,e,s){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):ba(s)&&(s.current=r))},[e])}const F0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),PL="framerAppearId",yC="data-"+F0(PL),vC=E.createContext({});function IL(t,e,s,r,i){var w,T;const{visualElement:a}=E.useContext($h),o=E.useContext(lC),l=E.useContext(u0),c=E.useContext(oC).reducedMotion,d=E.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,f=E.useContext(vC);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&AL(d.current,s,i,f);const m=E.useRef(!1);E.useInsertionEffect(()=>{h&&m.current&&h.update(s,l)});const y=s[yC],N=E.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,y)));return aO(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),N.current&&h.animationState&&h.animationState.animateChanges())}),E.useEffect(()=>{h&&(!N.current&&h.animationState&&h.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,y)}),N.current=!1),h.enteringChildren=void 0)}),h}function AL(t,e,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:bC(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&ba(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:d})}function bC(t){if(t)return t.options.allowProjection!==!1?t.projection:bC(t.parent)}function tf(t,{forwardMotionProps:e=!1}={},s,r){s&&iL(s);const i=O0(t)?CL:EL;function a(l,c){let d;const h={...E.useContext(oC),...l,layoutId:RL(l)},{isStatic:f}=h,m=uL(l),y=i(l,f);if(!f&&c0){DL();const N=ML(h);d=N.MeasureLayout,m.visualElement=IL(t,y,h,r,N.ProjectionNode)}return n.jsxs($h.Provider,{value:m,children:[d&&m.visualElement?n.jsx(d,{visualElement:m.visualElement,...h}):null,jL(t,l,kL(y,m.visualElement,c),y,f,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=E.forwardRef(a);return o[SL]=t,o}function RL({layoutId:t}){const e=E.useContext(xE).id;return e&&t!==void 0?e+"-"+t:t}function DL(t,e){E.useContext(lC).strict}function ML(t){const{drag:e,layout:s}=Ja;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function OL(t,e){if(typeof Proxy>"u")return tf;const s=new Map,r=(a,o)=>tf(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(s.has(o)||s.set(o,tf(o,void 0,t,e)),s.get(o))})}function wC({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function VL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LL(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function sf(t){return t===void 0||t===1}function eg({scale:t,scaleX:e,scaleY:s}){return!sf(t)||!sf(e)||!sf(s)}function gi(t){return eg(t)||NC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function NC(t){return Zw(t.x)||Zw(t.y)}function Zw(t){return t&&t!=="0%"}function Qd(t,e,s){const r=t-s,i=e*r;return s+i}function e1(t,e,s,r,i){return i!==void 0&&(t=Qd(t,i,r)),Qd(t,s,r)+e}function tg(t,e=0,s=1,r,i){t.min=e1(t.min,e,s,r,i),t.max=e1(t.max,e,s,r,i)}function jC(t,{x:e,y:s}){tg(t.x,e.translate,e.scale,e.originPoint),tg(t.y,s.translate,s.scale,s.originPoint)}const t1=.999999999999,s1=1.0000000000001;function FL(t,e,s,r=!1){const i=s.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Na(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,jC(t,o)),r&&gi(a.latestValues)&&Na(t,a.latestValues))}e.x<s1&&e.x>t1&&(e.x=1),e.y<s1&&e.y>t1&&(e.y=1)}function wa(t,e){t.min=t.min+e,t.max=t.max+e}function r1(t,e,s,r,i=.5){const a=tt(t.min,t.max,i);tg(t,e,s,a,r)}function Na(t,e){r1(t.x,e.x,e.scaleX,e.scale,e.originX),r1(t.y,e.y,e.scaleY,e.scale,e.originY)}function _C(t,e){return wC(LL(t.getBoundingClientRect(),e))}function UL(t,e,s){const r=_C(t,s),{scroll:i}=e;return i&&(wa(r.x,i.offset.x),wa(r.y,i.offset.y)),r}const n1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ja=()=>({x:n1(),y:n1()}),i1=()=>({min:0,max:0}),ht=()=>({x:i1(),y:i1()}),sg={current:null},TC={current:!1};function BL(){if(TC.current=!0,!!c0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sg.current=t.matches;t.addEventListener("change",e),e()}else sg.current=!1}const $L=new WeakMap;function zL(t,e,s){for(const r in e){const i=e[r],a=s[r];if(Jt(i))t.addValue(r,i);else if(Jt(a))t.addValue(r,Xa(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Xa(o!==void 0?o:i,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const a1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qL{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=C0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ps.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Je.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=qh(s),this.isVariantNode=uC(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in f){const y=f[m];c[m]!==void 0&&Jt(y)&&y.set(c[m])}}mount(e){var s;this.current=e,$L.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),TC.current||BL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sg.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Zn(this.notifyUpdate),Zn(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=mo.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ja){const s=Ja[e];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<a1.length;r++){const i=a1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=zL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Xa(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(yE(r)||bE(r))?r=parseFloat(r):!rL(r)&&ei.test(s)&&(r=tC(e,s)),this.setBaseTarget(e,Jt(r)?r.get():r)),Jt(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var a;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=V0(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Jt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new p0),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){P0.render(this.render)}}class EC extends qL{constructor(){super(...arguments),this.KeyframeResolver=qV}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function CC(t,{style:e,vars:s},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,r);for(o in s)a.setProperty(o,s[o])}function HL(t){return window.getComputedStyle(t)}class WL extends EC{constructor(){super(...arguments),this.type="html",this.renderInstance=CC}readValueFromInstance(e,s){var r;if(mo.has(s))return(r=this.projection)!=null&&r.isProjecting?Gp(s):cV(e,s);{const i=HL(e),a=(y0(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return _C(e,s)}build(e,s,r){D0(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return L0(e,s,r)}}const SC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GL(t,e,s,r){CC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(SC.has(i)?i:F0(i),e.attrs[i])}class KL extends EC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(mo.has(s)){const r=eC(s);return r&&r.default||0}return s=SC.has(s)?s:F0(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return xC(e,s,r)}build(e,s,r){mC(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,i){GL(e,s,r,i)}mount(e){this.isSVGTag=pC(e.tagName),super.mount(e)}}const QL=(t,e)=>O0(t)?new KL(e):new WL(e,{allowProjection:t!==E.Fragment});function Da(t,e,s){const r=t.getProps();return V0(r,e,s!==void 0?s:r.custom,t)}const rg=t=>Array.isArray(t);function YL(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Xa(s))}function XL(t){return rg(t)?t[t.length-1]||0:t}function JL(t,e){const s=Da(t,e);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const l=XL(a[o]);YL(t,o,l)}}function ZL(t){return!!(Jt(t)&&t.add)}function ng(t,e){const s=t.getValue("willChange");if(ZL(s))return s.add(e);if(!s&&nn.WillChange){const r=new nn.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function kC(t){return t.props[yC]}const e7=t=>t!==null;function t7(t,{repeat:e,repeatType:s="loop"},r){const i=t.filter(e7),a=e&&s!=="loop"&&e%2===1?0:i.length-1;return i[a]}const s7={type:"spring",stiffness:500,damping:25,restSpeed:10},r7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),n7={type:"keyframes",duration:.8},i7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a7=(t,{keyframes:e})=>e.length>2?n7:mo.has(t)?t.startsWith("scale")?r7(e[1]):s7:i7;function o7({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const U0=(t,e,s,r={},i,a)=>o=>{const l=S0(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Nr(c);const h={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};o7(l)||Object.assign(h,a7(t,h)),h.duration&&(h.duration=Nr(h.duration)),h.repeatDelay&&(h.repeatDelay=Nr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Jp(h),h.delay===0&&(f=!0)),(nn.instantAnimations||nn.skipAnimations)&&(f=!0,Jp(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!a&&e.get()!==void 0){const m=t7(h.keyframes,l);if(m!==void 0){Je.update(()=>{h.onUpdate(m),h.onComplete()});return}}return l.isSync?new E0(h):new AV(h)};function l7({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function PC(t,e,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,t.latestValues[h]??null),m=l[h];if(m===void 0||d&&l7(d,h))continue;const y={delay:s,...S0(a||{},h)},N=f.get();if(N!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===N&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const v=kC(t);if(v){const x=window.MotionHandoffAnimation(v,h,Je);x!==null&&(y.startTime=x,w=!0)}}ng(t,h),f.start(U0(h,f,m,t.shouldReduceMotion&&XE.has(h)?{type:!1}:y,t,w));const T=f.animation;T&&c.push(T)}return o&&Promise.all(c).then(()=>{Je.update(()=>{o&&JL(t,o)})}),c}function IC(t,e,s,r=0,i=1){const a=Array.from(t).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=t.size,l=(o-1)*r;return typeof s=="function"?s(a,o):i===1?a*r:l-a*r}function ig(t,e,s={}){var c;const r=Da(t,e,s.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const a=r?()=>Promise.all(PC(t,r,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=i;return c7(t,e,d,h,f,m,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,h]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>h())}else return Promise.all([a(),o(s.delay)])}function c7(t,e,s=0,r=0,i=0,a=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(ig(c,e,{...o,delay:s+(typeof r=="function"?0:r)+IC(t.variantChildren,c,r,i,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function u7(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>ig(t,a,s));r=Promise.all(i)}else if(typeof e=="string")r=ig(t,e,s);else{const i=typeof e=="function"?Da(t,e,s.custom):e;r=Promise.all(PC(t,i,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}function AC(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const d7=R0.length;function RC(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?RC(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<d7;s++){const r=R0[s],i=t.props[r];(Hl(i)||i===!1)&&(e[r]=i)}return e}const h7=[...A0].reverse(),m7=A0.length;function f7(t){return e=>Promise.all(e.map(({animation:s,options:r})=>u7(t,s,r)))}function p7(t){let e=f7(t),s=o1(),r=!0;const i=c=>(d,h)=>{var m;const f=Da(t,h,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:y,transitionEnd:N,...w}=f;d={...d,...w,...N}}return d};function a(c){e=c(t)}function o(c){const{props:d}=t,h=RC(t.parent)||{},f=[],m=new Set;let y={},N=1/0;for(let T=0;T<m7;T++){const v=h7[T],x=s[v],g=d[v]!==void 0?d[v]:h[v],_=Hl(g),A=v===c?x.isActive:null;A===!1&&(N=T);let M=g===h[v]&&g!==d[v]&&_;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),x.protectedKeys={...y},!x.isActive&&A===null||!g&&!x.prevProp||zh(g)||typeof g=="boolean")continue;const C=g7(x.prevProp,g);let j=C||v===c&&x.isActive&&!M&&_||T>N&&_,k=!1;const I=Array.isArray(g)?g:[g];let V=I.reduce(i(v),{});A===!1&&(V={});const{prevResolvedValues:U={}}=x,R={...U,...V},q=O=>{j=!0,m.has(O)&&(k=!0,m.delete(O)),x.needsAnimating[O]=!0;const L=t.getValue(O);L&&(L.liveStyle=!1)};for(const O in R){const L=V[O],H=U[O];if(y.hasOwnProperty(O))continue;let z=!1;rg(L)&&rg(H)?z=!AC(L,H):z=L!==H,z?L!=null?q(O):m.add(O):L!==void 0&&m.has(O)?q(O):x.protectedKeys[O]=!0}x.prevProp=g,x.prevResolvedValues=V,x.isActive&&(y={...y,...V}),r&&t.blockInitialAnimation&&(j=!1);const X=M&&C;j&&(!X||k)&&f.push(...I.map(O=>{const L={type:v};if(typeof O=="string"&&r&&!X&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,z=Da(H,O);if(H.enteringChildren&&z){const{delayChildren:se}=z.transition||{};L.delay=IC(H.enteringChildren,t,se)}}return{animation:O,options:L}}))}if(m.size){const T={};if(typeof d.initial!="boolean"){const v=Da(t,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(T.transition=v.transition)}m.forEach(v=>{const x=t.getBaseTarget(v),g=t.getValue(v);g&&(g.liveStyle=!0),T[v]=x??null}),f.push({animation:T})}let w=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function l(c,d){var f;if(s[c].isActive===d)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(m=>{var y;return(y=m.animationState)==null?void 0:y.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=o1(),r=!0}}}function g7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AC(e,t):!1}function hi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o1(){return{animate:hi(!0),whileInView:hi(),whileHover:hi(),whileTap:hi(),whileDrag:hi(),whileFocus:hi(),exit:hi()}}class oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class x7 extends oi{constructor(e){super(e),e.animationState||(e.animationState=p7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let y7=0;class v7 extends oi{constructor(){super(...arguments),this.id=y7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const b7={animation:{Feature:x7},exit:{Feature:v7}};function Gl(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function bc(t){return{point:{x:t.pageX,y:t.pageY}}}const w7=t=>e=>I0(e)&&t(e,bc(e));function dl(t,e,s,r){return Gl(t,e,w7(s),r)}const DC=1e-4,N7=1-DC,j7=1+DC,MC=.01,_7=0-MC,T7=0+MC;function ns(t){return t.max-t.min}function E7(t,e,s){return Math.abs(t-e)<=s}function l1(t,e,s,r=.5){t.origin=r,t.originPoint=tt(e.min,e.max,t.origin),t.scale=ns(s)/ns(e),t.translate=tt(s.min,s.max,t.origin)-t.originPoint,(t.scale>=N7&&t.scale<=j7||isNaN(t.scale))&&(t.scale=1),(t.translate>=_7&&t.translate<=T7||isNaN(t.translate))&&(t.translate=0)}function hl(t,e,s,r){l1(t.x,e.x,s.x,r?r.originX:void 0),l1(t.y,e.y,s.y,r?r.originY:void 0)}function c1(t,e,s){t.min=s.min+e.min,t.max=t.min+ns(e)}function C7(t,e,s){c1(t.x,e.x,s.x),c1(t.y,e.y,s.y)}function u1(t,e,s){t.min=e.min-s.min,t.max=t.min+ns(e)}function ml(t,e,s){u1(t.x,e.x,s.x),u1(t.y,e.y,s.y)}function Rs(t){return[t("x"),t("y")]}const OC=({current:t})=>t?t.ownerDocument.defaultView:null,d1=(t,e)=>Math.abs(t-e);function S7(t,e){const s=d1(t.x,e.x),r=d1(t.y,e.y);return Math.sqrt(s**2+r**2)}class VC{constructor(e,s,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=nf(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,N=S7(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!N)return;const{point:w}=m,{timestamp:T}=Ot;this.history.push({...w,timestamp:T});const{onStart:v,onMove:x}=this.handlers;y||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=rf(y,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:N,onSessionEnd:w,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=nf(m.type==="pointercancel"?this.lastMoveEventInfo:rf(y,this.transformPagePoint),this.history);this.startEvent&&N&&N(m,v),w&&w(m,v)},!I0(e))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=bc(e),c=rf(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Ot;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=s;f&&f(e,nf(c,this.history)),this.removeListeners=xc(dl(this.contextWindow,"pointermove",this.handlePointerMove),dl(this.contextWindow,"pointerup",this.handlePointerUp),dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zn(this.updatePoint)}}function rf(t,e){return e?{point:e(t.point)}:t}function h1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nf({point:t},e){return{point:t,delta:h1(t,LC(e)),offset:h1(t,k7(e)),velocity:P7(e,.1)}}function k7(t){return t[0]}function LC(t){return t[t.length-1]}function P7(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const i=LC(t);for(;s>=0&&(r=t[s],!(i.timestamp-r.timestamp>Nr(e)));)s--;if(!r)return{x:0,y:0};const a=jr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function I7(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?tt(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?tt(s,t,r.max):Math.min(t,s)),t}function m1(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function A7(t,{top:e,left:s,bottom:r,right:i}){return{x:m1(t.x,s,i),y:m1(t.y,e,r)}}function f1(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function R7(t,e){return{x:f1(t.x,e.x),y:f1(t.y,e.y)}}function D7(t,e){let s=.5;const r=ns(t),i=ns(e);return i>r?s=$l(e.min,e.max-r,t.min):r>i&&(s=$l(t.min,t.max-i,e.min)),rn(0,1,s)}function M7(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const ag=.35;function O7(t=ag){return t===!1?t=0:t===!0&&(t=ag),{x:p1(t,"left","right"),y:p1(t,"top","bottom")}}function p1(t,e,s){return{min:g1(t,e),max:g1(t,s)}}function g1(t,e){return typeof t=="number"?t:t[e]||0}const V7=new WeakMap;class L7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(bc(f).point)},o=(f,m)=>{const{drag:y,dragPropagation:N,onDragStart:w}=this.getProps();if(y&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QV(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rs(v=>{let x=this.getAxisMotionValue(v).get()||0;if(_r.test(x)){const{projection:g}=this.visualElement;if(g&&g.layout){const _=g.layout.layoutBox[v];_&&(x=ns(_)*(parseFloat(x)/100))}}this.originPoint[v]=x}),w&&Je.postRender(()=>w(f,m)),ng(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:N,onDirectionLock:w,onDrag:T}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:v}=m;if(N&&this.currentDirection===null){this.currentDirection=F7(v),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),T&&T(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Rs(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new VC(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:OC(this.visualElement)})}stop(e,s){const r=e||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Je.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:i}=this.getProps();if(!r||!hu(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=I7(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&ba(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=A7(r.layoutBox,e):this.constraints=!1,this.elastic=O7(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=M7(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!ba(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=UL(r,i.root,this.visualElement.getTransformPagePoint());let o=R7(i.layout.layoutBox,a);if(s){const l=s(VL(o));this.hasMutatedConstraints=!!l,l&&(o=wC(l))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Rs(h=>{if(!hu(h,s,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,N={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(h,N)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return ng(this.visualElement,e),r.start(U0(e,r,0,s,this.visualElement,!1))}stopAnimation(){Rs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rs(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rs(s=>{const{drag:r}=this.getProps();if(!hu(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(e[s]-tt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!ba(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=D7({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rs(o=>{if(!hu(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(tt(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;V7.set(this.visualElement,this);const e=this.visualElement.current,s=dl(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ba(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Je.read(r);const o=Gl(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Rs(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=ag,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function hu(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function F7(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class U7 extends oi{constructor(e){super(e),this.removeGroupControls=Us,this.removeListeners=Us,this.controls=new L7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Us}unmount(){this.removeGroupControls(),this.removeListeners()}}const x1=t=>(e,s)=>{t&&Je.postRender(()=>t(e,s))};class B7 extends oi{constructor(){super(...arguments),this.removePointerDownListener=Us}onPointerDown(e){this.session=new VC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:x1(e),onStart:x1(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Je.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=dl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(fe.test(t))t=parseFloat(t);else return t;const s=y1(t,e.target.x),r=y1(t,e.target.y);return`${s}% ${r}%`}},$7={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,i=ei.parse(t);if(i.length>5)return r;const a=ei.createTransformer(t),o=typeof i[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=tt(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};let af=!1;class z7 extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;dL(q7),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),af&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),zu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,af=!0,i||e.layoutDependency!==s||s===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Je.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),P0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=e;af=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function FC(t){const[e,s]=nL(),r=E.useContext(xE);return n.jsx(z7,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(vC),isPresent:e,safeToRemove:s})}const q7={borderRadius:{...Vo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vo,borderTopRightRadius:Vo,borderBottomLeftRadius:Vo,borderBottomRightRadius:Vo,boxShadow:$7};function H7(t,e,s){const r=Jt(t)?t:Xa(t);return r.start(U0("",r,e,s)),r.animation}const W7=(t,e)=>t.depth-e.depth;class G7{constructor(){this.children=[],this.isDirty=!1}add(e){d0(this.children,e),this.isDirty=!0}remove(e){h0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(W7),this.isDirty=!1,this.children.forEach(e)}}function K7(t,e){const s=ps.now(),r=({timestamp:i})=>{const a=i-s;a>=e&&(Zn(r),t(a-e))};return Je.setup(r,!0),()=>Zn(r)}const UC=["TopLeft","TopRight","BottomLeft","BottomRight"],Q7=UC.length,v1=t=>typeof t=="string"?parseFloat(t):t,b1=t=>typeof t=="number"||fe.test(t);function Y7(t,e,s,r,i,a){i?(t.opacity=tt(0,s.opacity??1,X7(r)),t.opacityExit=tt(e.opacity??1,0,J7(r))):a&&(t.opacity=tt(e.opacity??1,s.opacity??1,r));for(let o=0;o<Q7;o++){const l=`border${UC[o]}Radius`;let c=w1(e,l),d=w1(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||b1(c)===b1(d)?(t[l]=Math.max(tt(v1(c),v1(d),r),0),(_r.test(d)||_r.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=tt(e.rotate||0,s.rotate||0,r))}function w1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const X7=BC(0,.5,SE),J7=BC(.5,.95,Us);function BC(t,e,s){return r=>r<t?0:r>e?1:s($l(t,e,r))}function N1(t,e){t.min=e.min,t.max=e.max}function As(t,e){N1(t.x,e.x),N1(t.y,e.y)}function j1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _1(t,e,s,r,i){return t-=e,t=Qd(t,1/s,r),i!==void 0&&(t=Qd(t,1/i,r)),t}function Z7(t,e=0,s=1,r=.5,i,a=t,o=t){if(_r.test(e)&&(e=parseFloat(e),e=tt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=tt(a.min,a.max,r);t===a&&(l-=e),t.min=_1(t.min,e,s,l,i),t.max=_1(t.max,e,s,l,i)}function T1(t,e,[s,r,i],a,o){Z7(t,e[s],e[r],e[i],e.scale,a,o)}const eF=["x","scaleX","originX"],tF=["y","scaleY","originY"];function E1(t,e,s,r){T1(t.x,e,eF,s?s.x:void 0,r?r.x:void 0),T1(t.y,e,tF,s?s.y:void 0,r?r.y:void 0)}function C1(t){return t.translate===0&&t.scale===1}function $C(t){return C1(t.x)&&C1(t.y)}function S1(t,e){return t.min===e.min&&t.max===e.max}function sF(t,e){return S1(t.x,e.x)&&S1(t.y,e.y)}function k1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zC(t,e){return k1(t.x,e.x)&&k1(t.y,e.y)}function P1(t){return ns(t.x)/ns(t.y)}function I1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rF{constructor(){this.members=[]}add(e){d0(this.members,e),e.scheduleRender()}remove(e){if(h0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nF(t,e,s){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:h,rotateX:f,rotateY:m,skewX:y,skewY:N}=s;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),N&&(r+=`skewY(${N}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const of=["","X","Y","Z"],iF=1e3;let aF=0;function lf(t,e,s,r){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function qC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=kC(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Je,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&qC(r)}function HC({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=aF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cF),this.nodes.forEach(mF),this.nodes.forEach(fF),this.nodes.forEach(uF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new G7)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new p0),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=aC(o)&&!tL(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,f=0;const m=()=>this.root.updateBlockedByResize=!1;Je.read(()=>{f=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,h&&h(),h=K7(m,250),zu.hasAnimatedSinceResize&&(zu.hasAnimatedSinceResize=!1,this.nodes.forEach(D1)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||d.getDefaultTransition()||vF,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=d.getProps(),v=!this.targetLayout||!zC(this.targetLayout,y),x=!f&&m;if(this.options.layoutRoot||this.resumeFrom||x||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...S0(N,"layout"),onPlay:w,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(h,x)}else f||D1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(R1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hF),this.nodes.forEach(oF),this.nodes.forEach(lF)):this.nodes.forEach(R1),this.clearAllSnapshots();const l=ps.now();Ot.delta=rn(0,1e3/60,l-Ot.timestamp),Ot.timestamp=l,Ot.isProcessing=!0,Qm.update.process(Ot),Qm.preRender.process(Ot),Qm.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,P0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dF),this.sharedNodes.forEach(gF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ns(this.snapshot.measuredBox.x)&&!ns(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!$C(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||gi(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),bF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return ht();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(wF))){const{scroll:h}=this.root;h&&(wa(l.x,h.offset.x),wa(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=ht();if(As(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&As(l,o),wa(l.x,f.offset.x),wa(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=ht();As(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Na(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),gi(h.latestValues)&&Na(c,h.latestValues)}return gi(this.latestValues)&&Na(c,this.latestValues),c}removeTransform(o){const l=ht();As(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!gi(d.latestValues))continue;eg(d.latestValues)&&d.updateSnapshot();const h=ht(),f=d.measurePageBox();As(h,f),E1(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return gi(this.latestValues)&&E1(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),ml(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),As(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):As(this.target,this.layout.layoutBox),jC(this.target,this.targetDelta)):As(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),ml(this.relativeTargetOrigin,this.target,y.target),As(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||eg(this.parent.latestValues)||NC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;As(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;FL(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ht());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(j1(this.prevProjectionDelta.x,this.projectionDelta.x),j1(this.prevProjectionDelta.y,this.projectionDelta.y)),hl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!I1(this.projectionDelta.x,this.prevProjectionDelta.x)||!I1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ja(),this.projectionDelta=ja(),this.projectionDeltaWithTransform=ja()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ht(),y=c?c.source:void 0,N=this.layout?this.layout.source:void 0,w=y!==N,T=this.getStack(),v=!T||T.members.length<=1,x=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(yF));this.animationProgress=0;let g;this.mixTargetDelta=_=>{const A=_/1e3;M1(f.x,o.x,A),M1(f.y,o.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ml(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xF(this.relativeTarget,this.relativeTargetOrigin,m,A),g&&sF(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ht()),As(g,this.relativeTarget)),w&&(this.animationValues=h,Y7(h,d,this.latestValues,A,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Zn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{zu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xa(0)),this.currentAnimation=H7(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&WC(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ht();const f=ns(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=ns(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}As(l,c),Na(l,h),hl(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rF),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&lf("z",o,d,this.animationValues);for(let h=0;h<of.length;h++)lf(`rotate${of[h]}`,o,d,this.animationValues),lf(`skew${of[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=$u(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=$u(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!gi(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=nF(this.projectionDeltaWithTransform,this.treeScale,h);c&&(f=c(h,f)),o.transform=f;const{x:m,y}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const N in Wl){if(h[N]===void 0)continue;const{correct:w,applyTo:T,isCSSVariable:v}=Wl[N],x=f==="none"?h[N]:w(h[N],d);if(T){const g=T.length;for(let _=0;_<g;_++)o[T[_]]=x}else v?this.options.visualElement.renderState.vars[N]=x:o[N]=x}this.options.layoutId&&(o.pointerEvents=d===this?$u(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(A1),this.root.sharedNodes.clear()}}}function oF(t){t.updateLayout()}function lF(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Rs(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],y=ns(m);m.min=r[f].min,m.max=m.min+y}):WC(a,e.layoutBox,r)&&Rs(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],y=ns(r[f]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const l=ja();hl(l,r,e.layoutBox);const c=ja();o?hl(c,t.applyTransform(i,!0),e.measuredBox):hl(c,r,e.layoutBox);const d=!$C(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const N=ht();ml(N,e.layoutBox,m.layoutBox);const w=ht();ml(w,r,y.layoutBox),zC(N,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=N,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cF(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dF(t){t.clearSnapshot()}function A1(t){t.clearMeasurements()}function R1(t){t.isLayoutDirty=!1}function hF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function D1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mF(t){t.resolveTargetDelta()}function fF(t){t.calcProjection()}function pF(t){t.resetSkewAndRotation()}function gF(t){t.removeLeadSnapshot()}function M1(t,e,s){t.translate=tt(e.translate,0,s),t.scale=tt(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function O1(t,e,s,r){t.min=tt(e.min,s.min,r),t.max=tt(e.max,s.max,r)}function xF(t,e,s,r){O1(t.x,e.x,s.x,r),O1(t.y,e.y,s.y,r)}function yF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vF={duration:.45,ease:[.4,0,.1,1]},V1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),L1=V1("applewebkit/")&&!V1("chrome/")?Math.round:Us;function F1(t){t.min=L1(t.min),t.max=L1(t.max)}function bF(t){F1(t.x),F1(t.y)}function WC(t,e,s){return t==="position"||t==="preserve-aspect"&&!E7(P1(e),P1(s),.2)}function wF(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const NF=HC({attachResizeListener:(t,e)=>Gl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cf={current:void 0},GC=HC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cf.current){const t=new NF({});t.mount(window),t.setOptions({layoutScroll:!0}),cf.current=t}return cf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jF={pan:{Feature:B7},drag:{Feature:U7,ProjectionNode:GC,MeasureLayout:FC}};function U1(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&Je.postRender(()=>a(e,bc(e)))}class _F extends oi{mount(){const{current:e}=this.node;e&&(this.unmount=YV(e,(s,r)=>(U1(this.node,r,"Start"),i=>U1(this.node,i,"End"))))}unmount(){}}class TF extends oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xc(Gl(this.node.current,"focus",()=>this.onFocus()),Gl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function B1(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&Je.postRender(()=>a(e,bc(e)))}class EF extends oi{mount(){const{current:e}=this.node;e&&(this.unmount=eL(e,(s,r)=>(B1(this.node,r,"Start"),(i,{success:a})=>B1(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const og=new WeakMap,uf=new WeakMap,CF=t=>{const e=og.get(t.target);e&&e(t)},SF=t=>{t.forEach(CF)};function kF({root:t,...e}){const s=t||document;uf.has(s)||uf.set(s,{});const r=uf.get(s),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(SF,{root:t,...e})),r[i]}function PF(t,e,s){const r=kF(e);return og.set(t,s),r.observe(t),()=>{og.delete(t),r.unobserve(t)}}const IF={some:0,all:1};class AF extends oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:IF[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=d?h:f;m&&m(c)};return PF(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(RF(e,s))&&this.startObserver()}unmount(){}}function RF({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const DF={inView:{Feature:AF},tap:{Feature:EF},focus:{Feature:TF},hover:{Feature:_F}},MF={layout:{ProjectionNode:GC,MeasureLayout:FC}},OF={...b7,...DF,...jF,...MF},rs=OL(OF,QL),VF=()=>{const[t,e]=E.useState(!1),s=()=>{e(!t)};return n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:s,className:"fixed bottom-24 md:bottom-6 right-4 md:right-6 w-14 h-14 bg-gradient-to-r from-red-800 to-red-900 text-white rounded-full shadow-lg hover:from-red-900 hover:to-red-950 transition-all duration-300 z-50 flex items-center justify-center group",title:"Get Tabuloo Support",children:[t?n.jsx(Rt,{className:"h-6 w-6"}):n.jsx(Fu,{className:"h-6 w-6"}),!t&&n.jsx("div",{className:"absolute inset-0 rounded-full bg-red-600 animate-ping opacity-75"}),n.jsxs("div",{className:"absolute right-16 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap",children:["Need help? Chat with us!",n.jsx("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 w-0 h-0 border-l-8 border-l-gray-900 border-t-4 border-t-transparent border-b-4 border-b-transparent"})]})]}),n.jsx(gE,{isOpen:t,onClose:()=>e(!1)})]})},$1=()=>{const{user:t,isDefaultUsername:e}=$t(),{restaurants:s,menuItems:r,orders:i}=ir(),{addToCart:a,items:o}=fc(),l=bs(),[c,d]=E.useState(!1),[h,f]=E.useState(!1),[m,y]=E.useState(""),[N,w]=E.useState("all"),[T,v]=E.useState(""),x=[{id:"book-table",title:"Book Table",description:"Reserve your favorite table",icon:pt,color:"bg-red-800",action:()=>d(!0)},{id:"order-food",title:"Order Food",description:"Delivery or pickup options",icon:_s,color:"bg-red-800",action:()=>f(!0)},{id:"event-planning",title:"Event Planning",description:"Find event managers & services",icon:pt,color:"bg-red-800",action:()=>l("/event-planning")}],g=[{icon:pt,title:"Table Reservations",description:"Book your perfect dining experience with just a few clicks",color:"from-red-800 to-red-900"},{icon:_s,title:"Food Delivery",description:"Order delicious meals for delivery or pickup",color:"from-red-800 to-red-900"},{icon:Bh,title:"Event Planning",description:"Organize memorable celebrations and corporate events",color:"from-red-800 to-red-900"},{icon:D9,title:"Premium Dining",description:"Experience world-class cuisine from top restaurants",color:"from-red-800 to-red-900"}],_=i.filter(q=>q.status==="delivered"||q.status==="completed").length,A=new Set(i.map(q=>q.userId)).size,M=[{number:`${s.length}+`,label:"Restaurants",icon:lE},{number:`${A}`,label:"Happy Customers",icon:Jn},{number:`${_}`,label:"Orders Delivered",icon:_s},{number:"4.9",label:"Average Rating",icon:Lp}],j=s.filter(q=>N==="all"||q.type===N).filter(q=>q.isOpen),k=j.slice(0,6),I=r.slice(0,10),V=T.trim().toLowerCase(),U=V?j.filter(q=>{var L,H,z;const X=(L=q.name)==null?void 0:L.toLowerCase().includes(V),F=(H=q.type)==null?void 0:H.toLowerCase().includes(V),O=(z=q.address)==null?void 0:z.toLowerCase().includes(V);return X||F||O}).slice(0,12):k,R=V?r.filter(q=>{var O,L;const X=(O=q.name)==null?void 0:O.toLowerCase().includes(V),F=(L=q.itemCategory)==null?void 0:L.toLowerCase().includes(V);return X||F}).slice(0,20):I;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-100",children:[n.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-gradient-to-br from-red-50 via-white to-red-100 px-4 pt-3 pb-3",children:[n.jsxs("div",{className:"bg-white border rounded-xl shadow-sm px-3 py-2 flex items-center space-x-2",children:[n.jsx(Fe,{className:"h-4 w-4 text-red-800 flex-shrink-0"}),n.jsx("input",{type:"text",placeholder:"Search for restaurants, dishes...",value:T,onChange:q=>v(q.target.value),className:"flex-1 text-sm outline-none placeholder:text-gray-400"}),n.jsx(Pw,{className:"h-4 w-4 text-gray-500"})]}),V&&n.jsxs("div",{className:"mt-2 bg-white border rounded-xl shadow-lg divide-y",children:[n.jsxs("div",{className:"max-h-56 overflow-auto",children:[n.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Places"}),U.slice(0,6).map(q=>n.jsxs("button",{onClick:()=>{y(q.id),f(!0)},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center space-x-3",children:[n.jsx("img",{src:q.images[0],alt:q.name,className:"w-10 h-10 rounded object-cover"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:q.name}),n.jsxs("div",{className:"text-xs text-gray-500 truncate capitalize",children:[q.type,"  ",q.address]})]})]},q.id)),U.length===0&&n.jsx("div",{className:"px-3 py-3 text-sm text-gray-500",children:"No places found"})]}),n.jsxs("div",{className:"max-h-56 overflow-auto",children:[n.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Dishes"}),R.slice(0,8).map(q=>{const X=s.find(F=>F.id===q.restaurantId);return n.jsxs("button",{onClick:()=>{y(q.restaurantId),f(!0)},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center space-x-3",children:[n.jsx("img",{src:q.image,alt:q.name,className:"w-10 h-10 rounded object-cover"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:q.name}),n.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[q.itemCategory,"  ",(X==null?void 0:X.name)||"Unknown"]})]}),n.jsxs("div",{className:"ml-auto text-xs font-semibold text-gray-900",children:["",q.price]})]},q.id)}),R.length===0&&n.jsx("div",{className:"px-3 py-3 text-sm text-gray-500",children:"No dishes found"})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto [-webkit-overflow-scrolling:touch]",children:n.jsx("div",{className:"flex space-x-2 min-w-max",children:["Biryanis","Pizzas","Burgers","Desserts","South Indian","North Indian","Chinese","Healthy"].map(q=>n.jsx("button",{className:"px-3 py-1.5 bg-white border rounded-full text-xs font-medium text-gray-700 whitespace-nowrap shadow-sm",children:q},q))})}),n.jsx("div",{className:"mt-3",children:n.jsx("div",{className:"w-full rounded-xl overflow-hidden",children:n.jsxs("div",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold",children:"Up to 50% OFF"}),n.jsx("div",{className:"text-[11px] opacity-90",children:"On top restaurants near you"})]}),n.jsx("div",{className:"text-xs bg-white/15 px-3 py-1 rounded-full",children:"Use TABULOO50"})]})})})]}),n.jsx("section",{className:"relative overflow-hidden",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[n.jsx(rs.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight",children:t?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-gray-900",children:"Welcome back,"}),n.jsx("br",{}),n.jsxs("span",{className:"bg-gradient-to-r from-red-800 to-red-900 bg-clip-text text-transparent",children:[t.name,"!"]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"bg-gradient-to-r from-red-800 to-red-900 bg-clip-text text-transparent",children:"Discover"}),n.jsx("br",{}),n.jsx("span",{className:"text-gray-900",children:"Amazing Dining"}),n.jsx("br",{}),n.jsx("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent",children:"Experiences"})]})}),n.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mt-4 leading-relaxed",children:t?"Ready for your next amazing dining experience? Explore restaurants, book tables, or order your favorite meals.":"From intimate dinners to grand celebrations, Tabuloo connects you with the finest restaurants, seamless reservations, and unforgettable culinary journeys."}),t&&e(t.name)&&n.jsx(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-yellow-600 text-sm font-semibold",children:"!"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Personalize Your Profile"}),n.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"We've given you a temporary username. Please update your name in your profile to personalize your experience."}),n.jsx("button",{onClick:()=>l("/profile"),className:"inline-flex items-center px-3 py-2 bg-yellow-600 hover:bg-yellow-700 text-white text-sm font-medium rounded-md transition-colors",children:"Update Profile"})]})]})})]})}),n.jsxs(rs.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative",children:[n.jsxs("div",{className:"relative z-10",children:[n.jsx("img",{src:"/tabuloo-logo.png",alt:"Tabuloo",className:"rounded-lg sm:rounded-2xl shadow-2xl"}),n.jsxs("div",{className:"absolute -bottom-4 -left-4 sm:-bottom-6 sm:-left-6 bg-white p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Lp,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 fill-current"}),n.jsx("span",{className:"font-semibold text-sm sm:text-base",children:"4.9 Rating"})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"50,000+ Reviews"})]}),n.jsx("div",{className:"absolute -top-4 -right-4 sm:-top-6 sm:-right-6 bg-gradient-to-r from-red-800 to-red-900 text-white p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"font-bold text-base sm:text-lg",children:[s.length,"+"]}),n.jsx("div",{className:"text-xs sm:text-sm",children:"Restaurants"})]})})]}),n.jsx("div",{className:"absolute top-6 left-6 sm:top-10 sm:left-10 animate-bounce",children:n.jsx("div",{className:"bg-white p-2 sm:p-3 rounded-full shadow-lg",children:n.jsx(pt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-red-800"})})}),n.jsx("div",{className:"absolute bottom-12 right-6 sm:bottom-20 sm:right-10 animate-pulse",children:n.jsx("div",{className:"bg-white p-2 sm:p-3 rounded-full shadow-lg",children:n.jsx(eE,{className:"h-4 w-4 sm:h-6 sm:w-6 text-red-500"})})})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[n.jsxs("section",{className:"mb-8 sm:mb-12",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Quick Actions"}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:x.map(q=>{const X=q.icon;return n.jsxs("button",{onClick:q.action,className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm border hover:shadow-md transition-shadow group",disabled:!t,children:[n.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 ${q.color} rounded-lg flex items-center justify-center mb-2 sm:mb-3 group-hover:scale-110 transition-transform`,children:n.jsx(X,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:q.title}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:q.description}),!t&&n.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Sign in to use this feature"})]},q.id)})})]}),n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pw,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 mr-2"}),n.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700",children:"Filter:"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"All Places"},{value:"restaurant",label:"Restaurants"},{value:"hotel",label:"Hotels"},{value:"resort",label:"Resorts"}].map(q=>n.jsx("button",{onClick:()=>w(q.value),className:`px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors ${N===q.value?"bg-red-800 text-white":"bg-white text-gray-700 hover:bg-gray-50 border"}`,children:q.label},q.value))})]})}),n.jsxs("section",{className:"mb-8 sm:mb-12",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:V?"Search Results  Places":"Featured Places"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:V?"Matching restaurants based on your search":"Discover the best restaurants, hotels, and food places in your area"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[U.length===0&&n.jsxs("div",{className:"col-span-2 text-center text-gray-500 text-sm sm:text-base py-6",children:['No places found for "',T,'".']}),U.map(q=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[n.jsx("img",{src:q.images[0],alt:q.name,className:"w-full h-32 sm:h-40 object-cover rounded-t-lg"}),n.jsxs("div",{className:"p-3 sm:p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1 sm:mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:q.name}),n.jsx("span",{className:`px-1 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ${q.isOpen?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:q.isOpen?"Open":"Closed"})]}),n.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-1 capitalize",children:q.type}),n.jsx("p",{className:"text-gray-500 text-xs mb-2 line-clamp-2",children:q.address}),n.jsxs("div",{className:"flex justify-between items-center space-x-2",children:[n.jsx("button",{onClick:()=>{y(q.id),d(!0)},className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-2 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors flex-1 mr-1",children:"Book Table"}),n.jsx("button",{onClick:()=>{y(q.id),f(!0)},className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-2 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors flex-1",children:"Order Food"})]})]})]},q.id))]})]}),n.jsxs("section",{className:"py-8 sm:py-12 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:V?"Search Results  Dishes":"Popular Menu Items"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:V?"Matching dishes based on your search":"Explore delicious dishes from our partner restaurants"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[R.length===0&&n.jsxs("div",{className:"col-span-2 text-center text-gray-500 text-sm sm:text-base py-6",children:['No dishes found for "',T,'".']}),R.map(q=>{var O;const X=s.find(L=>L.id===q.restaurantId),F=((O=o.find(L=>L.id===q.id))==null?void 0:O.quantity)||0;return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[n.jsx("img",{src:q.image,alt:q.name,className:"w-full h-28 sm:h-36 object-cover rounded-t-lg"}),n.jsxs("div",{className:"p-3 sm:p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-1 sm:mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:q.name}),n.jsxs("p",{className:"text-gray-600 text-xs sm:text-sm",children:[q.itemCategory,"  ",q.quantity]}),X&&n.jsx("p",{className:"text-gray-500 text-xs",children:X.name})]}),n.jsx("span",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0 ml-1 ${q.category==="veg"?"bg-green-500":"bg-red-500"}`})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-sm sm:text-base font-semibold text-gray-900",children:["",q.price]}),t?n.jsxs("button",{onClick:()=>a({id:q.id,name:q.name,price:q.price,image:q.image,restaurantId:q.restaurantId,restaurantName:(X==null?void 0:X.name)||"Unknown Restaurant",category:q.category,itemCategory:q.itemCategory}),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-2 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors flex items-center space-x-1",children:[n.jsx(fs,{className:"h-3 w-3"}),n.jsx("span",{children:F>0?`Add (${F})`:"Add"})]}):n.jsx("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-2 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors",children:"Order"})]})]})]},q.id)})]})]})]}),n.jsx("section",{id:"features",className:"py-8 sm:py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Everything You Need for Perfect Dining"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base max-w-2xl mx-auto",children:"From quick bites to special celebrations, we've got you covered with our comprehensive platform"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:g.map((q,X)=>{const F=q.icon;return n.jsxs(rs.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:X*.1},className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow group",children:[n.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r ${q.color} rounded-lg flex items-center justify-center mb-2 sm:mb-3 group-hover:scale-110 transition-transform`,children:n.jsx(F,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),n.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:q.title}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:q.description}),q.title==="Table Reservations"&&n.jsx("button",{onClick:()=>d(!0),disabled:!t,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white px-3 py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Book Table":"Sign in to Book"}),q.title==="Food Delivery"&&n.jsx("button",{onClick:()=>f(!0),disabled:!t,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white px-3 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Order Food":"Sign in to Order"}),q.title==="Event Planning"&&n.jsx("button",{onClick:()=>l("/event-planning"),className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white px-3 py-1 sm:px-3 sm:py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors",children:"Explore Event Planning"}),q.title==="Premium Dining"&&n.jsx("button",{onClick:()=>d(!0),disabled:!t,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white px-3 py-2 rounded text-xs sm:text-sm hover:from-red-900 hover:to-red-950 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Book Premium":"Sign in to Book"})]},X)})})]})}),n.jsx("section",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white py-12 sm:py-20",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(rs.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[n.jsx("h2",{className:"text-2xl sm:text-4xl font-bold mb-4 sm:mb-6",children:"Ready to Start Your Culinary Journey?"}),n.jsx("p",{className:"text-lg sm:text-xl text-red-100 mb-6 sm:mb-8",children:t?"Explore our amazing features and book your next dining experience!":"Join thousands of food lovers who trust Tabuloo for their dining experiences"})]})})}),n.jsx("section",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white py-12 sm:py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8",children:M.map((q,X)=>{const F=q.icon;return n.jsxs(rs.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:X*.1},className:"text-center",children:[n.jsx(F,{className:"h-6 w-6 sm:h-8 sm:w-8 mx-auto mb-2"}),n.jsx("div",{className:"text-2xl sm:text-3xl font-bold",children:q.number}),n.jsx("div",{className:"text-red-100 text-sm sm:text-base",children:q.label})]},X)})})})}),c&&n.jsx(fE,{isOpen:c,onClose:()=>{d(!1),y("")},selectedRestaurantId:m}),h&&n.jsx(pE,{isOpen:h,onClose:()=>{f(!1),y("")},selectedRestaurantId:m}),n.jsx(VF,{})]})},LF=()=>{const t=bs(),{user:e}=$t(),{items:s,removeFromCart:r,updateQuantity:i,clearCart:a,getTotalPrice:o}=fc(),{addOrder:l}=ir(),[c,d]=E.useState(!1),[h,f]=E.useState(""),[m,y]=E.useState(""),[N,w]=E.useState((e==null?void 0:e.name)||""),[T,v]=E.useState("cod"),[x,g]=E.useState(null),[_,A]=E.useState(!1),[M,C]=E.useState("delivery"),[j,k]=E.useState(!1),I=(X,F)=>{F<=0?r(X):i(X,F)},V=X=>{g(X),f(X.formattedAddress)},U=()=>{if(!navigator.geolocation){D.error("Geolocation is not supported by this browser");return}k(!0),navigator.geolocation.getCurrentPosition(X=>{const F={lat:X.coords.latitude,lng:X.coords.longitude,address:"",formattedAddress:""},O=()=>{k(!1),F.address=`${F.lat.toFixed(6)}, ${F.lng.toFixed(6)}`,F.formattedAddress=F.address,g(F),f(F.formattedAddress),D("Using coordinates as address. You can edit it.")},L=()=>{window.google&&window.google.maps?new window.google.maps.Geocoder().geocode({location:{lat:F.lat,lng:F.lng}},(z,se)=>{k(!1),se==="OK"&&z&&z[0]?(F.address=z[0].formatted_address,F.formattedAddress=z[0].formatted_address,g(F),f(F.formattedAddress),D.success("Current location detected and address filled!")):O()}):O()};!window.google||!window.google.maps?setTimeout(L,800):L()},X=>{switch(k(!1),console.error("Error getting current location:",X),X.code){case X.PERMISSION_DENIED:D.error("Location access denied. Please allow location access in your browser settings.");break;case X.POSITION_UNAVAILABLE:D.error("Location information unavailable. Please try again.");break;case X.TIMEOUT:D.error("Location request timed out. Please try again.");break;default:D.error("Error getting current location. Please try again.")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},R=()=>{g(null),f(""),D.success("Location cleared")},q=async()=>{var X;if(!e){D.error("Please login to checkout");return}if(!N.trim()){D.error("Please enter your name");return}if(M==="delivery"){if(!h.trim()){D.error("Please enter delivery address");return}if(h.trim().length<10){D.error("Please enter a complete delivery address (minimum 10 characters)");return}}if(!m.trim()){D.error("Please enter phone number");return}if(!vt(m)){D.error("Please enter a valid 10-digit Indian phone number");return}d(!0);try{const F={userId:e.id,restaurantId:((X=s[0])==null?void 0:X.restaurantId)||"",items:s.map(O=>({id:O.id,restaurantId:O.restaurantId,category:O.category,name:O.name,itemCategory:O.itemCategory,quantity:O.quantity.toString(),price:O.price,image:O.image,available:!0})),status:T==="cod"?"pending":"confirmed",type:M,total:o(),...M==="delivery"&&{address:h},customerName:N,customerPhone:m,createdAt:new Date,paymentMethod:T==="cod"?"cod":"card",...M==="delivery"&&x&&{location:{lat:x.lat,lng:x.lng}}};T==="cod"?(await l(F),a(),D.success("Order placed successfully! You will pay on delivery."),t("/profile")):await Up.initializePayment(F,e,async O=>{try{(await Up.verifyPayment(O.razorpay_payment_id,O.razorpay_order_id)).success?(await l(F),a(),D.success("Payment successful! Order placed."),t("/profile")):D.error("Payment verification failed. Please contact support.")}catch(L){console.error("Payment verification error:",L),D.error("Payment verification failed. Please contact support.")}},O=>{console.error("Payment error:",O),D.error("Payment failed. Please try again.")})}catch(F){console.error("Checkout error:",F),D.error("Failed to process checkout")}finally{d(!1)}};return s.length===0?n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx(_s,{className:"h-16 w-16 mx-auto"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Add some delicious items to get started!"}),n.jsx("button",{onClick:()=>t("/"),className:"bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors",children:"Continue Shopping"})]})})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 py-4 md:py-8 pb-32 md:pb-8",children:[n.jsxs("div",{className:"max-w-4xl mx-auto px-3 sm:px-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[n.jsxs("button",{onClick:()=>t("/"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors text-sm md:text-base",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Home"]}),n.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Your Cart"}),n.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 transition-colors text-sm md:text-base",children:"Clear Cart"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-4 md:p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-base md:text-lg font-semibold text-gray-900",children:["Order Items (",s.length,")"]})}),n.jsx("div",{className:"divide-y divide-gray-200",children:s.map(X=>n.jsxs("div",{className:"p-4 md:p-6 flex items-start md:items-center space-x-3 md:space-x-4 md:bg-transparent md:border-0 bg-white",children:[n.jsx("img",{src:X.image,alt:X.name,className:"w-16 h-16 md:w-20 md:h-20 object-cover rounded-xl flex-shrink-0 shadow-sm",onError:F=>{F.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0zMiAyMEMyNC4yNjgxIDIwIDE4IDI2LjI2ODEgMTggMzRDMjAgMzQgMjIgMzUuMzQzMSAyMiAzOEMyMiA0MC42NTY5IDIwLjY1NjkgNDIgMTggNDJIMTZDMjQuMjY4MSA0MiAzMiAzNC4yNjgxIDMyIDI2VjIwWiIgZmlsbD0iI0QxRDVEM0EiLz4KPC9zdmc+"}}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between md:block",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-[15px] md:text-lg line-clamp-1",children:X.name}),n.jsxs("span",{className:"md:hidden inline-block px-2 py-0.5 text-[10px] rounded-full bg-gray-100 text-gray-700 ml-2",children:["",X.price]})]}),n.jsxs("div",{className:"flex items-center space-x-2 mt-0.5 md:mt-0",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${X.category==="veg"?"bg-green-600":"bg-red-600"}`}),n.jsx("p",{className:"text-[11px] md:text-sm text-gray-600 line-clamp-1",children:X.restaurantName})]}),n.jsx("p",{className:"text-[11px] md:text-sm text-gray-500",children:X.itemCategory}),n.jsxs("div",{className:"mt-2 flex items-center justify-between md:hidden",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>I(X.id,X.quantity-1),className:"p-2 rounded-full bg-gray-100 active:scale-95 shadow-sm",children:n.jsx(Vp,{className:"h-4 w-4"})}),n.jsx("span",{className:"w-8 text-center font-medium",children:X.quantity}),n.jsx("button",{onClick:()=>I(X.id,X.quantity+1),className:"p-2 rounded-full bg-gray-100 active:scale-95 shadow-sm",children:n.jsx(fs,{className:"h-4 w-4"})})]}),n.jsxs("p",{className:"font-semibold text-gray-900",children:["",X.price*X.quantity]})]})]}),n.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>I(X.id,X.quantity-1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx(Vp,{className:"h-4 w-4"})}),n.jsx("span",{className:"w-12 text-center font-medium text-lg",children:X.quantity}),n.jsx("button",{onClick:()=>I(X.id,X.quantity+1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx(fs,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"hidden md:block text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-lg",children:["",X.price*X.quantity]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["",X.price," each"]})]}),n.jsx("button",{onClick:()=>r(X.id),className:"text-red-600 hover:text-red-800 p-2 rounded-full hover:bg-red-50 transition-colors","aria-label":"Remove item",children:n.jsx(gc,{className:"h-5 w-5"})})]},X.id))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Km,{className:"h-5 w-5 mr-2 text-red-600"}),"Order Type"]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("button",{onClick:()=>C("pickup"),className:`p-4 md:p-6 border-2 rounded-xl transition-all group ${M==="pickup"?"border-red-500 bg-red-50 shadow-sm":"border-gray-200 hover:border-red-300"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx(Km,{className:`h-7 w-7 md:h-8 md:w-8 mx-auto mb-2 md:mb-3 group-hover:scale-110 transition-transform ${M==="pickup"?"text-red-600":"text-gray-600"}`}),n.jsx("h4",{className:"text-sm md:text-base font-semibold text-gray-900 mb-1",children:"Self Pickup"}),n.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"Pick up from the restaurant"}),n.jsx("p",{className:"text-[11px] text-green-600 mt-1",children:"No delivery charge"})]})}),n.jsx("button",{onClick:()=>C("delivery"),className:`p-4 md:p-6 border-2 rounded-xl transition-all group ${M==="delivery"?"border-red-500 bg-red-50 shadow-sm":"border-gray-200 hover:border-red-300"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx($i,{className:`h-7 w-7 md:h-8 md:w-8 mx-auto mb-2 md:mb-3 group-hover:scale-110 transition-transform ${M==="delivery"?"text-red-600":"text-gray-600"}`}),n.jsx("h4",{className:"text-sm md:text-base font-semibold text-gray-900 mb-1",children:"Home Delivery"}),n.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"Delivered to your doorstep"}),n.jsx("p",{className:"text-[11px] text-orange-600 mt-1",children:"Delivery charges apply"})]})})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(sE,{className:"h-5 w-5 mr-2 text-red-600"}),M==="delivery"?"Delivery Details":"Pickup Details"]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(hs,{className:"h-4 w-4 mr-2"}),"Full Name"]}),n.jsx("input",{type:"text",value:N,onChange:X=>w(X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Phone Number"]}),n.jsx("input",{type:"tel",value:m,onChange:X=>{const F=Ya(X.target.value);y(F)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter 10-digit phone number",maxLength:10}),m&&!vt(m)&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid 10-digit Indian phone number"})]})]}),M==="delivery"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Delivery Address"]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:[" ",n.jsx("strong",{children:"Quick Setup:"})," Click the button below to automatically detect your current location and fill in the address"]}),n.jsx("button",{type:"button",onClick:U,disabled:j,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:j?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Detecting Location..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"h-4 w-4"}),n.jsx("span",{children:"Use Current Location"})]})})]}),n.jsx("textarea",{value:h,onChange:X=>f(X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:3,placeholder:"Enter your delivery address or use current location above"}),x&&n.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(Fe,{className:"h-4 w-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:" Current Location Detected:"}),n.jsx("p",{className:"text-sm text-green-800",children:x.formattedAddress}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Coordinates: ",x.lat.toFixed(6),", ",x.lng.toFixed(6)]})]})]}),n.jsx("button",{onClick:R,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50 transition-colors",title:"Clear location",children:n.jsx(Rt,{className:"h-4 w-4"})})]})})]}),n.jsxs("button",{onClick:()=>A(!_),className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[n.jsx(Fe,{className:"h-4 w-4 mr-2"}),_?"Hide Map":"Show Map & Pick Location"]})]}):n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Km,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Self Pickup Selected"}),n.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"You can pick up your order from the restaurant. No delivery address needed."})]})]})})})]}),M==="delivery"&&_&&n.jsx("div",{className:"mt-6 border border-gray-200 rounded-lg p-4 bg-gray-50",children:n.jsx(l0,{onLocationSelect:V,placeholder:"Search for your delivery address..."})}),M==="delivery"&&x&&n.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Fe,{className:"h-5 w-5 text-green-600 mr-3 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:" Selected Location:"}),n.jsx("p",{className:"text-sm text-green-800 mt-1",children:x.formattedAddress})]})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Payment Method"})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("label",{className:"flex items-center p-4 border-2 border-gray-200 rounded-lg hover:border-red-300 cursor-pointer transition-colors",children:[n.jsx("input",{type:"radio",value:"cod",checked:T==="cod",onChange:X=>v(X.target.value),className:"mr-3"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Xn,{className:"h-5 w-5 text-green-600 mr-3"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Cash on Delivery"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pay when you receive your order"})]})]})]}),n.jsxs("label",{className:"flex items-center p-4 border-2 border-gray-200 rounded-lg hover:border-red-300 cursor-pointer transition-colors",children:[n.jsx("input",{type:"radio",value:"razorpay",checked:T==="razorpay",onChange:X=>v(X.target.value),className:"mr-3"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ul,{className:"h-5 w-5 text-blue-600 mr-3"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Pay Online"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Secure payment via Razorpay"})]})]})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-4 md:p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Order Summary"})}),n.jsxs("div",{className:"p-4 md:p-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:"font-medium",children:["",o()]})]}),M==="delivery"&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),n.jsx("span",{className:"font-medium",children:"40"})]}),n.jsx("div",{className:"border-t pt-3",children:n.jsxs("div",{className:"flex justify-between font-semibold text-xl",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["",M==="delivery"?o()+40:o()]})]})})]}),n.jsx("button",{onClick:q,disabled:c,className:"w-full bg-red-800 text-white py-3 md:py-4 rounded-lg font-semibold text-base md:text-lg hover:bg-red-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-4 md:mt-6",children:c?"Processing...":`Place ${M==="delivery"?"Order":"Pickup"} (${M==="delivery"?o()+40:o()})`})]})]})]})]}),n.jsx("div",{className:"md:hidden fixed bottom-24 left-0 right-0 z-30",children:n.jsx("div",{className:"mx-auto max-w-4xl px-3",children:n.jsxs("div",{className:"bg-white border rounded-xl shadow-lg p-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500",children:"Total"}),n.jsxs("div",{className:"text-lg font-semibold",children:["",M==="delivery"?o()+40:o()]})]}),n.jsx("button",{onClick:q,disabled:c,className:"bg-red-800 text-white px-4 py-2 rounded-lg font-semibold text-sm disabled:opacity-50",children:c?"Processing...":"Checkout"})]})})})]})},FF=()=>{const{restaurants:t,orders:e,bookings:s,addRestaurant:r,updateRestaurant:i,deleteRestaurant:a}=ir(),[o,l]=E.useState(!1),[c,d]=E.useState(!1),[h,f]=E.useState(!1),[m,y]=E.useState(null),[N,w]=E.useState(null),[T,v]=E.useState(null),[x,g]=E.useState(!1),[_,A]=E.useState({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"}),M=F=>{if(F.preventDefault(),!_.name.trim()){D.error("Restaurant name is required");return}if(!_.address.trim()){D.error("Restaurant address is required");return}if(!_.capacity||parseInt(_.capacity)<=0){D.error("Please enter a valid food serving capacity");return}if(!_.crowdCapacity||parseInt(_.crowdCapacity)<=0){D.error("Please enter a valid crowd capacity");return}if(!_.ownerUsername.trim()){D.error("Owner username is required");return}if(!_.ownerPassword.trim()||_.ownerPassword.length<6){D.error("Owner password must be at least 6 characters long");return}const O={name:_.name.trim(),type:_.type,address:_.address.trim(),capacity:parseInt(_.capacity),crowdCapacity:parseInt(_.crowdCapacity),images:_.images?_.images.split(",").map(L=>L.trim()).filter(L=>L):[],price:0,ownerCredentials:{username:_.ownerUsername.trim(),password:_.ownerPassword},isOpen:!0,timings:_.timings||"9:00 AM - 11:00 PM"};r(O).then(()=>{l(!1),A({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"}),D.success("Restaurant added successfully! Owner account has been created.")}).catch(L=>{console.error("Error adding restaurant:",L),D.error("Failed to add restaurant. Please try again.")})},C=F=>{y(F),A({name:F.name,type:F.type,address:F.address,capacity:F.capacity.toString(),crowdCapacity:F.crowdCapacity.toString(),images:F.images.join(", "),price:(F.price??0).toString(),ownerUsername:F.ownerCredentials.username,ownerPassword:F.ownerCredentials.password,timings:F.timings}),d(!0)},j=F=>{w(F),f(!0)},k=()=>{N&&(a(N.id),f(!1),w(null),D.success("Place deleted successfully!"))},I=()=>{f(!1),w(null)},V=F=>{if(F.preventDefault(),!m)return;const O={...m,name:_.name,type:_.type,address:_.address,capacity:parseInt(_.capacity),crowdCapacity:parseInt(_.crowdCapacity),images:_.images.split(",").map(L=>L.trim()),price:m.price??0,ownerCredentials:{username:_.ownerUsername,password:_.ownerPassword},timings:_.timings};i(O).then(()=>{d(!1),y(null),A({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"})}).catch(L=>{console.error("Error updating restaurant:",L)})},U=()=>{d(!1),y(null),A({name:"",type:"restaurant",address:"",capacity:"",crowdCapacity:"",images:"",price:"",ownerUsername:"",ownerPassword:"",timings:"9:00 AM - 11:00 PM"})},R=(F,O)=>{const L=new Date;let H;switch(O){case"today":H=new Date(L),H.setHours(0,0,0,0);break;case"month":H=new Date(L.getFullYear(),L.getMonth(),1);break;case"year":H=new Date(L.getFullYear(),0,1);break;default:H=new Date(L),H.setHours(0,0,0,0)}const z=e.filter(ue=>ue.restaurantId===F&&ue.createdAt&&new Date(ue.createdAt)>=H),se=s.filter(ue=>ue.restaurantId===F&&ue.createdAt&&new Date(ue.createdAt)>=H),oe=z.reduce((ue,Ee)=>ue+Ee.total,0),pe=se.reduce((ue,Ee)=>ue+Ee.amount,0);return{total:oe+pe,orders:oe,bookings:pe,orderCount:z.length,bookingCount:se.length}},q=F=>{const O=new Date;let L;switch(F){case"today":L=new Date(O),L.setHours(0,0,0,0);break;case"month":L=new Date(O.getFullYear(),O.getMonth(),1);break;case"year":L=new Date(O.getFullYear(),0,1);break;default:L=new Date(O),L.setHours(0,0,0,0)}const H=e.filter(pe=>pe.createdAt&&new Date(pe.createdAt)>=L),z=s.filter(pe=>pe.createdAt&&new Date(pe.createdAt)>=L),se=H.reduce((pe,ue)=>pe+ue.total,0),oe=z.reduce((pe,ue)=>pe+ue.amount,0);return{total:se+oe,orders:se,bookings:oe,orderCount:H.length,bookingCount:z.length}},X=F=>{v(F),g(!0)};return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Tabuloo Admin Dashboard"}),n.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Manage restaurant partnerships and create owner accounts"})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:n.jsx(Jn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Customers"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:"1,234"})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:n.jsx(Bd,{className:"h-4 w-4 sm:h-6 sm:w-6 text-green-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Partner Restaurants"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:t.length})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-lg",children:n.jsx(Fe,{className:"h-4 w-4 sm:h-6 sm:w-6 text-purple-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Active Partners"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:t.filter(F=>F.isOpen).length})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg",children:n.jsx(Xn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Today's Revenue"}),n.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600",children:["",q("today").total.toFixed(2)]})]})]})})]}),n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg sm:rounded-xl shadow-sm mb-6 sm:mb-8",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:n.jsx(ZT,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Platform Revenue Overview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total revenue across all partner restaurants"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg border border-green-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Today's Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:["",q("today").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[q("today").orderCount+q("today").bookingCount," transactions"]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[n.jsxs("p",{children:["Orders: ",q("today").orderCount]}),n.jsxs("p",{children:["Bookings: ",q("today").bookingCount]})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-blue-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Monthly Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:["",q("month").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[q("month").orderCount+q("month").bookingCount," transactions"]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[n.jsxs("p",{children:["Orders: ",q("month").orderCount]}),n.jsxs("p",{children:["Bookings: ",q("month").bookingCount]})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-purple-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Annual Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-purple-600",children:["",q("year").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[q("year").orderCount+q("year").bookingCount," transactions"]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[n.jsxs("p",{children:["Orders: ",q("year").orderCount]}),n.jsxs("p",{children:["Bookings: ",q("year").bookingCount]})]})]})})]})]})}),n.jsx("div",{className:"mb-4 sm:mb-6",children:n.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all flex items-center justify-center space-x-3 text-base sm:text-lg font-semibold shadow-lg",children:[n.jsx(fs,{className:"h-5 w-5 sm:h-6 sm:w-6"}),n.jsx("span",{children:"Add New Restaurant & Create Owner Account"})]})}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Add New Restaurant & Create Owner Account"}),n.jsxs("form",{onSubmit:M,className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Restaurant Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:_.name,onChange:F=>A(O=>({...O,name:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter restaurant name"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the official name of the restaurant"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Restaurant Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:_.type,onChange:F=>A(O=>({...O,type:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"restaurant",children:"Restaurant"}),n.jsx("option",{value:"hotel",children:"Hotel"}),n.jsx("option",{value:"resort",children:"Resort"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the type of establishment"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Restaurant Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{required:!0,value:_.address,onChange:F=>A(O=>({...O,address:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:3,placeholder:"Enter complete restaurant address"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Include street address, city, and state"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Food Serving Capacity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",required:!0,min:"1",value:_.capacity,onChange:F=>A(O=>({...O,capacity:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Number of people"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum number of people that can be served food"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Crowd Capacity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",required:!0,min:"1",value:_.crowdCapacity,onChange:F=>A(O=>({...O,crowdCapacity:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Maximum crowd capacity"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total capacity for events and gatherings"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Images (comma separated URLs)"}),n.jsx("input",{type:"text",value:_.images,onChange:F=>A(O=>({...O,images:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://image1.jpg, https://image2.jpg"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add image URLs separated by commas"})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),n.jsx("input",{type:"text",value:_.timings,onChange:F=>A(O=>({...O,timings:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 9:00 AM - 11:00 PM"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Standard operating hours (optional)"})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Restaurant Owner Account"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will create login credentials for the restaurant owner to manage their restaurant."}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Username ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:_.ownerUsername,onChange:F=>A(O=>({...O,ownerUsername:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter username for login"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be the login username for the restaurant owner"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"password",required:!0,minLength:6,value:_.ownerPassword,onChange:F=>A(O=>({...O,ownerPassword:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter password for login"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters. Owner can change this later."})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Create Restaurant & Owner Account"})]})]})]})}),c&&m&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Edit Restaurant & Owner Account"}),n.jsx("button",{onClick:U,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),n.jsxs("form",{onSubmit:V,className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Name"}),n.jsx("input",{type:"text",required:!0,value:_.name,onChange:F=>A(O=>({...O,name:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter restaurant name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Type"}),n.jsxs("select",{value:_.type,onChange:F=>A(O=>({...O,type:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"restaurant",children:"Restaurant"}),n.jsx("option",{value:"hotel",children:"Hotel"}),n.jsx("option",{value:"resort",children:"Resort"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Address"}),n.jsx("textarea",{required:!0,value:_.address,onChange:F=>A(O=>({...O,address:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:3,placeholder:"Enter complete restaurant address"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Food Serving Capacity"}),n.jsx("input",{type:"number",required:!0,value:_.capacity,onChange:F=>A(O=>({...O,capacity:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Number of people"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crowd Capacity"}),n.jsx("input",{type:"number",required:!0,value:_.crowdCapacity,onChange:F=>A(O=>({...O,crowdCapacity:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Maximum crowd capacity"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Images (comma separated URLs)"}),n.jsx("input",{type:"text",value:_.images,onChange:F=>A(O=>({...O,images:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://image1.jpg, https://image2.jpg"})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),n.jsx("input",{type:"text",value:_.timings,onChange:F=>A(O=>({...O,timings:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 9:00 AM - 11:00 PM"})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Restaurant Owner Account"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Update the login credentials for the restaurant owner."}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Username"}),n.jsx("input",{type:"text",required:!0,value:_.ownerUsername,onChange:F=>A(O=>({...O,ownerUsername:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Username for login"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be the login username for the restaurant owner"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Password"}),n.jsx("input",{type:"password",required:!0,value:_.ownerPassword,onChange:F=>A(O=>({...O,ownerPassword:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Password for login"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters. Owner can change this later."})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Update Restaurant & Owner Account"})]})]})]})}),h&&N&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-full mr-3 sm:mr-4",children:n.jsx(JT,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Delete Place"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"This action cannot be undone"})]})]}),n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsxs("p",{className:"text-sm sm:text-base text-gray-700",children:["Are you sure you want to delete ",n.jsx("strong",{children:N.name}),"?"]}),n.jsx("p",{className:"text-xs sm:text-sm text-red-600 mt-2",children:"This will also delete all associated menu items, orders, and bookings."})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{onClick:I,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),n.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Delete Place"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[n.jsx("div",{className:"p-4 sm:p-6 border-b",children:n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Partner Restaurants"})}),n.jsx("div",{className:"p-4 sm:p-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6",children:t.map(F=>n.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[F.images[0]&&n.jsx("img",{src:F.images[0],alt:F.name,className:"w-full h-24 sm:h-32 object-cover rounded-lg mb-2 sm:mb-3"}),n.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base mb-1",children:F.name}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2",children:F.type}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2 line-clamp-2",children:F.address}),n.jsxs("p",{className:"text-xs sm:text-sm font-medium text-green-600 mb-2 sm:mb-3",children:["",F.price,"/person"]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Today"}),n.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["",R(F.id,"today").total.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Month"}),n.jsxs("p",{className:"text-sm font-semibold text-blue-600",children:["",R(F.id,"month").total.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Year"}),n.jsxs("p",{className:"text-sm font-semibold text-purple-600",children:["",R(F.id,"year").total.toFixed(2)]})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:`px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${F.isOpen?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:F.isOpen?"Open":"Closed"}),n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsx("button",{onClick:()=>X(F),className:"p-1 text-green-600 hover:text-green-800",title:"View revenue details",children:n.jsx(aE,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),n.jsx("button",{onClick:()=>C(F),className:"p-1 text-blue-600 hover:text-blue-800",title:"Edit restaurant",children:n.jsx(iE,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),n.jsx("button",{onClick:()=>j(F),className:"p-1 text-red-600 hover:text-red-800",title:"Delete restaurant",children:n.jsx(gc,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})]})]},F.id))})})]}),x&&T&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Revenue Details - ",T.name]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive revenue breakdown and analytics"})]}),n.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Rt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Today's Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",R(T.id,"today").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[R(T.id,"today").orderCount+R(T.id,"today").bookingCount," transactions"]})]})}),n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Monthly Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",R(T.id,"month").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[R(T.id,"month").orderCount+R(T.id,"month").bookingCount," transactions"]})]})}),n.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Annual Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",R(T.id,"year").total.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[R(T.id,"year").orderCount+R(T.id,"year").bookingCount," transactions"]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Xn,{className:"h-5 w-5 text-blue-600 mr-2"}),"Orders Revenue"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Today:"}),n.jsxs("span",{className:"font-semibold text-green-600",children:["",R(T.id,"today").orders.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"This Month:"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["",R(T.id,"month").orders.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"This Year:"}),n.jsxs("span",{className:"font-semibold text-purple-600",children:["",R(T.id,"year").orders.toFixed(2)]})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Orders:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:R(T.id,"year").orderCount})]})})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(pt,{className:"h-5 w-5 text-purple-600 mr-2"}),"Bookings Revenue"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Today:"}),n.jsxs("span",{className:"font-semibold text-green-600",children:["",R(T.id,"today").bookings.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"This Month:"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["",R(T.id,"month").bookings.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"This Year:"}),n.jsxs("span",{className:"font-semibold text-purple-600",children:["",R(T.id,"year").bookings.toFixed(2)]})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Bookings:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:R(T.id,"year").bookingCount})]})})]})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Restaurant Information"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600",children:["Type: ",n.jsx("span",{className:"font-medium text-gray-900",children:T.type})]}),n.jsxs("p",{className:"text-gray-600",children:["Status: ",n.jsx("span",{className:`font-medium ${T.isOpen?"text-green-600":"text-red-600"}`,children:T.isOpen?"Open":"Closed"})]}),n.jsxs("p",{className:"text-gray-600",children:["Food Capacity: ",n.jsxs("span",{className:"font-medium text-gray-900",children:[T.capacity," people"]})]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600",children:["Crowd Capacity: ",n.jsxs("span",{className:"font-medium text-gray-900",children:[T.crowdCapacity," people"]})]}),n.jsxs("p",{className:"text-gray-600",children:["Avg Price: ",n.jsxs("span",{className:"font-medium text-gray-900",children:["",T.price,"/person"]})]}),n.jsxs("p",{className:"text-gray-600",children:["Timings: ",n.jsx("span",{className:"font-medium text-gray-900",children:T.timings})]})]})]})]}),n.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t border-gray-200",children:n.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})]})})},B0=t=>{try{if(!t)return null;if(typeof(t==null?void 0:t.toDate)=="function"){const s=t.toDate();return isNaN(s)?null:s}if(typeof t=="object"&&(t.seconds||t._seconds)){const s=(t.seconds??t._seconds)*1e3,r=new Date(s);return isNaN(r.getTime())?null:r}const e=new Date(t);return isNaN(e.getTime())?null:e}catch{return null}},df=t=>{const e=new Date,s=B0(t)||new Date;if(s.toDateString()===e.toDateString())return"Today";const r=new Date(e);return r.setDate(r.getDate()-1),s.toDateString()===r.toDateString()?"Yesterday":s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},hf=t=>{const e=new Date,s=B0(t)||new Date;if(s.toDateString()===e.toDateString())return"Today";const r=new Date(e);return r.setDate(r.getDate()-1),s.toDateString()===r.toDateString()?"Yesterday":s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},mu=t=>{const e=B0(t);return e?e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"-"},z1=()=>{const{user:t,changeRestaurantOwnerPassword:e}=$t(),{restaurants:s,menuItems:r,orders:i,bookings:a,addMenuItem:o,updateMenuItem:l,updateOrderStatus:c,updateBookingStatus:d,updateRestaurantStatus:h,updateMenuItemAvailability:f,deleteMenuItem:m,submitRestaurantRegistration:y}=ir(),[N,w]=E.useState(!1),[T,v]=E.useState(!1),[x,g]=E.useState(!1),[_,A]=E.useState(null),[M,C]=E.useState(null),[j,k]=E.useState("orders"),[I,V]=E.useState(!1),[U,R]=E.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[q,X]=E.useState({current:!1,new:!1,confirm:!1}),[F,O]=E.useState(new Set),[L,H]=E.useState(new Set),[z,se]=E.useState({restaurantName:"",restaurantType:"",foodServingCapacity:0,crowdCapacity:0,averagePricePerPerson:0,operatingHours:"",ownerEmail:"",ownerPhone:"",restaurantAddress:"",restaurantImages:[]}),[oe,pe]=E.useState(!1),[ue,Ee]=E.useState({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""}),Ve=s.find(P=>P.id===(t==null?void 0:t.restaurantId)),Ye=r.filter(P=>P.restaurantId===(t==null?void 0:t.restaurantId)),Me=i.filter(P=>P.restaurantId===(t==null?void 0:t.restaurantId)),Be=a.filter(P=>P.restaurantId===(t==null?void 0:t.restaurantId)),kt=P=>{if(P.preventDefault(),!ue.name||!ue.itemCategory||!ue.quantity||!ue.price){D.error("Please fill in all required fields");return}if(!(t!=null&&t.restaurantId))return;const G={restaurantId:t.restaurantId,category:ue.category,name:ue.name,itemCategory:ue.itemCategory,quantity:ue.quantity,price:parseFloat(ue.price),image:ue.image||"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",available:!0};o(G),w(!1),Ee({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""})},ar=P=>{A(P),Ee({category:P.category,name:P.name,itemCategory:P.itemCategory,quantity:P.quantity,price:P.price.toString(),image:P.image}),v(!0)},re=P=>{C(P),g(!0)},Q=()=>{M&&(m(M.id),g(!1),C(null),D.success("Menu item deleted successfully!"))},B=()=>{g(!1),C(null)},J=P=>{if(P.preventDefault(),!_)return;const G={..._,category:ue.category,name:ue.name,itemCategory:ue.itemCategory,quantity:ue.quantity,price:parseFloat(ue.price),image:ue.image||_.image};l(G),v(!1),A(null),Ee({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""}),D.success("Menu item updated successfully!")},ge=()=>{v(!1),A(null),Ee({category:"veg",name:"",itemCategory:"",quantity:"",price:"",image:""})},we=(P,G)=>{O(ee=>new Set(ee).add(P)),c(P,G).then(()=>{H(ee=>new Set(ee).add(P)),D.success(`Order status updated to ${G}!`),setTimeout(()=>{H(ee=>{const ie=new Set(ee);return ie.delete(P),ie})},3e3)}).catch(ee=>{console.error("Error updating order status:",ee),D.error("Failed to update order status")}).finally(()=>{O(ee=>{const ie=new Set(ee);return ie.delete(P),ie})})},gt=(P,G)=>{O(ee=>new Set(ee).add(P)),d(P,G).then(()=>{H(ee=>new Set(ee).add(P)),D.success(`Booking status updated to ${G}!`),setTimeout(()=>{H(ee=>{const ie=new Set(ee);return ie.delete(P),ie})},3e3)}).catch(ee=>{console.error("Error updating booking status:",ee),D.error("Failed to update booking status")}).finally(()=>{O(ee=>{const ie=new Set(ee);return ie.delete(P),ie})})},ln=()=>{Ve&&h(Ve.id,!Ve.isOpen).catch(P=>{console.error("Error updating restaurant status:",P)})},_e=["pastry","ice cream","tiffin","biryani","fried rice","curry","appetizer","main course","dessert","beverage","pizza","burger","sandwich"],it=async P=>{if(P.preventDefault(),U.newPassword!==U.confirmPassword){D.error("New passwords do not match");return}if(U.newPassword.length<6){D.error("New password must be at least 6 characters long");return}try{await e(U.newPassword),V(!1),R({currentPassword:"",newPassword:"",confirmPassword:""}),X({current:!1,new:!1,confirm:!1})}catch(G){console.error("Error changing password:",G)}},be=async P=>{if(P.preventDefault(),!z.restaurantName||!z.restaurantType||!z.restaurantAddress||!z.foodServingCapacity||!z.crowdCapacity||!z.averagePricePerPerson||!z.ownerEmail||!z.ownerPhone){D.error("Please fill in all required fields");return}pe(!0);try{await y({restaurantName:z.restaurantName,restaurantType:z.restaurantType,restaurantAddress:z.restaurantAddress,foodServingCapacity:z.foodServingCapacity,crowdCapacity:z.crowdCapacity,restaurantImages:z.restaurantImages,averagePricePerPerson:z.averagePricePerPerson,operatingHours:z.operatingHours,ownerEmail:z.ownerEmail,ownerPhone:z.ownerPhone});const G=z.restaurantImages&&z.restaurantImages.length>0?z.restaurantImages.join(", "):"N/A",ee=`
        <p>Hello Admin,</p>
        <p>A new restaurant registration request has been submitted. Please verify the details and respond within 24-48 hours.</p>
        <h3>Restaurant Details</h3>
        <ul>
          <li><strong>Name:</strong> ${z.restaurantName}</li>
          <li><strong>Type:</strong> ${z.restaurantType}</li>
          <li><strong>Address:</strong> ${z.restaurantAddress}</li>
          <li><strong>Food Serving Capacity:</strong> ${z.foodServingCapacity}</li>
          <li><strong>Crowd Capacity:</strong> ${z.crowdCapacity}</li>
          <li><strong>Avg Price/Person:</strong> ${z.averagePricePerPerson}</li>
          <li><strong>Operating Hours:</strong> ${z.operatingHours||"N/A"}</li>
          <li><strong>Images:</strong> ${G}</li>
        </ul>
        <h3>Owner Contact</h3>
        <ul>
          <li><strong>Email:</strong> ${z.ownerEmail}</li>
          <li><strong>Phone:</strong> ${z.ownerPhone}</li>
        </ul>
        <h3>Action Required</h3>
        <ol>
          <li>Verify the restaurant and owner's details</li>
          <li>Create owner credentials (username & password)</li>
          <li>Send credentials to owner email above</li>
        </ol>
        <p>Thank you.</p>
      `;try{const ie=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"tablooofficial1@gmail.com",subject:"New Restaurant Registration Request",html:ee})}),Ne=await ie.json();if(!ie.ok||!Ne.ok)throw new Error((Ne==null?void 0:Ne.error)||"Email failed");D.success("Registration submitted and email notification sent to admin.")}catch(ie){console.error("Email API failed, falling back to Gmail compose:",ie);const Ne=encodeURIComponent("New Restaurant Registration Request"),Ie=encodeURIComponent(`Hello Admin,

A new restaurant registration request has been submitted.

Restaurant: ${z.restaurantName}
Type: ${z.restaurantType}
Address: ${z.restaurantAddress}
Food Capacity: ${z.foodServingCapacity}
Crowd Capacity: ${z.crowdCapacity}
Avg Price/Person: ${z.averagePricePerPerson}
Operating Hours: ${z.operatingHours||"N/A"}
Images: ${G}

Owner Email: ${z.ownerEmail}
Owner Phone: ${z.ownerPhone}

Please verify and respond with credentials.`),je=`https://mail.google.com/mail/?view=cm&to=tablooofficial1@gmail.com&su=${Ne}&body=${Ie}`;window.open(je,"_blank"),D.success("Registration submitted. Opened email draft to notify admin.")}se({restaurantName:"",restaurantType:"",foodServingCapacity:0,crowdCapacity:0,averagePricePerPerson:0,operatingHours:"",ownerEmail:"",ownerPhone:"",restaurantAddress:"",restaurantImages:[]})}catch(G){console.error("Error submitting registration:",G)}finally{pe(!1)}},He=P=>{X(G=>({...G,[P]:!G[P]}))};return!t||!Ve?n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Restaurant Registration"}),n.jsx("p",{className:"text-lg text-gray-600",children:"If you haven't registered your restaurant yet, please fill out the form below to request collaboration with us."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Our admin team will review your application and respond within 24-48 hours via email."})]}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Already Have Restaurant Owner Credentials?"}),n.jsx("p",{className:"text-sm text-blue-700",children:"You can log in directly to access your restaurant dashboard."})]})]}),n.jsx("button",{onClick:()=>window.location.href="/auth?role=restaurant_owner",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Login Here"})]})})}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg border p-6 sm:p-8",children:n.jsxs("form",{onSubmit:be,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Restaurant Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:z.restaurantName,onChange:P=>se(G=>({...G,restaurantName:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter restaurant name"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the official name of the restaurant"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Restaurant Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{required:!0,value:z.restaurantType,onChange:P=>se(G=>({...G,restaurantType:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select the type of establishment"}),n.jsx("option",{value:"restaurant",children:"Restaurant"}),n.jsx("option",{value:"hotel",children:"Hotel"}),n.jsx("option",{value:"resort",children:"Resort"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Food Serving Capacity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",required:!0,min:"1",value:z.foodServingCapacity,onChange:P=>se(G=>({...G,foodServingCapacity:parseInt(P.target.value)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Number of people"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum number of people that can be served food"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Crowd Capacity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",required:!0,min:"1",value:z.crowdCapacity,onChange:P=>se(G=>({...G,crowdCapacity:parseInt(P.target.value)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Maximum crowd capacity"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total capacity for events and gatherings"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Average Price per Person () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:z.averagePricePerPerson,onChange:P=>se(G=>({...G,averagePricePerPerson:parseFloat(P.target.value)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Average cost per person"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Typical cost per person for a meal"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),n.jsx("input",{type:"text",value:z.operatingHours,onChange:P=>se(G=>({...G,operatingHours:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"9:00 AM - 11:00 PM"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Standard operating hours (optional)"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Owner Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",required:!0,value:z.ownerEmail,onChange:P=>se(G=>({...G,ownerEmail:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your email address"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Admin will respond to this email"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Owner Phone ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"tel",required:!0,value:z.ownerPhone,onChange:P=>se(G=>({...G,ownerPhone:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your phone number"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Restaurant Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{required:!0,rows:3,value:z.restaurantAddress,onChange:P=>se(G=>({...G,restaurantAddress:P.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter complete restaurant address"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Include street address, city, and state"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Restaurant Images (comma separated URLs)"}),n.jsx("textarea",{rows:2,value:z.restaurantImages.join(", "),onChange:P=>se(G=>({...G,restaurantImages:P.target.value.split(",").map(ee=>ee.trim()).filter(ee=>ee)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"https://image1.jpg, https://image2.jpg"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add image URLs separated by commas"})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Important Information"}),n.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[n.jsxs("p",{children:[" Admin email: ",n.jsx("strong",{children:"tablooofficial1@gmail.com"})]}),n.jsx("p",{children:" Response time: 24-48 hours"}),n.jsx("p",{children:" After approval, you'll receive login credentials via email"}),n.jsx("p",{children:" You can change your password after logging in"})]})]})]})}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsx("button",{type:"submit",disabled:oe,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-3 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:oe?"Submitting...":"Submit Registration Request"})})]})}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Already Have an Account?"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"If you already have restaurant owner credentials, you can log in to access your dashboard."}),n.jsx("button",{onClick:()=>window.location.href="/auth?role=restaurant_owner",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Login to Restaurant Dashboard"})]})})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsx("div",{className:"mb-6 sm:mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:Ve.name}),n.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Restaurant Owner Dashboard"})]}),n.jsxs("div",{className:"text-right mt-2 sm:mt-0",children:[n.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Data refreshes automatically"})]})]})}),n.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border mb-4 sm:mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"mb-3 sm:mb-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Restaurant Status"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Control your restaurant's availability"})]}),n.jsxs("button",{onClick:ln,className:`flex items-center justify-center space-x-2 px-3 py-2 rounded-lg transition-colors text-sm ${Ve.isOpen?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[Ve.isOpen?n.jsx(H9,{className:"h-4 w-4 sm:h-5 sm:w-5"}):n.jsx(q9,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{children:Ve.isOpen?"Open":"Closed"})]})]})}),n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg sm:rounded-xl shadow-sm mb-4 sm:mb-6",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:n.jsx(Xn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Today's Revenue Overview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Revenue from orders and bookings placed today"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg border border-green-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Today's Total Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:["",(()=>{const P=new Date,G=Me.filter(Ie=>Ie.createdAt&&new Date(Ie.createdAt).toDateString()===P.toDateString()),ee=Be.filter(Ie=>Ie.createdAt&&new Date(Ie.createdAt).toDateString()===P.toDateString()),ie=G.reduce((Ie,je)=>Ie+je.total,0),Ne=ee.reduce((Ie,je)=>Ie+je.amount,0);return(ie+Ne).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(()=>{const P=new Date,G=Me.filter(ie=>ie.createdAt&&new Date(ie.createdAt).toDateString()===P.toDateString()),ee=Be.filter(ie=>ie.createdAt&&new Date(ie.createdAt).toDateString()===P.toDateString());return`${G.length+ee.length} transactions`})()}),(()=>{const P=new Date,G=new Date(P);G.setDate(G.getDate()-1);const ee=Me.filter(at=>at.createdAt&&new Date(at.createdAt).toDateString()===P.toDateString()),ie=Be.filter(at=>at.createdAt&&new Date(at.createdAt).toDateString()===P.toDateString()),Ne=ee.reduce((at,zs)=>at+zs.total,0)+ie.reduce((at,zs)=>at+zs.amount,0),Ie=Me.filter(at=>at.createdAt&&new Date(at.createdAt).toDateString()===G.toDateString()),je=Be.filter(at=>at.createdAt&&new Date(at.createdAt).toDateString()===G.toDateString()),Le=Ie.reduce((at,zs)=>at+zs.total,0)+je.reduce((at,zs)=>at+zs.amount,0);if(Le===0)return null;const Is=(Ne-Le)/Le*100,fo=Is>=0;return n.jsxs("div",{className:`mt-2 text-xs font-medium ${fo?"text-green-600":"text-red-600"}`,children:[fo?"":""," ",Math.abs(Is).toFixed(1),"% vs yesterday"]})})()]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-blue-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Orders Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:["",(()=>{const P=new Date;return Me.filter(ee=>ee.createdAt&&new Date(ee.createdAt).toDateString()===P.toDateString()).reduce((ee,ie)=>ee+ie.total,0).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(()=>{const P=new Date;return`${Me.filter(ee=>ee.createdAt&&new Date(ee.createdAt).toDateString()===P.toDateString()).length} orders`})()})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-purple-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Bookings Revenue"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-purple-600",children:["",(()=>{const P=new Date;return Be.filter(ee=>ee.createdAt&&new Date(ee.createdAt).toDateString()===P.toDateString()).reduce((ee,ie)=>ee+ie.amount,0).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(()=>{const P=new Date;return`${Be.filter(ee=>ee.createdAt&&new Date(ee.createdAt).toDateString()===P.toDateString()).length} bookings`})()})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-orange-200 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-orange-600",children:["",(()=>{const P=new Date,G=Me.filter(ie=>ie.createdAt&&new Date(ie.createdAt).toDateString()===P.toDateString());return G.length===0?"0.00":(G.reduce((ie,Ne)=>ie+Ne.total,0)/G.length).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(()=>{const P=new Date;return Me.filter(ee=>ee.createdAt&&new Date(ee.createdAt).toDateString()===P.toDateString()).length>0?"Per order":"No orders today"})()})]})})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-green-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Revenue Breakdown"}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx("div",{className:"space-y-2",children:(()=>{const P=new Date,G=Me.filter(je=>je.createdAt&&new Date(je.createdAt).toDateString()===P.toDateString()),ee=Be.filter(je=>je.createdAt&&new Date(je.createdAt).toDateString()===P.toDateString()),ie=G.reduce((je,Le)=>je+Le.total,0),Ne=ee.reduce((je,Le)=>je+Le.amount,0),Ie=ie+Ne;return Ie===0?n.jsxs("div",{className:"text-center py-4 text-gray-500",children:[n.jsx(Xn,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{className:"text-sm",children:"No revenue generated today"})]}):n.jsxs(n.Fragment,{children:[ie>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Orders"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",ie.toFixed(2)]}),n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(ie/Ie*100).toFixed(1),"%)"]})]})]}),Ne>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Bookings"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",Ne.toFixed(2)]}),n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(Ne/Ie*100).toFixed(1),"%)"]})]})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total"}),n.jsxs("span",{className:"text-lg font-bold text-green-600",children:["",Ie.toFixed(2)]})]})})]})})()})]})]})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg sm:rounded-xl shadow-sm mb-4 sm:mb-6",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:n.jsx(pt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Weekly Revenue Comparison"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Compare this week's revenue with previous weeks"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"This Week"}),n.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-blue-800",children:["",(()=>{const P=new Date,G=new Date(P);G.setDate(P.getDate()-P.getDay()),G.setHours(0,0,0,0);const ee=Me.filter(je=>je.createdAt&&new Date(je.createdAt)>=G),ie=Be.filter(je=>je.createdAt&&new Date(je.createdAt)>=G),Ne=ee.reduce((je,Le)=>je+Le.total,0),Ie=ie.reduce((je,Le)=>je+Le.amount,0);return(Ne+Ie).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:(()=>{const P=new Date,G=new Date(P);G.setDate(P.getDate()-P.getDay()),G.setHours(0,0,0,0);const ee=Me.filter(Ne=>Ne.createdAt&&new Date(Ne.createdAt)>=G),ie=Be.filter(Ne=>Ne.createdAt&&new Date(Ne.createdAt)>=G);return`${ee.length+ie.length} transactions`})()})]})}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Last Week"}),n.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["",(()=>{const P=new Date,G=new Date(P);G.setDate(P.getDate()-P.getDay()-7),G.setHours(0,0,0,0);const ee=new Date(G);ee.setDate(G.getDate()+6),ee.setHours(23,59,59,999);const ie=Me.filter(Le=>Le.createdAt&&new Date(Le.createdAt)>=G&&new Date(Le.createdAt)<=ee),Ne=Be.filter(Le=>Le.createdAt&&new Date(Le.createdAt)>=G&&new Date(Le.createdAt)<=ee),Ie=ie.reduce((Le,Is)=>Le+Is.total,0),je=Ne.reduce((Le,Is)=>Le+Is.amount,0);return(Ie+je).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:(()=>{const P=new Date,G=new Date(P);G.setDate(P.getDate()-P.getDay()-7),G.setHours(0,0,0,0);const ee=new Date(G);ee.setDate(G.getDate()+6),ee.setHours(23,59,59,999);const ie=Me.filter(Ie=>Ie.createdAt&&new Date(Ie.createdAt)>=G&&new Date(Ie.createdAt)<=ee),Ne=Be.filter(Ie=>Ie.createdAt&&new Date(Ie.createdAt)>=G&&new Date(Ie.createdAt)<=ee);return`${ie.length+Ne.length} transactions`})()})]})}),n.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Month to Date"}),n.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-green-800",children:["",(()=>{const P=new Date,G=new Date(P.getFullYear(),P.getMonth(),1),ee=Me.filter(je=>je.createdAt&&new Date(je.createdAt)>=G),ie=Be.filter(je=>je.createdAt&&new Date(je.createdAt)>=G),Ne=ee.reduce((je,Le)=>je+Le.total,0),Ie=ie.reduce((je,Le)=>je+Le.amount,0);return(Ne+Ie).toFixed(2)})()]}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:(()=>{const P=new Date,G=new Date(P.getFullYear(),P.getMonth(),1),ee=Me.filter(Ne=>Ne.createdAt&&new Date(Ne.createdAt)>=G),ie=Be.filter(Ne=>Ne.createdAt&&new Date(Ne.createdAt)>=G);return`${ee.length+ie.length} transactions`})()})]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:n.jsx(js,{className:"h-4 w-4 sm:h-6 sm:w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Orders"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:Me.length})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-lg",children:n.jsx(pt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-purple-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Bookings"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:Be.length})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg",children:n.jsx(Qt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pending Orders"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:Me.filter(P=>P.status==="pending").length})]})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg sm:rounded-xl shadow-sm border col-span-2 lg:col-span-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:n.jsx(Jn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-green-600"})}),n.jsxs("div",{className:"ml-2 sm:ml-4",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Menu Items"}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:Ye.length})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border mb-4 sm:mb-6",children:[n.jsx("div",{className:"border-b",children:n.jsx("nav",{className:"flex overflow-x-auto px-4 sm:px-6",children:[{id:"orders",label:"Orders",count:Me.length},{id:"bookings",label:"Bookings",count:Be.length},{id:"menu",label:"Menu",count:Ye.length},{id:"settings",label:"Settings",count:null}].map(P=>n.jsxs("button",{onClick:()=>k(P.id),className:`py-3 sm:py-4 px-2 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap ${j===P.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[P.label,P.count!==null&&n.jsx("span",{className:"ml-1 sm:ml-2 bg-gray-100 text-gray-600 py-0.5 px-1.5 sm:px-2 rounded-full text-xs",children:P.count})]},P.id))})}),n.jsxs("div",{className:"p-4 sm:p-6",children:[j==="orders"&&n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2 sm:space-y-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Orders"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"px-2 py-1 rounded text-xs font-medium transition-colors bg-gray-100 text-gray-700 hover:bg-gray-200",onClick:()=>{console.log("Toggle today's filter")},children:"Today Only"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Sort by:"}),n.jsxs("select",{className:"px-2 py-1 border border-gray-300 rounded text-xs focus:ring-2 focus:ring-blue-500",onChange:P=>{console.log("Sort orders by:",P.target.value)},children:[n.jsx("option",{value:"newest",children:"Newest First"}),n.jsx("option",{value:"oldest",children:"Oldest First"}),n.jsx("option",{value:"status",children:"By Status"})]})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-blue-900",children:Me.filter(P=>P.createdAt&&new Date(P.createdAt).toDateString()===new Date().toDateString()).length}),n.jsx("p",{className:"text-xs text-blue-700",children:"Today's Orders"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-blue-900",children:Me.filter(P=>P.status==="pending").length}),n.jsx("p",{className:"text-xs text-blue-700",children:"Pending Orders"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-blue-900",children:Me.filter(P=>P.status==="completed").length}),n.jsx("p",{className:"text-xs text-blue-700",children:"Completed Orders"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-lg font-bold text-blue-900",children:["",Me.filter(P=>P.createdAt&&new Date(P.createdAt).toDateString()===new Date().toDateString()).reduce((P,G)=>P+G.total,0).toFixed(2)]}),n.jsx("p",{className:"text-xs text-blue-700",children:"Today's Revenue"})]})]})}),Me.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(js,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"No orders found yet."})]}):n.jsx("div",{className:"space-y-3",children:Me.map(P=>n.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsxs("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Order #",P.id.slice(-6)]}),P.createdAt&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n.jsx(Qt,{className:"h-3 w-3 mr-1"}),df(P.createdAt)]})]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[P.customerName,"  ",P.customerPhone]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["",P.total]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:P.type})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[P.createdAt&&n.jsxs("span",{className:"flex items-center",children:[n.jsx(Qt,{className:"h-3 w-3 mr-1"}),df(P.createdAt)," at ",mu(P.createdAt)]}),P.statusUpdatedAt&&P.statusUpdatedAt!==P.createdAt&&n.jsxs("span",{className:"flex items-center ml-2 text-blue-600",children:[n.jsx(Qt,{className:"h-3 w-3 mr-1"}),"Status updated: ",df(P.statusUpdatedAt)," at ",mu(P.statusUpdatedAt)]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("select",{value:P.status,onChange:G=>we(P.id,G.target.value),disabled:F.has(P.id),className:`px-2 py-1 sm:px-3 sm:py-1 border border-gray-300 rounded text-xs sm:text-sm focus:ring-2 focus:ring-blue-500 ${F.has(P.id)?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"preparing",children:"Preparing"}),n.jsx("option",{value:"ready",children:"Ready"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"completed",children:"Completed"})]}),F.has(P.id)&&n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),n.jsxs("span",{className:`px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs flex items-center space-x-1 ${P.status==="completed"?"bg-green-100 text-green-800":P.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[n.jsx("span",{children:P.status}),L.has(P.id)&&n.jsx("span",{className:"text-green-600",children:""})]})]})]})]},P.id))})]}),j==="bookings"&&n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2 sm:space-y-0",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Table & Event Bookings"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"px-2 py-1 rounded text-xs font-medium transition-colors bg-gray-100 text-gray-700 hover:bg-gray-200",onClick:()=>{console.log("Toggle today's filter")},children:"Today Only"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Sort by:"}),n.jsxs("select",{className:"px-2 py-1 border border-gray-300 rounded text-xs focus:ring-2 focus:ring-blue-500",onChange:P=>{console.log("Sort bookings by:",P.target.value)},children:[n.jsx("option",{value:"newest",children:"Newest First"}),n.jsx("option",{value:"oldest",children:"Oldest First"}),n.jsx("option",{value:"date",children:"By Date"}),n.jsx("option",{value:"status",children:"By Status"})]})]})]}),n.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 mb-4",children:n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-purple-900",children:Be.filter(P=>P.createdAt&&new Date(P.createdAt).toDateString()===new Date().toDateString()).length}),n.jsx("p",{className:"text-xs text-purple-700",children:"Today's Bookings"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-purple-900",children:Be.filter(P=>P.status==="pending").length}),n.jsx("p",{className:"text-xs text-purple-700",children:"Pending Bookings"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-purple-900",children:Be.filter(P=>P.status==="confirmed").length}),n.jsx("p",{className:"text-xs text-purple-700",children:"Confirmed Bookings"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-lg font-bold text-purple-900",children:["",Be.filter(P=>P.createdAt&&new Date(P.createdAt).toDateString()===new Date().toDateString()).reduce((P,G)=>P+G.amount,0).toFixed(2)]}),n.jsx("p",{className:"text-xs text-purple-700",children:"Today's Revenue"})]})]})}),Be.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"No bookings found yet."})]}):n.jsx("div",{className:"space-y-3",children:Be.map(P=>n.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 flex-1",children:[n.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${P.type==="table"?"bg-blue-100":"bg-purple-100"}`,children:P.type==="table"?n.jsx(pt,{className:`h-4 w-4 sm:h-5 sm:w-5 ${P.type==="table"?"text-blue-600":"text-purple-600"}`}):n.jsx(Bh,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsxs("h4",{className:"font-medium text-gray-900 text-sm sm:text-base flex items-center",children:[P.type==="table"?"Table Booking":"Event Booking"," #",P.id.slice(-6),P.occasion&&n.jsxs("span",{className:"ml-1 sm:ml-2 text-xs sm:text-sm text-gray-500",children:["(",P.occasion,")"]})]}),P.createdAt&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[n.jsx(Qt,{className:"h-3 w-3 mr-1"}),hf(P.createdAt)]})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1 mt-1",children:[n.jsxs("p",{className:"flex items-center",children:[n.jsx(pt,{className:"h-3 w-3 mr-1"}),P.date," at ",P.time]}),n.jsxs("p",{className:"flex items-center",children:[n.jsx(Jn,{className:"h-3 w-3 mr-1"}),P.customers," ",P.customers===1?"person":"people"]}),n.jsxs("p",{className:"flex items-center",children:[n.jsx(Cr,{className:"h-3 w-3 mr-1"}),P.phone]}),P.customerNames.length>0&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Names: ",P.customerNames.join(", ")]}),P.placeForEvent&&n.jsxs("p",{className:"flex items-center text-xs text-gray-500",children:[n.jsx(Fe,{className:"h-3 w-3 mr-1"}),P.placeForEvent]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["",P.amount.toFixed(2)," paid"]}),n.jsxs("span",{className:`inline-block px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs flex items-center space-x-1 ${P.status==="confirmed"?"bg-green-100 text-green-800":P.status==="pending"?"bg-yellow-100 text-yellow-800":P.status==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:[n.jsx("span",{children:P.status}),L.has(P.id)&&n.jsx("span",{className:"text-green-600",children:""})]})]})]}),(P.specialRequests||P.description||P.foodOptions)&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[P.description&&n.jsxs("div",{className:"mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Description: "}),P.description]}),P.foodOptions&&n.jsxs("div",{className:"mb-2",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Food Preferences: "}),P.foodOptions]}),P.specialRequests&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Special Requests: "}),P.specialRequests]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-3 pt-3 border-t border-gray-100 space-y-2 sm:space-y-0",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Qt,{className:"h-3 w-3 mr-1"}),"Booked on ",hf(P.createdAt)," at ",mu(P.createdAt)]}),P.statusUpdatedAt&&P.statusUpdatedAt!==P.createdAt&&n.jsxs("span",{className:"flex items-center ml-2 text-purple-600",children:[n.jsx(Qt,{className:"h-3 w-3 mr-1"}),"Status updated: ",hf(P.statusUpdatedAt)," at ",mu(P.statusUpdatedAt)]}),n.jsxs("span",{className:"ml-4",children:["Payment: ",P.paymentStatus]})]}),n.jsxs("select",{value:P.status,onChange:G=>gt(P.id,G.target.value),disabled:F.has(P.id),className:`px-2 py-1 sm:px-3 sm:py-1 border border-gray-300 rounded text-xs sm:text-sm focus:ring-2 focus:ring-blue-500 ${F.has(P.id)?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),F.has(P.id)&&n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"})]})]},P.id))})]}),j==="menu"&&n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2 sm:space-y-0",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Menu Items"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your restaurant's menu items"})]}),n.jsxs("button",{onClick:()=>w(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all flex items-center justify-center space-x-2 text-sm font-medium shadow-lg",children:[n.jsx(fs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{children:"Add Menu Item"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-4",children:[n.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[n.jsx("p",{className:"text-lg font-bold text-gray-900",children:Ye.length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Total Items"})]}),n.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[n.jsx("p",{className:"text-lg font-bold text-green-600",children:Ye.filter(P=>P.available).length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Available"})]}),n.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[n.jsx("p",{className:"text-lg font-bold text-red-600",children:Ye.filter(P=>!P.available).length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Unavailable"})]}),n.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[n.jsx("p",{className:"text-lg font-bold text-blue-600",children:Ye.filter(P=>P.category==="veg").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Vegetarian"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Ye.map(P=>n.jsxs("div",{className:`border rounded-lg p-3 sm:p-4 transition-all ${P.available?"bg-white":"bg-gray-50"}`,children:[P.image&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:P.image,alt:P.name,className:`w-full h-24 sm:h-32 object-cover rounded-lg mb-2 sm:mb-3 transition-all ${P.available?"":"opacity-50 grayscale"}`,onError:G=>{G.currentTarget.src="https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg"}}),!P.available&&n.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Unavailable"})]}),n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:`font-medium text-gray-900 text-sm sm:text-base ${P.available?"":"line-through text-gray-500"}`,children:P.name}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[P.itemCategory,"  ",P.quantity]})]}),n.jsx("span",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0 ml-1 ${P.category==="veg"?"bg-green-500":"bg-red-500"}`,title:P.category==="veg"?"Vegetarian":"Non-Vegetarian"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("p",{className:`font-semibold text-gray-900 text-sm sm:text-base ${P.available?"":"text-gray-500"}`,children:["",P.price]}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx("button",{onClick:()=>ar(P),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit menu item",children:n.jsx(iE,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),n.jsx("button",{onClick:()=>re(P),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete menu item",children:n.jsx(gc,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t",children:n.jsx("button",{onClick:()=>f(P.id,!P.available),className:`w-full flex items-center justify-center space-x-2 px-3 py-2 rounded-lg transition-all text-sm font-medium ${P.available?"bg-green-100 text-green-800 hover:bg-green-200 border border-green-300":"bg-red-100 text-red-800 hover:bg-red-200 border border-red-300"}`,title:P.available?"Click to mark as unavailable":"Click to mark as available",children:P.available?n.jsxs(n.Fragment,{children:[n.jsx(kn,{className:"h-4 w-4"}),n.jsx("span",{children:"Available"})]}):n.jsxs(n.Fragment,{children:[n.jsx(wi,{className:"h-4 w-4"}),n.jsx("span",{children:"Unavailable"})]})})})]},P.id))}),Ye.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(js,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No menu items yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Start building your menu by adding your first item"}),n.jsxs("button",{onClick:()=>w(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto",children:[n.jsx(fs,{className:"h-5 w-5"}),n.jsx("span",{children:"Add Your First Menu Item"})]})]})]}),j==="settings"&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Restaurant Settings"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),n.jsx("input",{type:"text",value:Ve.timings,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Type"}),n.jsx("input",{type:"text",value:Ve.type,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm",readOnly:!0})]})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),n.jsx("input",{type:"number",value:Ve.capacity,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Average Price"}),n.jsx("input",{type:"text",value:`${Ve.price}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm",readOnly:!0})]})]})]}),n.jsx("div",{className:"border-t pt-6",children:n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-base font-semibold text-gray-900",children:"Account Security"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Change your login password"})]}),n.jsxs("button",{onClick:()=>V(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[n.jsx(V9,{className:"h-4 w-4"}),n.jsx("span",{children:"Change Password"})]})]})})]})]})]}),N&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Add New Menu Item"}),n.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Rt,{className:"h-5 w-5"})})]}),n.jsxs("form",{onSubmit:kt,className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Food Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:ue.category,onChange:P=>Ee(G=>({...G,category:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"veg",children:"Vegetarian"}),n.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select food type"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:ue.itemCategory,onChange:P=>Ee(G=>({...G,itemCategory:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Select category"}),_e.map(P=>n.jsx("option",{value:P,children:P.charAt(0).toUpperCase()+P.slice(1)},P))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose item category"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:ue.name,onChange:P=>Ee(G=>({...G,name:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter item name"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the name of your menu item"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity/Size ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:ue.quantity,onChange:P=>Ee(G=>({...G,quantity:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 1 plate, 500ml"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Specify quantity or size"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:ue.price,onChange:P=>Ee(G=>({...G,price:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0.00"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set item price"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),n.jsx("input",{type:"url",value:ue.image,onChange:P=>Ee(G=>({...G,image:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://example.com/image.jpg"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add image URL for better presentation"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-lg hover:from-blue-700 hover:to-blue-800 text-sm font-medium transition-all shadow-lg",children:"Add Menu Item"})]})]})]})}),T&&_&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Edit Menu Item"}),n.jsx("button",{onClick:ge,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),n.jsxs("form",{onSubmit:J,className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Food Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:ue.category,onChange:P=>Ee(G=>({...G,category:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"veg",children:"Vegetarian"}),n.jsx("option",{value:"non-veg",children:"Non-Vegetarian"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select food type"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:ue.itemCategory,onChange:P=>Ee(G=>({...G,itemCategory:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Select category"}),_e.map(P=>n.jsx("option",{value:P,children:P.charAt(0).toUpperCase()+P.slice(1)},P))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose item category"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:ue.name,onChange:P=>Ee(G=>({...G,name:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter item name"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the name of your menu item"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity/Size ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:ue.quantity,onChange:P=>Ee(G=>({...G,quantity:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 1 plate, 500ml"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Specify quantity or size"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price () ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:ue.price,onChange:P=>Ee(G=>({...G,price:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set item price"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),n.jsx("input",{type:"url",value:ue.image,onChange:P=>Ee(G=>({...G,image:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://example.com/image.jpg"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:ge,className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-lg hover:from-blue-700 hover:to-blue-800 text-sm font-medium transition-all shadow-lg",children:"Update Menu Item"})]})]})]})}),x&&M&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-full mr-3 sm:mr-4",children:n.jsx(JT,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Delete Menu Item"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"This action cannot be undone"})]})]}),n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsxs("p",{className:"text-sm sm:text-base text-gray-700",children:["Are you sure you want to delete ",n.jsx("strong",{children:M.name}),"?"]}),n.jsx("p",{className:"text-xs sm:text-sm text-red-600 mt-2",children:"This menu item will be permanently removed from your restaurant."})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[n.jsx("button",{onClick:B,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),n.jsx("button",{onClick:Q,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Delete Item"})]})]})}),I&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Change Password"}),n.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{className:"h-5 w-5"})})]}),n.jsxs("form",{onSubmit:it,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:q.current?"text":"password",required:!0,value:U.currentPassword,onChange:P=>R(G=>({...G,currentPassword:P.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter current password"}),n.jsx("button",{type:"button",onClick:()=>He("current"),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:q.current?n.jsx(wi,{className:"h-4 w-4"}):n.jsx(kn,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:q.new?"text":"password",required:!0,value:U.newPassword,onChange:P=>R(G=>({...G,newPassword:P.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter new password"}),n.jsx("button",{type:"button",onClick:()=>He("new"),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:q.new?n.jsx(wi,{className:"h-4 w-4"}):n.jsx(kn,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:q.confirm?"text":"password",required:!0,value:U.confirmPassword,onChange:P=>R(G=>({...G,confirmPassword:P.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Confirm new password"}),n.jsx("button",{type:"button",onClick:()=>He("confirm"),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:q.confirm?n.jsx(wi,{className:"h-4 w-4"}):n.jsx(kn,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>V(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"}),n.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Change Password"})]})]})]})})]})})},UF=()=>{const{user:t}=$t(),{orders:e}=ir(),[s,r]=E.useState((t==null?void 0:t.isOnline)||!1),[i,a]=E.useState(null),[o,l]=E.useState([]),[c,d]=E.useState(null),[h,f]=E.useState(!1);E.useEffect(()=>{const x=[{id:"1",orderId:"ORD001",customerName:"John Doe",customerPhone:"+91 98765 43210",customerAddress:"123 Main St, City Center, Bangalore",restaurantName:"Spice Garden",restaurantAddress:"456 Food Court, Mall Road, Bangalore",items:[{name:"Butter Chicken",quantity:2,price:350},{name:"Naan",quantity:4,price:30}],totalAmount:820,deliveryFee:50,status:"assigned",assignedAt:new Date,estimatedDeliveryTime:new Date(Date.now()+27e5),specialInstructions:"Please deliver to the main gate"},{id:"2",orderId:"ORD002",customerName:"Jane Smith",customerPhone:"+91 98765 43211",customerAddress:"789 Park Avenue, Downtown, Bangalore",restaurantName:"Pizza Palace",restaurantAddress:"321 Shopping Complex, High Street, Bangalore",items:[{name:"Margherita Pizza",quantity:1,price:450},{name:"Garlic Bread",quantity:1,price:120}],totalAmount:620,deliveryFee:40,status:"picked_up",assignedAt:new Date(Date.now()-18e5),pickedUpAt:new Date(Date.now()-9e5),estimatedDeliveryTime:new Date(Date.now()+12e5),specialInstructions:"Ring the bell twice"}];l(x)},[]),E.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(x=>{const{latitude:g,longitude:_}=x.coords;a({latitude:g,longitude:_})},x=>{console.error("Error getting location:",x),D.error("Unable to get your location")})},[]),E.useEffect(()=>{let x;return s&&i&&(x=setInterval(()=>{const g=i.latitude+(Math.random()-.5)*.001,_=i.longitude+(Math.random()-.5)*.001;a({latitude:g,longitude:_})},1e4)),()=>{x&&clearInterval(x)}},[s,i]);const m=()=>{r(!s),D.success(s?"You are now offline":"You are now online")},y=(x,g)=>{l(A=>A.map(M=>M.id===x?{...M,status:g,...g==="picked_up"&&{pickedUpAt:new Date},...g==="delivered"&&{deliveredAt:new Date}}:M));const _=o.find(A=>A.id===x);_&&D.success(`Order ${_.orderId} status updated to ${g.replace("_"," ")}`)},N=x=>{switch(x){case"assigned":return"bg-blue-100 text-blue-800";case"picked_up":return"bg-yellow-100 text-yellow-800";case"on_way":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=x=>{switch(x){case"assigned":return n.jsx(js,{className:"h-4 w-4"});case"picked_up":return n.jsx($i,{className:"h-4 w-4"});case"on_way":return n.jsx(Fd,{className:"h-4 w-4"});case"delivered":return n.jsx(Qa,{className:"h-4 w-4"});default:return n.jsx(js,{className:"h-4 w-4"})}},v=(()=>{const x=new Date,g=new Date(x.getTime()-7*24*60*60*1e3),_=new Date(x.getFullYear(),x.getMonth(),1),A=o.filter(k=>k.status==="delivered"),M=A.reduce((k,I)=>k+I.deliveryFee,0),C=A.filter(k=>k.deliveredAt&&k.deliveredAt>=g).reduce((k,I)=>k+I.deliveryFee,0),j=A.filter(k=>k.deliveredAt&&k.deliveredAt>=_).reduce((k,I)=>k+I.deliveryFee,0);return{total:M,thisWeek:C,thisMonth:j}})();return!t||t.role!=="delivery_boy"?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(js,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Access Denied"}),n.jsx("p",{className:"text-gray-500",children:"This dashboard is only for delivery personnel."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(js,{className:"h-8 w-8 text-red-600"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Delivery Dashboard"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Location:"}),i?n.jsxs("span",{className:"text-sm font-medium text-green-600",children:[i.latitude.toFixed(4),", ",i.longitude.toFixed(4)]}):n.jsx("span",{className:"text-sm text-red-600",children:"Getting location..."})]}),n.jsxs("button",{onClick:m,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${s?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[s?n.jsx(Q9,{className:"h-4 w-4"}):n.jsx(K9,{className:"h-4 w-4"}),n.jsx("span",{children:s?"Online":"Offline"})]})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Xn,{className:"h-5 w-5 text-green-600 mr-2"}),"Earnings Summary"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",v.total]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Earnings"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",v.thisMonth]}),n.jsx("p",{className:"text-sm text-gray-600",children:"This Month"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",v.thisWeek]}),n.jsx("p",{className:"text-sm text-gray-600",children:"This Week"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Assigned Orders"})}),n.jsx("div",{className:"divide-y divide-gray-200",children:o.length===0?n.jsxs("div",{className:"p-6 text-center text-gray-500",children:[n.jsx(js,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"No orders assigned yet"}),n.jsx("p",{className:"text-sm",children:"Stay online to receive orders"})]}):o.map(x=>{var g;return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium text-gray-900",children:["Order #",x.orderId]}),n.jsx("p",{className:"text-sm text-gray-600",children:x.restaurantName})]}),n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N(x.status)}`,children:[w(x.status),n.jsx("span",{className:"ml-1",children:x.status.replace("_"," ").toUpperCase()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(hs,{className:"h-4 w-4 mr-2"}),"Customer Details"]}),n.jsx("p",{className:"text-sm text-gray-900",children:x.customerName}),n.jsx("p",{className:"text-sm text-gray-600",children:x.customerPhone}),n.jsx("p",{className:"text-sm text-gray-600",children:x.customerAddress})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Restaurant"]}),n.jsx("p",{className:"text-sm text-gray-900",children:x.restaurantName}),n.jsx("p",{className:"text-sm text-gray-600",children:x.restaurantAddress})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Order Items"}),n.jsx("div",{className:"space-y-1",children:x.items.map((_,A)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:[_.quantity,"x ",_.name]}),n.jsxs("span",{className:"text-gray-600",children:["",_.price]})]},A))}),n.jsxs("div",{className:"border-t pt-2 mt-2",children:[n.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",x.totalAmount]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[n.jsx("span",{children:"Delivery Fee:"}),n.jsxs("span",{children:["",x.deliveryFee]})]})]})]}),x.specialInstructions&&n.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Special Instructions"}),n.jsx("p",{className:"text-sm text-yellow-700",children:x.specialInstructions})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(Qt,{className:"h-4 w-4"}),n.jsxs("span",{children:["ETA: ",(g=x.estimatedDeliveryTime)==null?void 0:g.toLocaleTimeString()]})]}),n.jsxs("div",{className:"flex space-x-2",children:[x.status==="assigned"&&n.jsx("button",{onClick:()=>y(x.id,"picked_up"),className:"px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Mark Picked Up"}),x.status==="picked_up"&&n.jsx("button",{onClick:()=>y(x.id,"on_way"),className:"px-3 py-2 bg-purple-600 text-white text-sm rounded-lg hover:bg-purple-700 transition-colors",children:"Start Delivery"}),x.status==="on_way"&&n.jsx("button",{onClick:()=>y(x.id,"delivered"),className:"px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:"Mark Delivered"})]})]})]},x.id)})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>f(!h),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx($9,{className:"h-4 w-4"}),n.jsx("span",{children:h?"Hide Map":"Show Live Map"})]}),n.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(Fd,{className:"h-4 w-4"}),n.jsx("span",{children:"Update Location"})]}),n.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx(js,{className:"h-4 w-4"}),n.jsx("span",{children:"View All Orders"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Stats"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Orders Assigned"}),n.jsx("span",{className:"font-semibold text-blue-600",children:o.filter(x=>x.assignedAt.toDateString()===new Date().toDateString()).length})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Orders Delivered"}),n.jsx("span",{className:"font-semibold text-green-600",children:o.filter(x=>{var g;return x.status==="delivered"&&((g=x.deliveredAt)==null?void 0:g.toDateString())===new Date().toDateString()}).length})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Today's Earnings"}),n.jsxs("span",{className:"font-semibold text-green-600",children:["",o.filter(x=>{var g;return x.status==="delivered"&&((g=x.deliveredAt)==null?void 0:g.toDateString())===new Date().toDateString()}).reduce((x,g)=>x+g.deliveryFee,0)]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(hs,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:t.name}),n.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Partner"})]})]}),t.vehicleDetails&&n.jsxs("div",{className:"pt-3 border-t",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Vehicle: ",t.vehicleDetails.type]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Number: ",t.vehicleDetails.number]})]})]})]})]})]}),h&&n.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Live Location Tracking"}),n.jsx("div",{className:"bg-gray-100 rounded-lg h-96 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(Fe,{className:"h-16 w-16 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"Google Maps integration would be here"}),n.jsx("p",{className:"text-sm",children:"Showing real-time location updates"}),i&&n.jsxs("p",{className:"text-xs mt-2",children:["Current: ",i.latitude.toFixed(6),", ",i.longitude.toFixed(6)]})]})})]})]})]})},BF=({onSave:t,onCancel:e,initialData:s,isEditing:r=!1})=>{const[i,a]=E.useState((s==null?void 0:s.label)||""),[o,l]=E.useState((s==null?void 0:s.location)||{lat:0,lng:0,address:"",formattedAddress:""}),[c,d]=E.useState((s==null?void 0:s.details)||{street:"",city:"",state:"",pincode:"",landmark:"",addressType:"home"}),h=m=>{if(l(m),m.formattedAddress){const y=m.formattedAddress.split(", ");if(y.length>=3){const N={...c};N.street=y[0]||"",y.length>=2&&(N.city=y[y.length-3]||""),y.length>=2&&(N.state=y[y.length-2]||"");const w=y[y.length-1];w&&/^\d{6}$/.test(w)&&(N.pincode=w),d(N)}}},f=()=>{if(!i.trim()){alert("Please enter an address label");return}const m=o.formattedAddress&&o.lat!==0&&o.lng!==0,y=c.street&&c.city&&c.state&&c.pincode;if(!m&&!y){alert("Please either select a location on the map OR fill in the address details manually");return}t({label:i,details:c,location:m?o:void 0})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r?"Edit Address":"Add New Address"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{className:"h-5 w-5"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Label *"}),n.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),placeholder:"e.g., Home, Work, Office",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Type *"}),n.jsxs("select",{value:c.addressType,onChange:m=>d({...c,addressType:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"home",children:"Home"}),n.jsx("option",{value:"work",children:"Work"}),n.jsx("option",{value:"office",children:"Office"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Location on Map (Optional)"}),n.jsxs("div",{className:"mb-2 text-xs text-gray-600",children:[" ",n.jsx("strong",{children:"You can either:"}),n.jsxs("ul",{className:"mt-1 ml-4 list-disc",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Option 1:"})," Select a location on the map (auto-fills address details)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Option 2:"})," Skip the map and fill in address details manually below"]})]}),n.jsx("p",{className:"mt-2 text-blue-600",children:n.jsx("strong",{children:"How to use the map:"})}),n.jsxs("ul",{className:"mt-1 ml-4 list-disc",children:[n.jsx("li",{children:"Type your address in the search box above the map"}),n.jsx("li",{children:"Click anywhere on the map to select a location"}),n.jsx("li",{children:'Use the "Use Current Location" button'})]})]}),n.jsx(l0,{onLocationSelect:h,initialLocation:o.lat!==0?o:void 0,placeholder:"Search for your address..."})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:" Address Details:"})," Fill in your address details below."]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),n.jsx("input",{type:"text",value:c.street,onChange:m=>d({...c,street:m.target.value}),placeholder:"House/Flat number, Street name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",value:c.city,onChange:m=>d({...c,city:m.target.value}),placeholder:"City name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsx("input",{type:"text",value:c.state,onChange:m=>d({...c,state:m.target.value}),placeholder:"State name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),n.jsx("input",{type:"text",value:c.pincode,onChange:m=>d({...c,pincode:m.target.value}),placeholder:"6-digit pincode",maxLength:6,pattern:"[0-9]{6}",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark (Optional)"}),n.jsx("input",{type:"text",value:c.landmark,onChange:m=>d({...c,landmark:m.target.value}),placeholder:"e.g., Near Metro Station, Behind Mall",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(c.street||c.city||c.state||c.pincode||o.formattedAddress)&&n.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Fe,{className:"h-4 w-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:" Address Preview:"}),o.formattedAddress?n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["From Map: ",o.formattedAddress]}),c.street&&n.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Manual Details: ",c.street,", ",c.city,", ",c.state," ",c.pincode,c.landmark&&` (${c.landmark})`]})]}):n.jsxs("p",{className:"text-sm text-green-800",children:[c.street&&`${c.street}, `,c.city&&`${c.city}, `,c.state&&`${c.state} `,c.pincode&&`${c.pincode}`,c.landmark&&` (${c.landmark})`]})]})]})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium",children:r?"Update Address":"Save Address"}),n.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 font-medium",children:"Cancel"})]})]})},$F=()=>{const{user:t,updateUser:e,isDefaultUsername:s,logout:r}=$t(),{orders:i,bookings:a}=ir(),[o,l]=E.useState("profile"),[c,d]=E.useState(!1),[h,f]=E.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[m,y]=E.useState([]),[N,w]=E.useState(!1),[T,v]=E.useState(null);E.useEffect(()=>{t&&f({name:t.name||"",email:t.email||"",phone:t.phone||""})},[t]);const x=i.filter(j=>j.userId===(t==null?void 0:t.id)),g=a.filter(j=>j.userId===(t==null?void 0:t.id)),_=async()=>{await e({name:h.name})&&d(!1)},A=j=>{if(T)y(k=>k.map(I=>I.id===T.id?{...j,id:I.id,isDefault:I.isDefault}:I)),v(null);else{const k={...j,id:Date.now().toString(),isDefault:m.length===0};y(I=>[...I,k])}w(!1)},M=j=>{confirm("Are you sure you want to delete this address?")&&y(k=>k.filter(I=>I.id!==j))},C=j=>{y(k=>k.map(I=>({...I,isDefault:I.id===j})))};return t?n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"My Profile"}),n.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Manage your account and view your activity"})]}),s(t.name)&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-red-600 text-sm font-semibold",children:"!"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"Update Your Profile Name"}),n.jsx("p",{className:"text-sm text-red-700 mb-3",children:"You're currently using a temporary username. Please update your name below to personalize your profile and improve your experience."}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:"text-xs text-red-600 bg-red-100 px-2 py-1 rounded",children:["Current: ",t.name]})})]})]})}),n.jsx("div",{className:"lg:hidden mb-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:n.jsx(hs,{className:"h-6 w-6 text-blue-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:t.name}),n.jsx("p",{className:"text-xs text-gray-600",children:t.phone||t.email})]}),n.jsxs("button",{onClick:async()=>{await r()},className:"w-full mb-4 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-xs flex items-center justify-center space-x-2",children:[n.jsx(Op,{className:"h-4 w-4"}),n.jsx("span",{children:"Logout"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"profile",label:"Profile",icon:hs,count:null},{id:"orders",label:"Orders",icon:js,count:x.length},{id:"bookings",label:"Bookings",icon:pt,count:g.length},{id:"addresses",label:"Addresses",icon:Fe,count:m.length},{id:"wallet",label:"Wallet",icon:ki,count:null}].map(j=>{const k=j.icon;return n.jsxs("button",{onClick:()=>l(j.id),className:`flex flex-col items-center p-2 rounded-lg text-xs transition-colors ${o===j.id?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(k,{className:"h-4 w-4 mb-1"}),n.jsx("span",{className:"text-center",children:j.label}),j.count!==null&&n.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-1 py-0.5 rounded-full mt-1",children:j.count})]},j.id)})})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6",children:[n.jsx("div",{className:"hidden lg:block lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(hs,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),n.jsx("p",{className:"text-sm text-gray-600",children:t.phone||t.email})]}),n.jsxs("button",{onClick:async()=>{await r()},className:"w-full mb-4 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm flex items-center justify-center space-x-2",children:[n.jsx(Op,{className:"h-4 w-4"}),n.jsx("span",{children:"Logout"})]}),n.jsx("nav",{className:"space-y-2",children:[{id:"profile",label:"Profile Info",icon:hs,count:null},{id:"orders",label:"My Orders",icon:js,count:x.length},{id:"bookings",label:"My Bookings",icon:pt,count:g.length},{id:"addresses",label:"Addresses",icon:Fe,count:m.length},{id:"wallet",label:"Wallet",icon:ki,count:null}].map(j=>{const k=j.icon;return n.jsxs("button",{onClick:()=>l(j.id),className:`w-full flex items-center justify-between p-3 rounded-lg text-left transition-colors ${o===j.id?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(k,{className:"h-4 w-4 mr-3"}),n.jsx("span",{children:j.label})]}),j.count!==null&&n.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:j.count})]},j.id)})})]})}),n.jsx("div",{className:"lg:col-span-3",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[o==="profile"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-0",children:"Profile Information"}),n.jsxs("button",{onClick:()=>c?_():d(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[n.jsx(rE,{className:"h-4 w-4"}),n.jsx("span",{children:c?"Save Changes":"Edit Profile"})]})]}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(hs,{className:"h-4 w-4 inline mr-1"}),"Full Name",s(h.name)&&n.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Temporary"})]}),c?n.jsx("input",{type:"text",value:h.name,onChange:j=>f(k=>({...k,name:j.target.value})),placeholder:s(h.name)?"Enter your real name":"Enter your name",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm ${s(h.name)?"border-yellow-300 bg-yellow-50 focus:ring-yellow-500":"border-gray-300"}`}):n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:`px-3 py-2 rounded-lg text-sm ${s(h.name)?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-gray-50 text-gray-900"}`,children:h.name}),s(h.name)&&n.jsx("div",{className:"absolute -top-2 -right-2",children:n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:"Temporary"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pc,{className:"h-4 w-4 inline mr-1"}),"Email Address"]}),c?n.jsx("input",{type:"email",value:h.email,onChange:j=>f(k=>({...k,email:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}):n.jsx("p",{className:"text-gray-900 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:h.email||"Not provided"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Cr,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),c?n.jsxs("div",{children:[n.jsx("input",{type:"tel",value:h.phone,readOnly:!0,className:"w-full px-3 py-2 border border-gray-200 bg-gray-50 text-gray-600 rounded-lg text-sm cursor-not-allowed"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Phone number cannot be changed."})]}):n.jsx("p",{className:"text-gray-900 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:h.phone})]}),c&&n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),n.jsx("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Save Changes"})]})]})]}),o==="orders"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"My Orders"}),x.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(js,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"No orders found"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:x.map(j=>n.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2 sm:mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Order #",j.id.slice(-6)]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[n.jsx(Qt,{className:"h-3 w-3 sm:h-4 sm:w-4 inline mr-1"}),j.createdAt.toLocaleDateString()]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["",j.total.toFixed(2)]}),n.jsx("span",{className:`inline-block px-1 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${j.status==="completed"?"bg-green-100 text-green-800":j.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:j.status})]})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[n.jsxs("p",{children:["Type: ",j.type==="delivery"?"Home Delivery":"Self Pickup"]}),n.jsxs("p",{children:["Items: ",j.items.length," item(s)"]}),j.address&&n.jsxs("p",{className:"truncate",children:["Address: ",j.address]})]})]},j.id))})]}),o==="bookings"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"My Bookings"}),g.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"No bookings found"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:g.map(j=>n.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2 sm:mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:[j.type==="table"?"Table Booking":"Event Booking"," #",j.id.slice(-6)]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[n.jsx(Qt,{className:"h-3 w-3 sm:h-4 sm:w-4 inline mr-1"}),j.date," at ",j.time]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["",j.amount.toFixed(2)," paid"]}),n.jsx("span",{className:`inline-block px-1 py-0.5 sm:px-2 sm:py-1 rounded-full text-xs ${j.status==="confirmed"?"bg-green-100 text-green-800":j.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:j.status})]})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[n.jsxs("p",{children:["Customers: ",j.customers]}),n.jsxs("p",{children:["Phone: ",j.phone]}),n.jsxs("p",{children:["Payment: ",j.paymentStatus==="paid"?"Advance Paid":"Pending"]})]})]},j.id))})]}),o==="addresses"&&n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 sm:mb-0",children:"Saved Addresses"}),n.jsxs("button",{onClick:()=>w(!0),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm flex items-center space-x-2",children:[n.jsx(fs,{className:"h-4 w-4"}),n.jsx("span",{children:"Add New Address"})]})]}),m.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Fe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No addresses saved"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first address to get started"}),n.jsx("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Address"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:m.map(j=>{var k,I;return n.jsx("div",{className:"border rounded-lg p-3 sm:p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base mr-2",children:j.label}),j.isDefault&&n.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-1 py-0.5 rounded-full",children:"Default"})]}),n.jsxs("p",{className:"text-gray-600 flex items-start text-xs sm:text-sm",children:[n.jsx(Fe,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 mt-0.5 text-gray-400 flex-shrink-0"}),n.jsxs("span",{className:"line-clamp-2",children:[((k=j.location)==null?void 0:k.formattedAddress)||`${j.details.street}, ${j.details.city}, ${j.details.state} ${j.details.pincode}`,j.details.landmark&&!((I=j.location)!=null&&I.formattedAddress)&&` (${j.details.landmark})`]})]})]}),n.jsxs("div",{className:"flex flex-col space-y-1 ml-2",children:[n.jsx("button",{onClick:()=>{v(j),w(!0)},className:"text-blue-600 hover:text-blue-700 text-xs sm:text-sm",children:"Edit"}),n.jsx("button",{onClick:()=>M(j.id),className:"text-red-600 hover:text-red-700 text-xs sm:text-sm",children:"Delete"}),!j.isDefault&&n.jsx("button",{onClick:()=>C(j.id),className:"text-green-600 hover:text-green-700 text-xs sm:text-sm",children:"Set Default"})]})]})},j.id)})})]}),o==="wallet"&&n.jsx("div",{className:"p-4 sm:p-6",children:n.jsx("div",{className:"text-center py-12 sm:py-16",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(ki,{className:"h-10 w-10 sm:h-12 sm:w-12 text-white"})}),n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Coming Soon!"}),n.jsx("p",{className:"text-gray-600 text-base sm:text-lg mb-6 leading-relaxed",children:"We're working hard to bring you an amazing digital wallet experience. Stay tuned for exciting features like secure payments, instant transfers, and much more!"}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3 text-sm sm:text-base",children:"What's Coming:"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-600",children:"Secure Digital Wallet"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-600",children:"Instant Money Transfer"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-600",children:"Bill Payments"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-gray-600",children:"Transaction History"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"Get notified when the wallet launches!"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-3 py-2 border border-blue-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium transition-colors",children:"Notify Me"})]})]})]})})})]})})]}),N&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsx(BF,{onSave:A,onCancel:()=>{w(!1),v(null)},initialData:T,isEditing:!!T})})})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Please log in"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"You need to be logged in to view your profile."})]})})},zF=()=>{const t=bs();return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(Yi,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Privacy Policy"}),n.jsx("p",{className:"text-gray-600",children:"Effective Date: December 2024"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Welcome to Tabuloo. We value your privacy and are committed to protecting your personal data. This Privacy Policy describes how Tabuloo collects, uses, shares, and protects information about users of our mobile application and website ("Platform").'})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Information We Collect"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"We may collect the following types of data:"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"a. Personal Information"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-4",children:[n.jsx("li",{children:"Name"}),n.jsx("li",{children:"Phone number"}),n.jsx("li",{children:"Email address"}),n.jsx("li",{children:"Date of birth (optional)"}),n.jsx("li",{children:"Location (only with permission)"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"b. Transactional & Booking Data"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-4",children:[n.jsx("li",{children:"Orders placed"}),n.jsx("li",{children:"Table booking details"}),n.jsx("li",{children:"Pickup time and location"}),n.jsx("li",{children:"Event registrations"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"c. Device & Usage Data"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-4",children:[n.jsx("li",{children:"IP address"}),n.jsx("li",{children:"Device type"}),n.jsx("li",{children:"App usage behavior"}),n.jsx("li",{children:"Cookies and log files"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"d. Payment Data"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-4",children:[n.jsx("li",{children:"Partial card/UPI information (processed securely by payment gateways like Razorpay)"}),n.jsx("li",{children:"Transaction history"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 italic",children:"Note: We do not store your full card or UPI credentials."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. How We Use Your Information"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Your data is used strictly to improve your experience and fulfill services. Specifically, we use your information to:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Provide order delivery, table reservations, and event booking services"}),n.jsx("li",{children:"Communicate offers, confirmations, and alerts"}),n.jsx("li",{children:"Process payments securely"}),n.jsx("li",{children:"Personalize recommendations and UX"}),n.jsx("li",{children:"Ensure platform security and prevent fraud"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. How We Share Your Information"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"We do not sell your data to any third parties. However, we may share your data with:"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border border-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Entity"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Purpose"})]})}),n.jsxs("tbody",{className:"text-sm text-gray-700",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"Restaurant Partners"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"To fulfill your orders and reservations"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"Payment Gateways"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"For secure payment processing"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"SMS/Email Providers"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"To send notifications or updates"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"Legal Authorities"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"Only when required by law (e.g., fraud investigation)"})]})]})]})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. User Rights"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"You have the right to:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Access your personal data"}),n.jsx("li",{children:"Request data correction or deletion"}),n.jsx("li",{children:"Withdraw consent for marketing"}),n.jsx("li",{children:"Request account deletion (by contacting: support@tabuloo.com)"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Cookies & Tracking"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"We may use cookies, device identifiers, and tracking tools to:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Save login sessions"}),n.jsx("li",{children:"Analyze user behavior to improve performance"})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"You can control cookie settings in your browser/app permissions."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"7. Data Security"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"We implement strict security measures:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"SSL encryption"}),n.jsx("li",{children:"Two-factor authentication (for merchants/admins)"}),n.jsx("li",{children:"Secure API communication"}),n.jsx("li",{children:"Limited internal access to sensitive data"})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"However, no system is 100% secure. You use the Platform at your own risk."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"8. Children's Privacy"}),n.jsx("p",{className:"text-gray-700",children:"Tabuloo is not intended for use by persons under the age of 13. We do not knowingly collect data from minors."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"9. Changes to This Policy"}),n.jsx("p",{className:"text-gray-700",children:"We may update this Privacy Policy from time to time. Any changes will be reflected on this page with an updated effective date. Continued use of the app after changes implies your agreement."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"10. Contact Us"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"If you have questions about this policy or your data, contact us at:"}),n.jsxs("div",{className:"space-y-2 text-gray-700",children:[n.jsx("p",{children:" Email: support@tabuloo.com"}),n.jsx("p",{children:" Address: [Your Registered Office Address]"}),n.jsx("p",{children:" Phone: [Customer Care Number]"})]})]})]})]})})},qF=()=>{const t=bs();return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(Yi,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Terms & Conditions"}),n.jsx("p",{className:"text-gray-600",children:"Company Name: Tabuloo"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Acceptance of Terms"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:`By accessing or using Tabuloo's mobile application or website ("Platform"), you agree to be bound by these Terms & Conditions ("Terms"). If you do not agree, please do not use the Platform.`})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Services Provided"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Tabuloo offers:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Online food ordering and pickup"}),n.jsx("li",{children:"Table reservations at partner restaurants"}),n.jsx("li",{children:"Event booking and group dining coordination"}),n.jsx("li",{children:"Pre-ordering and dine-in scheduling with friends"})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"We act as a facilitator between you and restaurants; we do not own or control the restaurants listed on our platform."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. User Accounts"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"You must be at least 13 years old to use Tabuloo."}),n.jsx("li",{children:"You are responsible for maintaining the confidentiality of your login credentials."}),n.jsx("li",{children:"You agree to provide accurate and updated information during registration and use."})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Ordering & Payments"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Orders can be placed for dine-in, pickup, or future scheduling."}),n.jsx("li",{children:"All payments must be made through our integrated payment partners (e.g., Razorpay)."}),n.jsx("li",{children:"Prices are shown inclusive of applicable taxes and platform fees."}),n.jsx("li",{children:"Restaurants are solely responsible for food preparation, quality, and service."})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Cancellations & Refunds"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Table Booking: Cancellable up to 2 hours in advance (refund policy applies)."}),n.jsx("li",{children:"Food Orders: Non-refundable once accepted by the restaurant."}),n.jsx("li",{children:"Events: Refunds depend on event type, partner policy, and timing."})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"Tabuloo may offer goodwill credits in special cases at its sole discretion."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. User Conduct"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"You agree not to:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Abuse, harass, threaten, or impersonate others"}),n.jsx("li",{children:"Interfere with app functionality or misuse the platform"}),n.jsx("li",{children:"Attempt unauthorized access to systems or accounts"}),n.jsx("li",{children:"Use Tabuloo for any unlawful purpose"})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"Violations may lead to account suspension or legal action."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"7. Intellectual Property"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"All content on Tabuloo (logos, branding, UI, etc.) is owned by or licensed to us."}),n.jsx("li",{children:"You may not reproduce, copy, or redistribute any part of the platform without permission."})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"8. Partner Restaurant Responsibilities"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Restaurants listed on Tabuloo are responsible for:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Accuracy of menus, pricing, and availability"}),n.jsx("li",{children:"Hygiene and FSSAI compliance"}),n.jsx("li",{children:"Order fulfillment and customer service"}),n.jsx("li",{children:"Complying with local and national laws"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"9. Limitation of Liability"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Tabuloo is not liable for:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Food-related issues (allergies, delays, quality)"}),n.jsx("li",{children:"Restaurant closures or operational failures"}),n.jsx("li",{children:"External delivery services or third-party apps"}),n.jsx("li",{children:"Any indirect, incidental, or consequential damages"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"10. Modifications to Terms"}),n.jsx("p",{className:"text-gray-700",children:"We may revise these Terms from time to time. Updates will be posted on our platform with an effective date. Continued use of the app constitutes your acceptance of the updated Terms."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"11. Termination"}),n.jsx("p",{className:"text-gray-700",children:"Tabuloo reserves the right to suspend or terminate your access if you violate these Terms or engage in fraudulent or abusive activity."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"12. Governing Law"}),n.jsx("p",{className:"text-gray-700",children:"These Terms shall be governed by and interpreted under the laws of India, and any disputes will be subject to the jurisdiction of courts in Bangalore."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"13. Contact Us"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"For questions, complaints, or support:"}),n.jsxs("div",{className:"space-y-2 text-gray-700",children:[n.jsx("p",{children:" Email: support@tabuloo.com"}),n.jsx("p",{children:" Phone: [Insert support number]"}),n.jsx("p",{children:" Office Address: [Insert registered office address]"})]})]}),n.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-700 font-medium",children:"By using Tabuloo, you agree to all the terms outlined above."})})]})]})})},HF=()=>{const t=bs();return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(Yi,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Refund Policy"}),n.jsx("p",{className:"text-gray-600",children:"Last Updated: December 2024"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Overview"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"At Tabuloo, we strive to provide excellent service and ensure customer satisfaction. This refund policy outlines the conditions under which refunds are available for our various services."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Table Bookings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cancellation Timeline"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"More than 2 hours before booking:"})," 100% refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"1-2 hours before booking:"})," 50% refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Less than 1 hour before booking:"})," No refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"No-show:"})," No refund"]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Restaurant Cancellations"}),n.jsx("p",{className:"text-gray-700",children:"If a restaurant cancels your booking due to unforeseen circumstances (closure, special events, etc.), you will receive a 100% refund or the option to reschedule."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Food Orders"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"General Policy"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Food orders are generally non-refundable once accepted by the restaurant"}),n.jsx("li",{children:"Exceptions may apply for quality issues or incorrect orders"}),n.jsx("li",{children:"Pre-orders can be cancelled up to 30 minutes before pickup time"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Quality Issues"}),n.jsx("p",{className:"text-gray-700",children:"If you receive food that is clearly spoiled, contaminated, or significantly different from what was ordered, contact our support team within 2 hours of receiving the order. We will work with the restaurant to provide a refund or replacement."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Wrong Orders"}),n.jsx("p",{className:"text-gray-700",children:"If you receive the wrong order, contact us immediately. We will coordinate with the restaurant to provide the correct order or a full refund."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Event Bookings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cancellation Policy"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"More than 48 hours before event:"})," 100% refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"24-48 hours before event:"})," 75% refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"12-24 hours before event:"})," 50% refund"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Less than 12 hours before event:"})," No refund"]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Special Events"}),n.jsx("p",{className:"text-gray-700",children:"For special events, corporate bookings, or large group reservations, specific terms may apply. These will be clearly communicated at the time of booking."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Platform Fees"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Service Charges"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Platform fees are non-refundable unless the entire order is cancelled"}),n.jsx("li",{children:"Processing fees charged by payment gateways are non-refundable"}),n.jsx("li",{children:"In case of full refunds, platform fees will be refunded"})]})]})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Refund Processing"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Timeline"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Refunds are processed within 5-7 business days"}),n.jsx("li",{children:"Credit card refunds may take 7-10 business days to appear on your statement"}),n.jsx("li",{children:"UPI refunds are typically processed within 24-48 hours"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Refund Method"}),n.jsx("p",{className:"text-gray-700",children:"Refunds will be processed through the same payment method used for the original transaction. If that method is no longer available, we will contact you to arrange an alternative refund method."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Dispute Resolution"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"How to Request a Refund"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Contact our support team via email: support@tabuloo.com"}),n.jsx("li",{children:"Include your order/booking ID and reason for refund"}),n.jsx("li",{children:"Provide any relevant photos or documentation"}),n.jsx("li",{children:"We will review your request within 24 hours"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Appeals"}),n.jsx("p",{className:"text-gray-700",children:"If your refund request is denied, you may appeal the decision by providing additional information or documentation. Our team will review your appeal within 48 hours."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"7. Exceptions"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Force Majeure"}),n.jsx("p",{className:"text-gray-700",children:"In cases of natural disasters, government orders, or other force majeure events, refund policies may be adjusted. We will communicate any changes promptly."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Goodwill Refunds"}),n.jsx("p",{className:"text-gray-700",children:"Tabuloo may offer goodwill refunds or credits in special circumstances at our sole discretion, even when standard refund policies do not apply."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"8. Contact Information"}),n.jsxs("div",{className:"space-y-2 text-gray-700",children:[n.jsx("p",{children:" Email: support@tabuloo.com"}),n.jsx("p",{children:" Phone: [Customer Care Number]"}),n.jsx("p",{children:" Support Hours: 9:00 AM - 9:00 PM (IST)"}),n.jsx("p",{children:" Address: [Your Registered Office Address]"})]})]}),n.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Important Note"}),n.jsx("p",{className:"text-yellow-700",children:"This refund policy is subject to change. Any updates will be posted on our platform with an updated effective date. Continued use of our services constitutes acceptance of the updated policy."})]})]})]})})},WF=()=>{const t=bs();return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(Yi,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Shipping & Delivery Policy"}),n.jsx("p",{className:"text-gray-600",children:"Last Updated: December 2024"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Overview"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"At Tabuloo, we understand the importance of timely delivery and excellent service. This shipping and delivery policy outlines our delivery standards, timeframes, and service areas for both food delivery and table reservations."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Food Delivery Service"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Delivery Areas"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Primary Service Areas"}),n.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[n.jsx("li",{children:" Madanapalle City"}),n.jsx("li",{children:" Devalam Extation"}),n.jsx("li",{children:" Chittoor City"}),n.jsx("li",{children:" Palamaner"}),n.jsx("li",{children:" Punganur"}),n.jsx("li",{children:" Thamballapalle"})]})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[n.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Extended Areas"}),n.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:" Tirupati"}),n.jsx("li",{children:" Puttur"}),n.jsx("li",{children:" Vayalpad"}),n.jsx("li",{children:" Kuppam"})]}),n.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"* Additional delivery fee may apply"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Delivery Timeframes"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx(Qt,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-semibold text-blue-800",children:"Standard Delivery"}),n.jsx("p",{className:"text-sm text-blue-700",children:"30-45 minutes"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx($i,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-semibold text-green-800",children:"Express Delivery"}),n.jsx("p",{className:"text-sm text-green-700",children:"20-30 minutes"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsx(Bl,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-semibold text-purple-800",children:"Scheduled Delivery"}),n.jsx("p",{className:"text-sm text-purple-700",children:"Pre-booked time"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Delivery Charges"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border border-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Distance"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Standard Fee"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Express Fee"}),n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b",children:"Free Delivery"})]})}),n.jsxs("tbody",{className:"text-sm text-gray-700",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"0-3 km"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"30"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"50"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"Orders above 200"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"3-5 km"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"50"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"70"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"Orders above 300"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"5-8 km"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"70"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"90"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"Orders above 500"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 border-b",children:"8+ km"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"100"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"120"}),n.jsx("td",{className:"px-4 py-2 border-b",children:"Not available"})]})]})]})})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Table Reservation Service"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Reservation Timeframes"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Advance Booking"}),n.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[n.jsx("li",{children:" Up to 30 days in advance"}),n.jsx("li",{children:" Preferred for special occasions"}),n.jsx("li",{children:" Guaranteed table availability"})]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Same Day Booking"}),n.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[n.jsx("li",{children:" Available up to 2 hours before"}),n.jsx("li",{children:" Subject to availability"}),n.jsx("li",{children:" Real-time table status"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Reservation Policies"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Qa,{className:"h-5 w-5 text-green-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Table Holding"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Your table will be held for 15 minutes beyond your scheduled time."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Qa,{className:"h-5 w-5 text-green-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Group Bookings"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Special arrangements available for groups of 8+ people with advance notice."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(I9,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"No-Show Policy"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Repeated no-shows may result in booking restrictions."})]})]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Delivery Standards"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Food Safety & Packaging"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Temperature Control"}),n.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[n.jsx("li",{children:" Hot food maintained at 60C+"}),n.jsx("li",{children:" Cold items kept at 4C or below"}),n.jsx("li",{children:" Insulated delivery bags"}),n.jsx("li",{children:" Temperature monitoring"})]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Packaging Standards"}),n.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[n.jsx("li",{children:" Tamper-evident packaging"}),n.jsx("li",{children:" Leak-proof containers"}),n.jsx("li",{children:" Eco-friendly materials"}),n.jsx("li",{children:" Proper labeling"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Delivery Partner Standards"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Bl,{className:"h-5 w-5 text-green-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Safety Protocols"}),n.jsx("p",{className:"text-sm text-gray-700",children:"All delivery partners follow strict hygiene and safety protocols."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Fe,{className:"h-5 w-5 text-blue-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Real-time Tracking"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Track your order in real-time through our app."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Qt,{className:"h-5 w-5 text-purple-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Contactless Delivery"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Contactless delivery option available for all orders."})]})]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Service Hours"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Food Delivery"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Monday - Friday"}),n.jsx("span",{className:"text-gray-700",children:"10:00 AM - 11:00 PM"})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Saturday - Sunday"}),n.jsx("span",{className:"text-gray-700",children:"9:00 AM - 12:00 AM"})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Public Holidays"}),n.jsx("span",{className:"text-gray-700",children:"10:00 AM - 11:00 PM"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Table Reservations"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Advance Booking"}),n.jsx("span",{className:"text-gray-700",children:"24/7 Online"})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Same Day Booking"}),n.jsx("span",{className:"text-gray-700",children:"Until 8:00 PM"})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium",children:"Customer Support"}),n.jsx("span",{className:"text-gray-700",children:"9:00 AM - 9:00 PM"})]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Delivery Issues & Support"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Common Issues"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Late Delivery"}),n.jsx("p",{className:"text-sm text-red-700",children:"If your order is delayed by more than 15 minutes, contact us immediately for compensation."})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Wrong Order"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Report incorrect items within 30 minutes of delivery for immediate replacement."})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Contact Information"}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"For delivery-related issues, contact our support team:"}),n.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[n.jsx("p",{children:" Email: delivery@tabuloo.com"}),n.jsx("p",{children:" Phone: +91 91009 33477"}),n.jsx("p",{children:" Support Hours: 9:00 AM - 9:00 PM (IST)"})]})]})]})]})]}),n.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Important Notes"}),n.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:" Delivery times may vary during peak hours and adverse weather conditions"}),n.jsx("li",{children:" Some restaurants may have different delivery areas and timeframes"}),n.jsx("li",{children:" Table reservations are subject to restaurant availability"}),n.jsx("li",{children:" We reserve the right to modify delivery areas and charges based on operational requirements"})]})]})]})]})})},GF=()=>{const t=bs();return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(Yi,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"About Tabuloo"}),n.jsx("p",{className:"text-gray-600",children:"Revolutionizing the dining experience"})]}),n.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 rounded-lg p-8 text-white mb-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Our Mission"}),n.jsx("p",{className:"text-lg leading-relaxed",children:"To connect food lovers with exceptional dining experiences through innovative technology, making every meal memorable and every reservation seamless."})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Our Story"}),n.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Founded in 2024, Tabuloo emerged from a simple observation: dining out should be effortless and enjoyable. We noticed that despite the digital age, booking tables, ordering food, and coordinating group events remained fragmented and often frustrating experiences."}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our team of food enthusiasts and technology experts came together to create a comprehensive platform that streamlines every aspect of the dining journey. From individual table bookings to large event coordination, Tabuloo serves as the bridge between diners and restaurants, ensuring both parties have the best possible experience."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"What We Do"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Table Reservations"}),n.jsx("p",{className:"text-gray-700",children:"Instant table booking at partner restaurants with real-time availability and flexible scheduling options."})]}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Food Ordering"}),n.jsx("p",{className:"text-gray-700",children:"Pre-order meals for pickup or dine-in, with customizable options and dietary preferences."})]}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Event Management"}),n.jsx("p",{className:"text-gray-700",children:"Coordinate group dining experiences, corporate events, and special celebrations with ease."})]}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Social Dining"}),n.jsx("p",{className:"text-gray-700",children:"Connect with friends, plan group outings, and share dining experiences seamlessly."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Our Values"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Jn,{className:"h-8 w-8 text-red-800"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Community First"}),n.jsx("p",{className:"text-gray-700",children:"We believe in building strong relationships between diners, restaurants, and our platform."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Fp,{className:"h-8 w-8 text-red-800"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Innovation"}),n.jsx("p",{className:"text-gray-700",children:"Continuously improving our technology to provide the best possible user experience."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(A9,{className:"h-8 w-8 text-red-800"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quality"}),n.jsx("p",{className:"text-gray-700",children:"Partnering only with restaurants that meet our high standards for food and service."})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Our Impact"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"For Diners"}),n.jsxs("ul",{className:"text-gray-700 space-y-2",children:[n.jsx("li",{children:" Seamless booking experience"}),n.jsx("li",{children:" Time-saving pre-ordering"}),n.jsx("li",{children:" Better dining coordination"}),n.jsx("li",{children:" Access to exclusive offers"})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"For Restaurants"}),n.jsxs("ul",{className:"text-gray-700 space-y-2",children:[n.jsx("li",{children:" Increased table utilization"}),n.jsx("li",{children:" Reduced no-shows"}),n.jsx("li",{children:" Better customer insights"}),n.jsx("li",{children:" Streamlined operations"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Our Technology"}),n.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Tabuloo leverages cutting-edge technology to provide a seamless dining experience:"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Real-time Integration"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"Live synchronization with restaurant systems for accurate availability and instant confirmations."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Smart Recommendations"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"AI-powered suggestions based on your preferences, location, and dining history."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Secure Payments"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"Multiple payment options with bank-grade security and fraud protection."})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Mobile-First Design"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"Optimized for mobile devices with intuitive navigation and fast loading times."})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-lg",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Our Vision"}),n.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We envision a world where dining out is always effortless, enjoyable, and memorable. Our goal is to become the go-to platform for all dining-related activities, from casual meals to grand celebrations."}),n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(O9,{className:"h-8 w-8 text-red-800 mr-3"}),n.jsx("span",{className:"text-gray-700 font-medium",children:"Expanding across India and beyond, one table at a time."})]})]}),n.jsxs("div",{className:"text-center bg-red-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Get in Touch"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Have questions about Tabuloo? We'd love to hear from you!"}),n.jsx("button",{onClick:()=>t("/contact"),className:"bg-gradient-to-r from-red-800 to-red-900 text-white px-6 py-3 rounded-lg hover:from-red-900 hover:to-red-950 transition-all font-medium",children:"Contact Us"})]})]})]})})},KF=()=>{const t=bs(),[e,s]=E.useState({name:"",email:"",phone:"",subject:"",message:""}),[r,i]=E.useState(!1),a=l=>{const{name:c,value:d}=l.target;s(h=>({...h,[c]:d}))},o=async l=>{l.preventDefault(),i(!0),setTimeout(()=>{D.success("Thank you for your message! We'll get back to you soon."),s({name:"",email:"",phone:"",subject:"",message:""}),i(!1)},2e3)};return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-red-800 hover:text-red-900 mb-4 transition-colors",children:[n.jsx(Yi,{className:"h-5 w-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Contact Us"}),n.jsx("p",{className:"text-gray-600",children:"We'd love to hear from you. Get in touch with us!"})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Get in Touch"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(pc,{className:"h-6 w-6 text-red-800"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Email"}),n.jsx("p",{className:"text-gray-700",children:"support@tabuloo.com"}),n.jsx("p",{className:"text-gray-700",children:"business@tabuloo.com"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(Cr,{className:"h-6 w-6 text-red-800"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Phone"}),n.jsx("p",{className:"text-gray-700",children:"+91 91009 33477"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(Fe,{className:"h-6 w-6 text-red-800"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Office Address"}),n.jsxs("p",{className:"text-gray-700",children:["Tabuloo Technologies Pvt. Ltd.",n.jsx("br",{}),"6-237-98-79, Devalam Extation",n.jsx("br",{}),"Madanapalle, Madanapalle",n.jsx("br",{}),"Chittoor- 517325",n.jsx("br",{}),"Andhra Pradesh, India"]})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(Qt,{className:"h-6 w-6 text-red-800"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Business Hours"}),n.jsx("p",{className:"text-gray-700",children:"Monday - Friday: 9:00 AM - 6:00 PM"}),n.jsx("p",{className:"text-gray-700",children:"Saturday: 10:00 AM - 4:00 PM"}),n.jsx("p",{className:"text-gray-700",children:"Sunday: Closed"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"How Can We Help?"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Customer Support"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"For order issues, refunds, and general inquiries"})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Restaurant Partnerships"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"For restaurants interested in partnering with us"})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Technical Support"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"For app issues, bugs, and technical problems"})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Business Inquiries"}),n.jsx("p",{className:"text-gray-700 text-sm",children:"For partnerships, investments, and business opportunities"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-red-800 to-red-900 rounded-lg p-6 text-white",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Quick Help"}),n.jsx("p",{className:"mb-4",children:"Find answers to common questions in our FAQ section."}),n.jsx("button",{onClick:()=>t("/faq"),className:"bg-white text-red-800 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"View FAQ"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Send us a Message"}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),n.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),n.jsxs("select",{id:"subject",name:"subject",value:e.subject,onChange:a,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select a subject"}),n.jsx("option",{value:"general",children:"General Inquiry"}),n.jsx("option",{value:"support",children:"Customer Support"}),n.jsx("option",{value:"partnership",children:"Restaurant Partnership"}),n.jsx("option",{value:"technical",children:"Technical Issue"}),n.jsx("option",{value:"business",children:"Business Inquiry"}),n.jsx("option",{value:"feedback",children:"Feedback"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),n.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Tell us how we can help you..."})]}),n.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-red-800 to-red-900 text-white py-3 px-6 rounded-lg font-medium hover:from-red-900 hover:to-red-950 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(U9,{className:"h-5 w-5 mr-2"}),"Send Message"]})})]})]})]}),n.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Follow Us"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("a",{href:"#",className:"bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 transition-colors",children:[n.jsx("span",{className:"sr-only",children:"Facebook"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]}),n.jsxs("a",{href:"#",className:"bg-pink-600 text-white p-3 rounded-full hover:bg-pink-700 transition-colors",children:[n.jsx("span",{className:"sr-only",children:"Instagram"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987 6.62 0 11.987-5.367 11.987-11.987C24.014 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.708 13.744 3.708 12.447s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323c-.875.807-2.026 1.297-3.323 1.297zm7.718-1.297c-.875.807-2.026 1.297-3.323 1.297s-2.448-.49-3.323-1.297c-.807-.875-1.297-2.026-1.297-3.323s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323z"})})]}),n.jsxs("a",{href:"#",className:"bg-blue-400 text-white p-3 rounded-full hover:bg-blue-500 transition-colors",children:[n.jsx("span",{className:"sr-only",children:"Twitter"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})]}),n.jsxs("a",{href:"#",className:"bg-blue-700 text-white p-3 rounded-full hover:bg-blue-800 transition-colors",children:[n.jsx("span",{className:"sr-only",children:"LinkedIn"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})]})]})]})]})})},QF=({isOpen:t,onClose:e})=>{const{user:s}=$t(),{addEventRequirement:r}=ir(),[i,a]=E.useState({eventType:"wedding",eventDate:"",location:"",guestCount:50,budget:{min:1e4,max:5e4,currency:"INR"},notes:"",priority:"medium"}),[o,l]=E.useState([]),[c,d]=E.useState(!1),[h,f]=E.useState({}),m=[{value:"wedding",label:"Wedding",icon:""},{value:"birthday",label:"Birthday",icon:""},{value:"corporate",label:"Corporate",icon:""},{value:"parties",label:"Parties",icon:""},{value:"others",label:"Others",icon:""}],y=[{value:"low",label:"Low",color:"text-green-600"},{value:"medium",label:"Medium",color:"text-yellow-600"},{value:"high",label:"High",color:"text-red-600"}],N=(g,_)=>{if(g.includes(".")){const[A,M]=g.split(".");a(C=>({...C,[A]:{...C[A],[M]:_}}))}else a(A=>({...A,[g]:_}));h[g]&&f(A=>({...A,[g]:""}))},w=g=>{const A=Array.from(g.target.files||[]).filter(M=>M.size>5*1024*1024?(D.error(`${M.name} is too large. Maximum size is 5MB.`),!1):M.type.startsWith("image/")?!0:(D.error(`${M.name} is not an image file.`),!1));if(o.length+A.length>5){D.error("Maximum 5 images allowed.");return}l(M=>[...M,...A])},T=g=>{l(_=>_.filter((A,M)=>M!==g))},v=()=>{const g={};return i.eventDate?new Date(i.eventDate)<=new Date&&(g.eventDate="Event date must be in the future"):g.eventDate="Event date is required",i.location.trim()||(g.location="Location is required"),i.guestCount<1&&(g.guestCount="Guest count must be at least 1"),i.budget.min<0&&(g.budgetMin="Minimum budget cannot be negative"),i.budget.max<i.budget.min&&(g.budgetMax="Maximum budget must be greater than minimum budget"),i.notes.trim()||(g.notes="Please provide some details about your event"),f(g),Object.keys(g).length===0},x=async g=>{if(g.preventDefault(),!!v()){if(!s){D.error("Please sign in to post a requirement");return}d(!0);try{const _=o.map(M=>new Promise(C=>{const j=new FileReader;j.onload=()=>C(j.result),j.readAsDataURL(M)})),A=await Promise.all(_);await r({userId:s.id,eventType:i.eventType,eventDate:i.eventDate,location:i.location,guestCount:i.guestCount,budget:i.budget,notes:i.notes,images:A,status:"open",priority:i.priority}),D.success("Event requirement posted successfully!"),e(),a({eventType:"wedding",eventDate:"",location:"",guestCount:50,budget:{min:1e4,max:5e4,currency:"INR"},notes:"",priority:"medium"}),l([]),f({})}catch(_){console.error("Error posting requirement:",_),D.error("Failed to post requirement. Please try again.")}finally{d(!1)}}};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 bg-white",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Post Your Event Requirement"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:n.jsx(Rt,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),n.jsx("div",{className:"grid grid-cols-5 gap-3",children:m.map(g=>n.jsxs("button",{type:"button",onClick:()=>N("eventType",g.value),className:`p-3 rounded-lg border-2 transition-colors text-center ${i.eventType===g.value?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[n.jsx("div",{className:"text-2xl mb-1",children:g.icon}),n.jsx("div",{className:"text-xs font-medium",children:g.label})]},g.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date *"}),n.jsxs("div",{className:"relative",children:[n.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"date",value:i.eventDate,onChange:g=>N("eventDate",g.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.eventDate?"border-red-500":"border-gray-300"}`,min:new Date().toISOString().split("T")[0]})]}),h.eventDate&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.eventDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:i.location,onChange:g=>N("location",g.target.value),placeholder:"Enter event location",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.location?"border-red-500":"border-gray-300"}`})]}),h.location&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Guest Count *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"number",value:i.guestCount,onChange:g=>N("guestCount",parseInt(g.target.value)),min:"1",max:"1000",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.guestCount?"border-red-500":"border-gray-300"}`})]}),h.guestCount&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.guestCount})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Range *"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Minimum Budget"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"number",value:i.budget.min,onChange:g=>N("budget.min",parseInt(g.target.value)),min:"0",className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.budgetMin?"border-red-500":"border-gray-300"}`})]}),h.budgetMin&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.budgetMin})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Maximum Budget"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"number",value:i.budget.max,onChange:g=>N("budget.max",parseInt(g.target.value)),min:"0",className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.budgetMax?"border-red-500":"border-gray-300"}`})]}),h.budgetMax&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.budgetMax})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:y.map(g=>n.jsx("button",{type:"button",onClick:()=>N("priority",g.value),className:`p-3 rounded-lg border-2 transition-colors text-center ${i.priority===g.value?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:n.jsx("div",{className:`font-medium ${g.color}`,children:g.label})},g.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Details *"}),n.jsxs("div",{className:"relative",children:[n.jsx(M9,{className:"absolute left-3 top-3 text-gray-400 h-5 w-5"}),n.jsx("textarea",{value:i.notes,onChange:g=>N("notes",g.target.value),placeholder:"Describe your event, special requirements, theme, etc.",rows:4,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none ${h.notes?"border-red-500":"border-gray-300"}`})]}),h.notes&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.notes})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Images (Optional)"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:w,className:"hidden",id:"image-upload",disabled:o.length>=5}),n.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer inline-flex flex-col items-center ${o.length>=5?"opacity-50 cursor-not-allowed":"hover:text-red-600"}`,children:[n.jsx(oE,{className:"h-8 w-8 mb-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:o.length>=5?"Maximum 5 images uploaded":"Click to upload images (max 5)"}),n.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB each"})]})]}),o.length>0&&n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:"grid grid-cols-5 gap-2",children:o.map((g,_)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:URL.createObjectURL(g),alt:`Preview ${_+1}`,className:"w-full h-20 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>T(_),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Rt,{className:"h-4 w-4"})})]},_))})})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:c,children:"Cancel"}),n.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Posting..."})]}):n.jsx(n.Fragment,{children:n.jsx("span",{children:"Post Requirement"})})})]})]})]})}):null},YF=({isOpen:t,onClose:e})=>{const{user:s}=$t(),{addEventManager:r}=ir(),[i,a]=E.useState({businessName:"",description:"",categories:[],experience:1,location:"",contactInfo:{phone:"",email:"",website:""},services:[],pricing:{basePrice:1e4,packages:[]}}),[o,l]=E.useState([]),[c,d]=E.useState(!1),[h,f]=E.useState({}),m=[{value:"wedding",label:"Wedding",icon:""},{value:"birthday",label:"Birthday",icon:""},{value:"corporate",label:"Corporate",icon:""},{value:"parties",label:"Parties",icon:""},{value:"others",label:"Others",icon:""}],y=(_,A)=>{if(_.includes(".")){const[M,C]=_.split(".");a(j=>({...j,[M]:{...j[M],[C]:A}}))}else a(M=>({...M,[_]:A}));h[_]&&f(M=>({...M,[_]:""}))},N=_=>{a(A=>({...A,categories:A.categories.includes(_)?A.categories.filter(M=>M!==_):[...A.categories,_]}))},w=()=>{a(_=>({..._,services:[..._.services,{name:"",description:"",price:0,duration:""}]}))},T=(_,A,M)=>{a(C=>({...C,services:C.services.map((j,k)=>k===_?{...j,[A]:M}:j)}))},v=_=>{a(A=>({...A,services:A.services.filter((M,C)=>C!==_)}))},x=()=>{const _={};return i.businessName.trim()||(_.businessName="Business name is required"),i.description.trim()||(_.description="Description is required"),i.categories.length===0&&(_.categories="Please select at least one category"),i.location.trim()||(_.location="Location is required"),i.contactInfo.phone.trim()||(_.phone="Phone number is required"),i.contactInfo.email.trim()||(_.email="Email is required"),f(_),Object.keys(_).length===0},g=async _=>{if(_.preventDefault(),!!x()){if(!s){D.error("Please sign in to post your service");return}d(!0);try{const A=await Promise.all(o.map(M=>new Promise(C=>{const j=new FileReader;j.onload=()=>C(j.result),j.readAsDataURL(M)})));await r({userId:s.id,businessName:i.businessName,description:i.description,categories:i.categories,experience:i.experience,location:i.location,contactInfo:i.contactInfo,portfolio:{images:A,videos:[],pastEvents:[]},services:i.services,availability:{dates:[],timeSlots:[]},pricing:i.pricing,rating:0,reviews:0,verified:!1,featured:!1,status:"pending"}),D.success("Event manager profile created successfully! Pending admin approval."),e(),a({businessName:"",description:"",categories:[],experience:1,location:"",contactInfo:{phone:"",email:"",website:""},portfolio:{images:[],videos:[],pastEvents:[]},services:[],availability:{dates:[],timeSlots:[]},pricing:{basePrice:1e4,packages:[]}}),l([]),f({})}catch(A){console.error("Error creating event manager profile:",A),D.error("Failed to create profile. Please try again.")}finally{d(!1)}}};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Event Manager Profile"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:n.jsx(Rt,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Uh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:i.businessName,onChange:_=>y("businessName",_.target.value),placeholder:"Enter your business name",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.businessName?"border-red-500":"border-gray-300"}`})]}),h.businessName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.businessName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Description *"}),n.jsx("textarea",{value:i.description,onChange:_=>y("description",_.target.value),placeholder:"Describe your business, expertise, and what makes you unique",rows:4,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none ${h.description?"border-red-500":"border-gray-300"}`}),h.description&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.description})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Categories *"}),n.jsx("div",{className:"grid grid-cols-5 gap-3",children:m.map(_=>n.jsxs("button",{type:"button",onClick:()=>N(_.value),className:`p-3 rounded-lg border-2 transition-colors text-center ${i.categories.includes(_.value)?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[n.jsx("div",{className:"text-2xl mb-1",children:_.icon}),n.jsx("div",{className:"text-xs font-medium",children:_.label})]},_.value))}),h.categories&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.categories})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience"}),n.jsx("input",{type:"number",value:i.experience,onChange:_=>y("experience",parseInt(_.target.value)),min:"0",max:"50",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:i.location,onChange:_=>y("location",_.target.value),placeholder:"Enter your location",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.location?"border-red-500":"border-gray-300"}`})]}),h.location&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.location})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"tel",value:i.contactInfo.phone,onChange:_=>y("contactInfo.phone",_.target.value),placeholder:"Enter phone number",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.phone?"border-red-500":"border-gray-300"}`})]}),h.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsxs("div",{className:"relative",children:[n.jsx(pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"email",value:i.contactInfo.email,onChange:_=>y("contactInfo.email",_.target.value),placeholder:"Enter email address",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.email?"border-red-500":"border-gray-300"}`})]}),h.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Services"}),n.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center px-3 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg transition-colors",children:[n.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Service"]})]}),i.services.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:n.jsx("p",{children:'No services added yet. Click "Add Service" to get started.'})}):n.jsx("div",{className:"space-y-4",children:i.services.map((_,A)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("h4",{className:"font-medium text-gray-900",children:["Service ",A+1]}),n.jsx("button",{type:"button",onClick:()=>v(A),className:"text-red-500 hover:text-red-700 transition-colors",children:n.jsx(gc,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Service Name"}),n.jsx("input",{type:"text",value:_.name,onChange:M=>T(A,"name",M.target.value),placeholder:"e.g., Wedding Planning",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Duration"}),n.jsx("input",{type:"text",value:_.duration,onChange:M=>T(A,"duration",M.target.value),placeholder:"e.g., 6 months",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Description"}),n.jsx("textarea",{value:_.description,onChange:M=>T(A,"description",M.target.value),placeholder:"Describe what this service includes",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none"})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Price ()"}),n.jsx("input",{type:"number",value:_.price,onChange:M=>T(A,"price",parseInt(M.target.value)),placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]},A))})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:c,children:"Cancel"}),n.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Creating Profile..."})]}):n.jsx(n.Fragment,{children:n.jsx("span",{children:"Create Profile"})})})]})]})]})}):null},XF=()=>{const{user:t}=$t(),{eventRequirements:e,eventManagers:s}=ir(),[r,i]=E.useState("customer"),[a,o]=E.useState(!1),[l,c]=E.useState(!1),[d,h]=E.useState(""),[f,m]=E.useState("all"),y=[{id:"all",name:"All Events",icon:pt,count:e.length},{id:"wedding",name:"Wedding",icon:eE,count:e.filter(v=>v.eventType==="wedding").length},{id:"birthday",name:"Birthday",icon:pt,count:e.filter(v=>v.eventType==="birthday").length},{id:"corporate",name:"Corporate",icon:Uh,count:e.filter(v=>v.eventType==="corporate").length},{id:"parties",name:"Parties",icon:Bh,count:e.filter(v=>v.eventType==="parties").length},{id:"others",name:"Others",icon:B9,count:e.filter(v=>v.eventType==="others").length}],w=(f==="all"?s.filter(v=>v.status==="approved"):s.filter(v=>v.status==="approved"&&v.categories.includes(f))).filter(v=>v.featured).slice(0,6).map(v=>({id:v.id,name:v.businessName,category:v.categories.join(" & "),location:v.location,rating:v.rating,reviews:v.reviews,experience:`${v.experience}+ years`,startingPrice:`${v.pricing.basePrice.toLocaleString()}`,image:v.portfolio.images[0]||"/api/placeholder/300/200",verified:v.verified,featured:v.featured})),T=v=>{v.preventDefault(),console.log("Searching for:",d)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(rs.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",children:"Event Planning Made Simple"}),n.jsx(rs.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl sm:text-2xl text-red-100 mb-8 max-w-3xl mx-auto",children:"Connect with professional event managers or post your requirements. From intimate gatherings to grand celebrations, we've got you covered."}),n.jsx(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"max-w-2xl mx-auto",children:n.jsxs("form",{onSubmit:T,className:"flex",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ud,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:d,onChange:v=>h(v.target.value),placeholder:"Search for event managers, services, or requirements...",className:"w-full pl-10 pr-4 py-3 text-gray-900 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),n.jsx("button",{type:"submit",className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-r-lg transition-colors",children:"Search"})]})})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsxs("div",{className:"bg-white rounded-lg p-1 shadow-sm",children:[n.jsx("button",{onClick:()=>i("customer"),className:`px-6 py-3 rounded-md font-medium transition-colors ${r==="customer"?"bg-red-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:" I Need Event Manager"}),n.jsx("button",{onClick:()=>i("manager"),className:`px-6 py-3 rounded-md font-medium transition-colors ${r==="manager"?"bg-red-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:" I'm an Event Manager"})]})}),r==="customer"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx(Fp,{className:"h-6 w-6 mr-2 text-red-600"})," Key Features"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(fs,{className:"h-8 w-8 text-red-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Post a Requirement"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Like OLX ad: Event type, date, location, guest count, budget, notes, and optional images."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(Ud,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Browse Managers"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Search & filter by location, budget, event type, ratings."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(kn,{className:"h-8 w-8 text-green-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Ad Detail Page"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manager profile, services, past events, photos/videos, price packages."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(Fu,{className:"h-8 w-8 text-purple-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Chat & Call"}),n.jsx("p",{className:"text-sm text-gray-600",children:"In-app chat (similar to OLX) to negotiate and discuss."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(pt,{className:"h-8 w-8 text-yellow-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Book Now"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Secure booking with integrated payment gateway (Razorpay/Stripe)."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(pt,{className:"h-8 w-8 text-indigo-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Track Events"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Timeline & reminders."})]})]})]}),n.jsx(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-center",children:n.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg text-lg transition-colors shadow-lg hover:shadow-xl",children:[n.jsx(fs,{className:"h-6 w-6 mr-2"}),"Post Your Requirement"]})}),n.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Event Categories"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:y.map(v=>n.jsx("button",{onClick:()=>m(v.id),className:`p-4 rounded-lg border-2 transition-colors ${f===v.id?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx(v.icon,{className:"h-8 w-8 mx-auto mb-2 text-gray-600"}),n.jsx("p",{className:"font-medium text-sm",children:v.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[v.count," services"]})]})},v.id))})]}),n.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Featured Event Managers"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(v=>n.jsxs("div",{className:"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:v.image,alt:v.name,className:"w-full h-48 object-cover"}),v.featured&&n.jsx("div",{className:"absolute top-2 left-2 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Featured"}),v.verified&&n.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white p-1 rounded-full",children:n.jsx(R9,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:v.name}),n.jsxs("div",{className:"flex items-center text-yellow-500",children:[n.jsx(Lp,{className:"h-4 w-4 fill-current"}),n.jsx("span",{className:"ml-1 text-sm font-medium",children:v.rating})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:v.category}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2 flex items-center",children:[n.jsx(Fe,{className:"h-4 w-4 mr-1"}),v.location]}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:[v.experience," experience"]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[v.reviews," reviews"]})]}),n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("span",{className:"text-sm font-medium text-green-600",children:["Starting from ",v.startingPrice]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-colors",children:"View Profile"}),n.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors",children:n.jsx(Fu,{className:"h-4 w-4"})})]})]})]},v.id))})]})]}),r==="manager"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx(Fp,{className:"h-6 w-6 mr-2 text-red-600"})," Key Features"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(W9,{className:"h-8 w-8 text-red-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Create Verified Profile"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Build trust with verified credentials and professional portfolio."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(fs,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Post Services"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Like OLX seller ad: portfolio, categories, packages, availability, pricing."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(aE,{className:"h-8 w-8 text-green-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Receive Leads"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get direct leads from customers posting requirements."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(Fu,{className:"h-8 w-8 text-purple-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Chat with Customers"}),n.jsx("p",{className:"text-sm text-gray-600",children:"In-app communication to discuss requirements and negotiate."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(rE,{className:"h-8 w-8 text-yellow-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Manage Bookings"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Accept/Reject offers and manage your event calendar."})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(ZT,{className:"h-8 w-8 text-indigo-600"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Payments Dashboard"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Track earnings with commission cuts clearly shown."})]})]})]}),n.jsx(rs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-center",children:n.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg text-lg transition-colors shadow-lg hover:shadow-xl",children:[n.jsx(fs,{className:"h-6 w-6 mr-2"}),"Post Your Service"]})})]})]}),n.jsx(QF,{isOpen:a,onClose:()=>o(!1)}),n.jsx(YF,{isOpen:l,onClose:()=>c(!1)})]})},JF=()=>{const{user:t,loading:e}=$t();return e?n.jsx(rO,{}):n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[n.jsx("div",{className:"hidden md:block",children:n.jsx(eO,{})}),n.jsx("main",{className:"flex-1 pb-16 md:pb-0",children:n.jsxs(VI,{children:[n.jsx(ls,{path:"/",element:(t==null?void 0:t.role)==="public_user"?n.jsx($1,{}):(t==null?void 0:t.role)==="admin"?n.jsx(FF,{}):(t==null?void 0:t.role)==="restaurant_owner"?n.jsx(z1,{}):(t==null?void 0:t.role)==="delivery_boy"?n.jsx(UF,{}):n.jsx($1,{})}),n.jsx(ls,{path:"/cart",element:t&&t.role==="public_user"?n.jsx(LF,{}):n.jsx(Rm,{to:"/",replace:!0})}),n.jsx(ls,{path:"/profile",element:t&&t.role==="public_user"?n.jsx($F,{}):n.jsx(Rm,{to:"/",replace:!0})}),n.jsx(ls,{path:"/restaurant-owner",element:n.jsx(z1,{})}),n.jsx(ls,{path:"/auth",element:n.jsx(nO,{})}),n.jsx(ls,{path:"/privacy-policy",element:n.jsx(zF,{})}),n.jsx(ls,{path:"/terms-conditions",element:n.jsx(qF,{})}),n.jsx(ls,{path:"/refund-policy",element:n.jsx(HF,{})}),n.jsx(ls,{path:"/shipping-policy",element:n.jsx(WF,{})}),n.jsx(ls,{path:"/about-us",element:n.jsx(GF,{})}),n.jsx(ls,{path:"/contact-us",element:n.jsx(KF,{})}),n.jsx(ls,{path:"/event-planning",element:n.jsx(XF,{})}),n.jsx(ls,{path:"*",element:n.jsx(Rm,{to:"/",replace:!0})})]})}),n.jsx(sO,{}),n.jsx("div",{className:"hidden md:block",children:n.jsx(tO,{})})]})};function ZF(){return n.jsx(E9,{children:n.jsx(C9,{children:n.jsx(S9,{children:n.jsxs(a4,{children:[n.jsx(JF,{}),n.jsx(rA,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#10B981"}},error:{style:{background:"#EF4444"}}}})]})})})})}r2(document.getElementById("root")).render(n.jsx(E.StrictMode,{children:n.jsx(ZF,{})}));
